"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const lib_1 = require("../../lib");
describe('identity source', () => {
    test('blank amount', () => {
        expect(() => lib_1.IdentitySource.context('')).toThrow(/empty/);
    });
    test('IdentitySource header', () => {
        const identitySource = lib_1.IdentitySource.header('Authorization');
        expect(identitySource.toString()).toEqual('method.request.header.Authorization');
    });
    test('IdentitySource queryString', () => {
        const identitySource = lib_1.IdentitySource.queryString('param');
        expect(identitySource.toString()).toEqual('method.request.querystring.param');
    });
    test('IdentitySource stageVariable', () => {
        const identitySource = lib_1.IdentitySource.stageVariable('var1');
        expect(identitySource.toString()).toEqual('stageVariables.var1');
    });
    test('IdentitySource context', () => {
        const identitySource = lib_1.IdentitySource.context('httpMethod');
        expect(identitySource.toString()).toEqual('context.httpMethod');
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaWRlbnRpdHktc291cmNlLnRlc3QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpZGVudGl0eS1zb3VyY2UudGVzdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLG1DQUEyQztBQUUzQyxRQUFRLENBQUMsaUJBQWlCLEVBQUUsR0FBRyxFQUFFO0lBQy9CLElBQUksQ0FBQyxjQUFjLEVBQUUsR0FBRyxFQUFFO1FBQ3hCLE1BQU0sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxvQkFBYyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUM1RCxDQUFDLENBQUMsQ0FBQztJQUVILElBQUksQ0FBQyx1QkFBdUIsRUFBRSxHQUFHLEVBQUU7UUFDakMsTUFBTSxjQUFjLEdBQUcsb0JBQWMsQ0FBQyxNQUFNLENBQUMsZUFBZSxDQUFDLENBQUM7UUFDOUQsTUFBTSxDQUFDLGNBQWMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxxQ0FBcUMsQ0FBQyxDQUFDO0lBQ25GLENBQUMsQ0FBQyxDQUFDO0lBRUgsSUFBSSxDQUFDLDRCQUE0QixFQUFFLEdBQUcsRUFBRTtRQUN0QyxNQUFNLGNBQWMsR0FBRyxvQkFBYyxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUMzRCxNQUFNLENBQUMsY0FBYyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDLGtDQUFrQyxDQUFDLENBQUM7SUFDaEYsQ0FBQyxDQUFDLENBQUM7SUFFSCxJQUFJLENBQUMsOEJBQThCLEVBQUUsR0FBRyxFQUFFO1FBQ3hDLE1BQU0sY0FBYyxHQUFHLG9CQUFjLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzVELE1BQU0sQ0FBQyxjQUFjLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMscUJBQXFCLENBQUMsQ0FBQztJQUNuRSxDQUFDLENBQUMsQ0FBQztJQUVILElBQUksQ0FBQyx3QkFBd0IsRUFBRSxHQUFHLEVBQUU7UUFDbEMsTUFBTSxjQUFjLEdBQUcsb0JBQWMsQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDNUQsTUFBTSxDQUFDLGNBQWMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO0lBQ2xFLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJZGVudGl0eVNvdXJjZSB9IGZyb20gJy4uLy4uL2xpYic7XG5cbmRlc2NyaWJlKCdpZGVudGl0eSBzb3VyY2UnLCAoKSA9PiB7XG4gIHRlc3QoJ2JsYW5rIGFtb3VudCcsICgpID0+IHtcbiAgICBleHBlY3QoKCkgPT4gSWRlbnRpdHlTb3VyY2UuY29udGV4dCgnJykpLnRvVGhyb3coL2VtcHR5Lyk7XG4gIH0pO1xuXG4gIHRlc3QoJ0lkZW50aXR5U291cmNlIGhlYWRlcicsICgpID0+IHtcbiAgICBjb25zdCBpZGVudGl0eVNvdXJjZSA9IElkZW50aXR5U291cmNlLmhlYWRlcignQXV0aG9yaXphdGlvbicpO1xuICAgIGV4cGVjdChpZGVudGl0eVNvdXJjZS50b1N0cmluZygpKS50b0VxdWFsKCdtZXRob2QucmVxdWVzdC5oZWFkZXIuQXV0aG9yaXphdGlvbicpO1xuICB9KTtcblxuICB0ZXN0KCdJZGVudGl0eVNvdXJjZSBxdWVyeVN0cmluZycsICgpID0+IHtcbiAgICBjb25zdCBpZGVudGl0eVNvdXJjZSA9IElkZW50aXR5U291cmNlLnF1ZXJ5U3RyaW5nKCdwYXJhbScpO1xuICAgIGV4cGVjdChpZGVudGl0eVNvdXJjZS50b1N0cmluZygpKS50b0VxdWFsKCdtZXRob2QucmVxdWVzdC5xdWVyeXN0cmluZy5wYXJhbScpO1xuICB9KTtcblxuICB0ZXN0KCdJZGVudGl0eVNvdXJjZSBzdGFnZVZhcmlhYmxlJywgKCkgPT4ge1xuICAgIGNvbnN0IGlkZW50aXR5U291cmNlID0gSWRlbnRpdHlTb3VyY2Uuc3RhZ2VWYXJpYWJsZSgndmFyMScpO1xuICAgIGV4cGVjdChpZGVudGl0eVNvdXJjZS50b1N0cmluZygpKS50b0VxdWFsKCdzdGFnZVZhcmlhYmxlcy52YXIxJyk7XG4gIH0pO1xuXG4gIHRlc3QoJ0lkZW50aXR5U291cmNlIGNvbnRleHQnLCAoKSA9PiB7XG4gICAgY29uc3QgaWRlbnRpdHlTb3VyY2UgPSBJZGVudGl0eVNvdXJjZS5jb250ZXh0KCdodHRwTWV0aG9kJyk7XG4gICAgZXhwZWN0KGlkZW50aXR5U291cmNlLnRvU3RyaW5nKCkpLnRvRXF1YWwoJ2NvbnRleHQuaHR0cE1ldGhvZCcpO1xuICB9KTtcbn0pO1xuIl19