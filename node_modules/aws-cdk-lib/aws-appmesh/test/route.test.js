"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const assertions_1 = require("../../assertions");
const cdk = require("../../core");
const appmesh = require("../lib");
describe('route', () => {
    describe('When creating new routes', () => {
        test('route has expected defaults', () => {
            // GIVEN
            const stack = new cdk.Stack();
            const mesh = new appmesh.Mesh(stack, 'mesh', {
                meshName: 'test-mesh',
            });
            const router = new appmesh.VirtualRouter(stack, 'router', {
                mesh,
            });
            // WHEN
            const node = mesh.addVirtualNode('test-node', {
                serviceDiscovery: appmesh.ServiceDiscovery.dns('test'),
                listeners: [appmesh.VirtualNodeListener.http()],
            });
            router.addRoute('test-http-route', {
                routeSpec: appmesh.RouteSpec.http({
                    weightedTargets: [
                        {
                            virtualNode: node,
                        },
                    ],
                    timeout: {
                        idle: cdk.Duration.seconds(10),
                        perRequest: cdk.Duration.seconds(11),
                    },
                }),
            });
            router.addRoute('test-http2-route', {
                routeSpec: appmesh.RouteSpec.http2({
                    weightedTargets: [
                        {
                            virtualNode: node,
                        },
                    ],
                    timeout: {
                        idle: cdk.Duration.seconds(12),
                        perRequest: cdk.Duration.seconds(13),
                    },
                }),
            });
            router.addRoute('test-tcp-route', {
                routeSpec: appmesh.RouteSpec.tcp({
                    weightedTargets: [
                        {
                            virtualNode: node,
                        },
                    ],
                    timeout: {
                        idle: cdk.Duration.seconds(14),
                    },
                }),
            });
            router.addRoute('test-grpc-route', {
                routeSpec: appmesh.RouteSpec.grpc({
                    weightedTargets: [
                        {
                            virtualNode: node,
                        },
                    ],
                    match: {
                        serviceName: 'test.svc.local',
                    },
                    timeout: {
                        idle: cdk.Duration.seconds(15),
                        perRequest: cdk.Duration.seconds(16),
                    },
                }),
            });
            // THEN
            assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::AppMesh::Route', {
                Spec: {
                    HttpRoute: {
                        Action: {
                            WeightedTargets: [
                                {
                                    VirtualNode: {
                                        'Fn::GetAtt': [
                                            'meshtestnodeF93946D4',
                                            'VirtualNodeName',
                                        ],
                                    },
                                    Weight: 1,
                                },
                            ],
                        },
                        Match: {
                            Prefix: '/',
                        },
                        Timeout: {
                            Idle: {
                                Value: 10000,
                                Unit: 'ms',
                            },
                            PerRequest: {
                                Value: 11000,
                                Unit: 'ms',
                            },
                        },
                    },
                },
                MeshOwner: assertions_1.Match.absent(),
                RouteName: 'test-http-route',
            });
            assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::AppMesh::Route', {
                Spec: {
                    Http2Route: {
                        Action: {
                            WeightedTargets: [
                                {
                                    VirtualNode: {
                                        'Fn::GetAtt': [
                                            'meshtestnodeF93946D4',
                                            'VirtualNodeName',
                                        ],
                                    },
                                    Weight: 1,
                                },
                            ],
                        },
                        Match: {
                            Prefix: '/',
                        },
                        Timeout: {
                            Idle: {
                                Value: 12000,
                                Unit: 'ms',
                            },
                            PerRequest: {
                                Value: 13000,
                                Unit: 'ms',
                            },
                        },
                    },
                },
                RouteName: 'test-http2-route',
            });
            assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::AppMesh::Route', {
                Spec: {
                    TcpRoute: {
                        Action: {
                            WeightedTargets: [
                                {
                                    VirtualNode: {
                                        'Fn::GetAtt': [
                                            'meshtestnodeF93946D4',
                                            'VirtualNodeName',
                                        ],
                                    },
                                    Weight: 1,
                                },
                            ],
                        },
                        Timeout: {
                            Idle: {
                                Value: 14000,
                                Unit: 'ms',
                            },
                        },
                    },
                },
                RouteName: 'test-tcp-route',
            });
            assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::AppMesh::Route', {
                Spec: {
                    GrpcRoute: {
                        Action: {
                            WeightedTargets: [
                                {
                                    VirtualNode: {
                                        'Fn::GetAtt': [
                                            'meshtestnodeF93946D4',
                                            'VirtualNodeName',
                                        ],
                                    },
                                    Weight: 1,
                                },
                            ],
                        },
                        Match: {
                            ServiceName: 'test.svc.local',
                        },
                        Timeout: {
                            Idle: {
                                Value: 15000,
                                Unit: 'ms',
                            },
                            PerRequest: {
                                Value: 16000,
                                Unit: 'ms',
                            },
                        },
                    },
                },
                RouteName: 'test-grpc-route',
            });
        });
        test('should have expected features', () => {
            // GIVEN
            const stack = new cdk.Stack();
            const mesh = new appmesh.Mesh(stack, 'mesh', {
                meshName: 'test-mesh',
            });
            const router = new appmesh.VirtualRouter(stack, 'router', {
                mesh,
            });
            // WHEN
            const node = mesh.addVirtualNode('test-node', {
                serviceDiscovery: appmesh.ServiceDiscovery.dns('test'),
                listeners: [appmesh.VirtualNodeListener.http()],
            });
            router.addRoute('test-http-route', {
                routeSpec: appmesh.RouteSpec.http({
                    weightedTargets: [
                        {
                            virtualNode: node,
                        },
                    ],
                    match: {
                        path: appmesh.HttpRoutePathMatch.startsWith('/node'),
                    },
                    timeout: {
                        idle: cdk.Duration.seconds(10),
                        perRequest: cdk.Duration.seconds(11),
                    },
                }),
            });
            // THEN
            assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::AppMesh::Route', {
                Spec: {
                    HttpRoute: {
                        Action: {
                            WeightedTargets: [
                                {
                                    VirtualNode: {
                                        'Fn::GetAtt': [
                                            'meshtestnodeF93946D4',
                                            'VirtualNodeName',
                                        ],
                                    },
                                    Weight: 1,
                                },
                            ],
                        },
                        Match: {
                            Prefix: '/node',
                        },
                        Timeout: {
                            Idle: {
                                Value: 10000,
                                Unit: 'ms',
                            },
                            PerRequest: {
                                Value: 11000,
                                Unit: 'ms',
                            },
                        },
                    },
                },
                RouteName: 'test-http-route',
            });
        });
        test('should allow http retries', () => {
            // GIVEN
            const stack = new cdk.Stack();
            const mesh = new appmesh.Mesh(stack, 'mesh', {
                meshName: 'test-mesh',
            });
            const router = new appmesh.VirtualRouter(stack, 'router', {
                mesh,
            });
            const virtualNode = mesh.addVirtualNode('test-node', {
                serviceDiscovery: appmesh.ServiceDiscovery.dns('test'),
                listeners: [appmesh.VirtualNodeListener.http()],
            });
            // WHEN
            router.addRoute('test-http-route', {
                routeSpec: appmesh.RouteSpec.http({
                    weightedTargets: [{ virtualNode }],
                    retryPolicy: {
                        httpRetryEvents: [appmesh.HttpRetryEvent.CLIENT_ERROR],
                        tcpRetryEvents: [appmesh.TcpRetryEvent.CONNECTION_ERROR],
                        retryAttempts: 5,
                        retryTimeout: cdk.Duration.seconds(10),
                    },
                }),
            });
            // THEN
            assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::AppMesh::Route', {
                Spec: {
                    HttpRoute: {
                        RetryPolicy: {
                            HttpRetryEvents: ['client-error'],
                            TcpRetryEvents: ['connection-error'],
                            MaxRetries: 5,
                            PerRetryTimeout: {
                                Unit: 'ms',
                                Value: 10000,
                            },
                        },
                    },
                },
            });
        });
        test('http retry events are Match.absent() when specified as an empty array', () => {
            // GIVEN
            const stack = new cdk.Stack();
            const mesh = new appmesh.Mesh(stack, 'mesh', {
                meshName: 'test-mesh',
            });
            const router = new appmesh.VirtualRouter(stack, 'router', {
                mesh,
            });
            const virtualNode = mesh.addVirtualNode('test-node', {
                serviceDiscovery: appmesh.ServiceDiscovery.dns('test'),
                listeners: [appmesh.VirtualNodeListener.http()],
            });
            // WHEN
            router.addRoute('test-http-route', {
                routeSpec: appmesh.RouteSpec.http({
                    weightedTargets: [{ virtualNode }],
                    retryPolicy: {
                        httpRetryEvents: [],
                        tcpRetryEvents: [appmesh.TcpRetryEvent.CONNECTION_ERROR],
                        retryAttempts: 5,
                        retryTimeout: cdk.Duration.seconds(10),
                    },
                }),
            });
            router.addRoute('test-http-route2', {
                routeSpec: appmesh.RouteSpec.http({
                    weightedTargets: [{ virtualNode }],
                    retryPolicy: {
                        httpRetryEvents: [appmesh.HttpRetryEvent.CLIENT_ERROR],
                        tcpRetryEvents: [],
                        retryAttempts: 5,
                        retryTimeout: cdk.Duration.seconds(10),
                    },
                }),
            });
            // THEN
            assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::AppMesh::Route', {
                Spec: {
                    HttpRoute: {
                        RetryPolicy: {
                            HttpRetryEvents: assertions_1.Match.absent(),
                            TcpRetryEvents: ['connection-error'],
                        },
                    },
                },
            });
            assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::AppMesh::Route', {
                Spec: {
                    HttpRoute: {
                        RetryPolicy: {
                            HttpRetryEvents: ['client-error'],
                            TcpRetryEvents: assertions_1.Match.absent(),
                        },
                    },
                },
            });
        });
        test('errors when http retry policy has no events', () => {
            // GIVEN
            const stack = new cdk.Stack();
            const mesh = new appmesh.Mesh(stack, 'mesh', {
                meshName: 'test-mesh',
            });
            const router = new appmesh.VirtualRouter(stack, 'router', {
                mesh,
            });
            const virtualNode = mesh.addVirtualNode('test-node', {
                serviceDiscovery: appmesh.ServiceDiscovery.dns('test'),
                listeners: [appmesh.VirtualNodeListener.http()],
            });
            // WHEN
            expect(() => {
                router.addRoute('test-http-route', {
                    routeSpec: appmesh.RouteSpec.http({
                        weightedTargets: [{ virtualNode }],
                        retryPolicy: {
                            retryAttempts: 5,
                            retryTimeout: cdk.Duration.seconds(10),
                        },
                    }),
                });
            }).toThrow(/specify one value for at least/i);
        });
        test('should allow grpc retries', () => {
            // GIVEN
            const stack = new cdk.Stack();
            const mesh = new appmesh.Mesh(stack, 'mesh', {
                meshName: 'test-mesh',
            });
            const router = new appmesh.VirtualRouter(stack, 'router', {
                mesh,
            });
            const virtualNode = mesh.addVirtualNode('test-node', {
                serviceDiscovery: appmesh.ServiceDiscovery.dns('test'),
                listeners: [appmesh.VirtualNodeListener.http()],
            });
            // WHEN
            router.addRoute('test-grpc-route', {
                routeSpec: appmesh.RouteSpec.grpc({
                    weightedTargets: [{ virtualNode }],
                    match: { serviceName: 'servicename' },
                    retryPolicy: {
                        grpcRetryEvents: [appmesh.GrpcRetryEvent.DEADLINE_EXCEEDED],
                        httpRetryEvents: [appmesh.HttpRetryEvent.CLIENT_ERROR],
                        tcpRetryEvents: [appmesh.TcpRetryEvent.CONNECTION_ERROR],
                        retryAttempts: 5,
                        retryTimeout: cdk.Duration.seconds(10),
                    },
                }),
            });
            // THEN
            assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::AppMesh::Route', {
                Spec: {
                    GrpcRoute: {
                        RetryPolicy: {
                            GrpcRetryEvents: ['deadline-exceeded'],
                            HttpRetryEvents: ['client-error'],
                            TcpRetryEvents: ['connection-error'],
                            MaxRetries: 5,
                            PerRetryTimeout: {
                                Unit: 'ms',
                                Value: 10000,
                            },
                        },
                    },
                },
            });
        });
        test('grpc retry events are Match.absent() when specified as an empty array', () => {
            // GIVEN
            const stack = new cdk.Stack();
            const mesh = new appmesh.Mesh(stack, 'mesh', {
                meshName: 'test-mesh',
            });
            const router = new appmesh.VirtualRouter(stack, 'router', {
                mesh,
            });
            const virtualNode = mesh.addVirtualNode('test-node', {
                serviceDiscovery: appmesh.ServiceDiscovery.dns('test'),
                listeners: [appmesh.VirtualNodeListener.http()],
            });
            // WHEN
            router.addRoute('test-grpc-route', {
                routeSpec: appmesh.RouteSpec.grpc({
                    weightedTargets: [{ virtualNode }],
                    match: { serviceName: 'example' },
                    retryPolicy: {
                        grpcRetryEvents: [],
                        httpRetryEvents: [],
                        tcpRetryEvents: [appmesh.TcpRetryEvent.CONNECTION_ERROR],
                        retryAttempts: 5,
                        retryTimeout: cdk.Duration.seconds(10),
                    },
                }),
            });
            router.addRoute('test-grpc-route2', {
                routeSpec: appmesh.RouteSpec.grpc({
                    weightedTargets: [{ virtualNode }],
                    match: { serviceName: 'example' },
                    retryPolicy: {
                        grpcRetryEvents: [appmesh.GrpcRetryEvent.CANCELLED],
                        httpRetryEvents: [],
                        tcpRetryEvents: [],
                        retryAttempts: 5,
                        retryTimeout: cdk.Duration.seconds(10),
                    },
                }),
            });
            // THEN
            assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::AppMesh::Route', {
                Spec: {
                    GrpcRoute: {
                        RetryPolicy: {
                            GrpcRetryEvents: assertions_1.Match.absent(),
                            HttpRetryEvents: assertions_1.Match.absent(),
                            TcpRetryEvents: ['connection-error'],
                        },
                    },
                },
            });
            assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::AppMesh::Route', {
                Spec: {
                    GrpcRoute: {
                        RetryPolicy: {
                            GrpcRetryEvents: ['cancelled'],
                            HttpRetryEvents: assertions_1.Match.absent(),
                            TcpRetryEvents: assertions_1.Match.absent(),
                        },
                    },
                },
            });
        });
        test('errors when grpc retry policy has no events', () => {
            // GIVEN
            const stack = new cdk.Stack();
            const mesh = new appmesh.Mesh(stack, 'mesh', {
                meshName: 'test-mesh',
            });
            const router = new appmesh.VirtualRouter(stack, 'router', {
                mesh,
            });
            const virtualNode = mesh.addVirtualNode('test-node', {
                serviceDiscovery: appmesh.ServiceDiscovery.dns('test'),
                listeners: [appmesh.VirtualNodeListener.http()],
            });
            // WHEN
            expect(() => {
                router.addRoute('test-grpc-route', {
                    routeSpec: appmesh.RouteSpec.grpc({
                        weightedTargets: [{ virtualNode }],
                        match: { serviceName: 'servicename' },
                        retryPolicy: {
                            retryAttempts: 5,
                            retryTimeout: cdk.Duration.seconds(10),
                        },
                    }),
                });
            }).toThrow(/specify one value for at least/i);
        });
        describe('with shared service mesh', () => {
            test('Mesh Owner is the AWS account ID of the account that shared the mesh with your account', () => {
                // GIVEN
                const app = new cdk.App();
                const meshEnv = { account: '1234567899', region: 'us-west-2' };
                const routeEnv = { account: '9987654321', region: 'us-west-2' };
                // Creating stack in Account 9987654321
                const stack = new cdk.Stack(app, 'mySharedStack', { env: routeEnv });
                // Mesh is in Account 1234567899
                const sharedMesh = appmesh.Mesh.fromMeshArn(stack, 'shared-mesh', `arn:aws:appmesh:${meshEnv.region}:${meshEnv.account}:mesh/shared-mesh`);
                const router = new appmesh.VirtualRouter(stack, 'router', {
                    mesh: sharedMesh,
                });
                const virtualNode = sharedMesh.addVirtualNode('test-node', {
                    serviceDiscovery: appmesh.ServiceDiscovery.dns('test'),
                    listeners: [appmesh.VirtualNodeListener.http()],
                });
                new appmesh.Route(stack, 'test-route', {
                    mesh: sharedMesh,
                    routeSpec: appmesh.RouteSpec.grpc({
                        weightedTargets: [{ virtualNode }],
                        match: { serviceName: 'example' },
                    }),
                    virtualRouter: router,
                });
                // THEN
                assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::AppMesh::Route', {
                    MeshOwner: meshEnv.account,
                });
            });
        });
    });
    test('should match routes based on headers', () => {
        // GIVEN
        const stack = new cdk.Stack();
        const mesh = new appmesh.Mesh(stack, 'mesh', {
            meshName: 'test-mesh',
        });
        const router = new appmesh.VirtualRouter(stack, 'router', {
            mesh,
        });
        const virtualNode = mesh.addVirtualNode('test-node', {
            serviceDiscovery: appmesh.ServiceDiscovery.dns('test'),
            listeners: [appmesh.VirtualNodeListener.http()],
        });
        // WHEN
        router.addRoute('route', {
            routeSpec: appmesh.RouteSpec.http2({
                weightedTargets: [{ virtualNode }],
                match: {
                    path: appmesh.HttpRoutePathMatch.startsWith('/'),
                    headers: [
                        appmesh.HeaderMatch.valueIs('Content-Type', 'application/json'),
                        appmesh.HeaderMatch.valueIsNot('Content-Type', 'text/html'),
                        appmesh.HeaderMatch.valueStartsWith('Content-Type', 'application/'),
                        appmesh.HeaderMatch.valueDoesNotStartWith('Content-Type', 'text/'),
                        appmesh.HeaderMatch.valueEndsWith('Content-Type', '/json'),
                        appmesh.HeaderMatch.valueDoesNotEndWith('Content-Type', '/json+foobar'),
                        appmesh.HeaderMatch.valueMatchesRegex('Content-Type', 'application/.*'),
                        appmesh.HeaderMatch.valueDoesNotMatchRegex('Content-Type', 'text/.*'),
                        appmesh.HeaderMatch.valuesIsInRange('Max-Forward', 1, 5),
                        appmesh.HeaderMatch.valuesIsNotInRange('Max-Forward', 1, 5),
                    ],
                },
            }),
        });
        // THEN
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::AppMesh::Route', {
            Spec: {
                Http2Route: {
                    Match: {
                        Prefix: '/',
                        Headers: [
                            {
                                Invert: false,
                                Match: { Exact: 'application/json' },
                                Name: 'Content-Type',
                            },
                            {
                                Invert: true,
                                Match: { Exact: 'text/html' },
                                Name: 'Content-Type',
                            },
                            {
                                Invert: false,
                                Match: { Prefix: 'application/' },
                                Name: 'Content-Type',
                            },
                            {
                                Invert: true,
                                Match: { Prefix: 'text/' },
                                Name: 'Content-Type',
                            },
                            {
                                Invert: false,
                                Match: { Suffix: '/json' },
                                Name: 'Content-Type',
                            },
                            {
                                Invert: true,
                                Match: { Suffix: '/json+foobar' },
                                Name: 'Content-Type',
                            },
                            {
                                Invert: false,
                                Match: { Regex: 'application/.*' },
                                Name: 'Content-Type',
                            },
                            {
                                Invert: true,
                                Match: { Regex: 'text/.*' },
                                Name: 'Content-Type',
                            },
                            {
                                Invert: false,
                                Match: {
                                    Range: {
                                        End: 5,
                                        Start: 1,
                                    },
                                },
                                Name: 'Max-Forward',
                            },
                            {
                                Invert: true,
                                Match: {
                                    Range: {
                                        End: 5,
                                        Start: 1,
                                    },
                                },
                                Name: 'Max-Forward',
                            },
                        ],
                    },
                },
            },
        });
    });
    test('should match routes based on method', () => {
        // GIVEN
        const stack = new cdk.Stack();
        const mesh = new appmesh.Mesh(stack, 'mesh', {
            meshName: 'test-mesh',
        });
        const router = new appmesh.VirtualRouter(stack, 'router', {
            mesh,
        });
        const virtualNode = mesh.addVirtualNode('test-node', {
            serviceDiscovery: appmesh.ServiceDiscovery.dns('test'),
            listeners: [appmesh.VirtualNodeListener.http()],
        });
        // WHEN
        router.addRoute('route', {
            routeSpec: appmesh.RouteSpec.http2({
                weightedTargets: [{ virtualNode }],
                match: {
                    path: appmesh.HttpRoutePathMatch.startsWith('/'),
                    method: appmesh.HttpRouteMethod.GET,
                },
            }),
        });
        // THEN
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::AppMesh::Route', {
            Spec: {
                Http2Route: {
                    Match: {
                        Prefix: '/',
                        Method: 'GET',
                    },
                },
            },
        });
    });
    test('should match routes based on scheme', () => {
        // GIVEN
        const stack = new cdk.Stack();
        const mesh = new appmesh.Mesh(stack, 'mesh', {
            meshName: 'test-mesh',
        });
        const router = new appmesh.VirtualRouter(stack, 'router', {
            mesh,
        });
        const virtualNode = mesh.addVirtualNode('test-node', {
            serviceDiscovery: appmesh.ServiceDiscovery.dns('test'),
            listeners: [appmesh.VirtualNodeListener.http()],
        });
        // WHEN
        router.addRoute('route', {
            routeSpec: appmesh.RouteSpec.http2({
                weightedTargets: [{ virtualNode }],
                match: {
                    path: appmesh.HttpRoutePathMatch.startsWith('/'),
                    protocol: appmesh.HttpRouteProtocol.HTTP,
                },
            }),
        });
        // THEN
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::AppMesh::Route', {
            Spec: {
                Http2Route: {
                    Match: {
                        Prefix: '/',
                        Scheme: 'http',
                    },
                },
            },
        });
    });
    test('should match routes based on metadata', () => {
        // GIVEN
        const stack = new cdk.Stack();
        const mesh = new appmesh.Mesh(stack, 'mesh', {
            meshName: 'test-mesh',
        });
        const router = new appmesh.VirtualRouter(stack, 'router', {
            mesh,
        });
        const virtualNode = mesh.addVirtualNode('test-node', {
            serviceDiscovery: appmesh.ServiceDiscovery.dns('test'),
            listeners: [appmesh.VirtualNodeListener.http()],
        });
        // WHEN
        new appmesh.Route(stack, 'test-grpc-route', {
            mesh: mesh,
            virtualRouter: router,
            routeSpec: appmesh.RouteSpec.grpc({
                weightedTargets: [{ virtualNode }],
                match: {
                    metadata: [
                        appmesh.HeaderMatch.valueIs('Content-Type', 'application/json'),
                        appmesh.HeaderMatch.valueIsNot('Content-Type', 'text/html'),
                        appmesh.HeaderMatch.valueStartsWith('Content-Type', 'application/'),
                        appmesh.HeaderMatch.valueDoesNotStartWith('Content-Type', 'text/'),
                        appmesh.HeaderMatch.valueEndsWith('Content-Type', '/json'),
                        appmesh.HeaderMatch.valueDoesNotEndWith('Content-Type', '/json+foobar'),
                        appmesh.HeaderMatch.valueMatchesRegex('Content-Type', 'application/.*'),
                        appmesh.HeaderMatch.valueDoesNotMatchRegex('Content-Type', 'text/.*'),
                        appmesh.HeaderMatch.valuesIsInRange('Max-Forward', 1, 5),
                        appmesh.HeaderMatch.valuesIsNotInRange('Max-Forward', 1, 5),
                    ],
                },
            }),
        });
        // THEN
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::AppMesh::Route', {
            Spec: {
                GrpcRoute: {
                    Match: {
                        Metadata: [
                            {
                                Invert: false,
                                Match: { Exact: 'application/json' },
                                Name: 'Content-Type',
                            },
                            {
                                Invert: true,
                                Match: { Exact: 'text/html' },
                                Name: 'Content-Type',
                            },
                            {
                                Invert: false,
                                Match: { Prefix: 'application/' },
                                Name: 'Content-Type',
                            },
                            {
                                Invert: true,
                                Match: { Prefix: 'text/' },
                                Name: 'Content-Type',
                            },
                            {
                                Invert: false,
                                Match: { Suffix: '/json' },
                                Name: 'Content-Type',
                            },
                            {
                                Invert: true,
                                Match: { Suffix: '/json+foobar' },
                                Name: 'Content-Type',
                            },
                            {
                                Invert: false,
                                Match: { Regex: 'application/.*' },
                                Name: 'Content-Type',
                            },
                            {
                                Invert: true,
                                Match: { Regex: 'text/.*' },
                                Name: 'Content-Type',
                            },
                            {
                                Invert: false,
                                Match: {
                                    Range: {
                                        End: 5,
                                        Start: 1,
                                    },
                                },
                                Name: 'Max-Forward',
                            },
                            {
                                Invert: true,
                                Match: {
                                    Range: {
                                        End: 5,
                                        Start: 1,
                                    },
                                },
                                Name: 'Max-Forward',
                            },
                        ],
                    },
                },
            },
        });
    });
    test('should match routes based on path', () => {
        // GIVEN
        const stack = new cdk.Stack();
        const mesh = new appmesh.Mesh(stack, 'mesh', {
            meshName: 'test-mesh',
        });
        const router = new appmesh.VirtualRouter(stack, 'router', {
            mesh,
        });
        const virtualNode = mesh.addVirtualNode('test-node', {
            serviceDiscovery: appmesh.ServiceDiscovery.dns('test'),
            listeners: [appmesh.VirtualNodeListener.http()],
        });
        // WHEN
        new appmesh.Route(stack, 'test-http-route', {
            mesh: mesh,
            virtualRouter: router,
            routeSpec: appmesh.RouteSpec.http({
                weightedTargets: [{ virtualNode }],
                match: {
                    path: appmesh.HttpRoutePathMatch.exactly('/exact'),
                },
            }),
        });
        new appmesh.Route(stack, 'test-http2-route', {
            mesh: mesh,
            virtualRouter: router,
            routeSpec: appmesh.RouteSpec.http2({
                weightedTargets: [{ virtualNode }],
                match: {
                    path: appmesh.HttpRoutePathMatch.regex('regex'),
                },
            }),
        });
        // THEN
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::AppMesh::Route', {
            Spec: {
                HttpRoute: {
                    Match: {
                        Path: {
                            Exact: '/exact',
                        },
                    },
                },
            },
        });
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::AppMesh::Route', {
            Spec: {
                Http2Route: {
                    Match: {
                        Path: {
                            Regex: 'regex',
                        },
                    },
                },
            },
        });
    });
    test('should match routes based query parameter', () => {
        // GIVEN
        const stack = new cdk.Stack();
        const mesh = new appmesh.Mesh(stack, 'mesh', {
            meshName: 'test-mesh',
        });
        const router = new appmesh.VirtualRouter(stack, 'router', {
            mesh,
        });
        const virtualNode = mesh.addVirtualNode('test-node', {
            serviceDiscovery: appmesh.ServiceDiscovery.dns('test'),
            listeners: [appmesh.VirtualNodeListener.http()],
        });
        // WHEN
        new appmesh.Route(stack, 'test-http-route', {
            mesh: mesh,
            virtualRouter: router,
            routeSpec: appmesh.RouteSpec.http({
                weightedTargets: [{ virtualNode }],
                match: {
                    queryParameters: [appmesh.QueryParameterMatch.valueIs('query-field', 'value')],
                },
            }),
        });
        // THEN
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::AppMesh::Route', {
            Spec: {
                HttpRoute: {
                    Match: {
                        QueryParameters: [
                            {
                                Name: 'query-field',
                                Match: {
                                    Exact: 'value',
                                },
                            },
                        ],
                    },
                },
            },
        });
    });
    test('should match routes based method name', () => {
        // GIVEN
        const stack = new cdk.Stack();
        const mesh = new appmesh.Mesh(stack, 'mesh', {
            meshName: 'test-mesh',
        });
        const router = new appmesh.VirtualRouter(stack, 'router', {
            mesh,
        });
        const virtualNode = mesh.addVirtualNode('test-node', {
            serviceDiscovery: appmesh.ServiceDiscovery.dns('test'),
            listeners: [appmesh.VirtualNodeListener.http()],
        });
        // WHEN
        new appmesh.Route(stack, 'test-http-route', {
            mesh: mesh,
            virtualRouter: router,
            routeSpec: appmesh.RouteSpec.grpc({
                priority: 20,
                weightedTargets: [{ virtualNode }],
                match: {
                    serviceName: 'test',
                    methodName: 'testMethod',
                },
            }),
        });
        // THEN
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::AppMesh::Route', {
            Spec: {
                GrpcRoute: {
                    Match: {
                        ServiceName: 'test',
                        MethodName: 'testMethod',
                    },
                },
            },
        });
    });
    test('should throw an error with invalid number of headers', () => {
        // GIVEN
        const stack = new cdk.Stack();
        const mesh = new appmesh.Mesh(stack, 'mesh', {
            meshName: 'test-mesh',
        });
        const router = new appmesh.VirtualRouter(stack, 'router', {
            mesh,
        });
        const virtualNode = mesh.addVirtualNode('test-node', {
            serviceDiscovery: appmesh.ServiceDiscovery.dns('test'),
            listeners: [appmesh.VirtualNodeListener.http()],
        });
        // WHEN + THEN
        expect(() => {
            router.addRoute('route', {
                routeSpec: appmesh.RouteSpec.http2({
                    weightedTargets: [{ virtualNode }],
                    match: {
                        path: appmesh.HttpRoutePathMatch.startsWith('/'),
                        // Empty header
                        headers: [],
                    },
                }),
            });
        }).toThrow(/Number of headers provided for matching must be between 1 and 10, got: 0/);
        expect(() => {
            router.addRoute('route2', {
                routeSpec: appmesh.RouteSpec.http2({
                    weightedTargets: [{ virtualNode }],
                    match: {
                        path: appmesh.HttpRoutePathMatch.startsWith('/'),
                        // 11 headers
                        headers: [
                            appmesh.HeaderMatch.valueIs('Content-Type', 'application/json'),
                            appmesh.HeaderMatch.valueIs('Content-Type', 'application/json'),
                            appmesh.HeaderMatch.valueIsNot('Content-Type', 'text/html'),
                            appmesh.HeaderMatch.valueStartsWith('Content-Type', 'application/'),
                            appmesh.HeaderMatch.valueDoesNotStartWith('Content-Type', 'text/'),
                            appmesh.HeaderMatch.valueEndsWith('Content-Type', '/json'),
                            appmesh.HeaderMatch.valueDoesNotEndWith('Content-Type', '/json+foobar'),
                            appmesh.HeaderMatch.valueMatchesRegex('Content-Type', 'application/.*'),
                            appmesh.HeaderMatch.valueDoesNotMatchRegex('Content-Type', 'text/.*'),
                            appmesh.HeaderMatch.valuesIsInRange('Max-Forward', 1, 5),
                            appmesh.HeaderMatch.valuesIsNotInRange('Max-Forward', 1, 5),
                        ],
                    },
                }),
            });
        }).toThrow(/Number of headers provided for matching must be between 1 and 10, got: 11/);
    });
    test('should throw an error with invalid number of query parameters', () => {
        // GIVEN
        const stack = new cdk.Stack();
        const mesh = new appmesh.Mesh(stack, 'mesh', {
            meshName: 'test-mesh',
        });
        const router = new appmesh.VirtualRouter(stack, 'router', {
            mesh,
        });
        const virtualNode = mesh.addVirtualNode('test-node', {
            serviceDiscovery: appmesh.ServiceDiscovery.dns('test'),
            listeners: [appmesh.VirtualNodeListener.http()],
        });
        // WHEN + THEN
        expect(() => {
            router.addRoute('route', {
                routeSpec: appmesh.RouteSpec.http2({
                    weightedTargets: [{ virtualNode }],
                    match: {
                        path: appmesh.HttpRoutePathMatch.startsWith('/'),
                        // Empty header
                        queryParameters: [],
                    },
                }),
            });
        }).toThrow(/Number of query parameters provided for matching must be between 1 and 10, got: 0/);
        expect(() => {
            router.addRoute('route2', {
                routeSpec: appmesh.RouteSpec.http2({
                    weightedTargets: [{ virtualNode }],
                    match: {
                        path: appmesh.HttpRoutePathMatch.startsWith('/'),
                        // 11 headers
                        queryParameters: [
                            appmesh.QueryParameterMatch.valueIs('query-field', 'value'),
                            appmesh.QueryParameterMatch.valueIs('query-field', 'value'),
                            appmesh.QueryParameterMatch.valueIs('query-field', 'value'),
                            appmesh.QueryParameterMatch.valueIs('query-field', 'value'),
                            appmesh.QueryParameterMatch.valueIs('query-field', 'value'),
                            appmesh.QueryParameterMatch.valueIs('query-field', 'value'),
                            appmesh.QueryParameterMatch.valueIs('query-field', 'value'),
                            appmesh.QueryParameterMatch.valueIs('query-field', 'value'),
                            appmesh.QueryParameterMatch.valueIs('query-field', 'value'),
                            appmesh.QueryParameterMatch.valueIs('query-field', 'value'),
                            appmesh.QueryParameterMatch.valueIs('query-field', 'value'),
                        ],
                    },
                }),
            });
        }).toThrow(/Number of query parameters provided for matching must be between 1 and 10, got: 11/);
    });
    test('should throw an error with invalid number of metadata', () => {
        // GIVEN
        const stack = new cdk.Stack();
        const mesh = new appmesh.Mesh(stack, 'mesh', {
            meshName: 'test-mesh',
        });
        const router = new appmesh.VirtualRouter(stack, 'router', {
            mesh,
        });
        const virtualNode = mesh.addVirtualNode('test-node', {
            serviceDiscovery: appmesh.ServiceDiscovery.dns('test'),
            listeners: [appmesh.VirtualNodeListener.http()],
        });
        // WHEN + THEN
        expect(() => {
            new appmesh.Route(stack, 'test-http-route', {
                mesh: mesh,
                virtualRouter: router,
                routeSpec: appmesh.RouteSpec.grpc({
                    priority: 20,
                    weightedTargets: [{ virtualNode }],
                    match: {
                        metadata: [],
                    },
                }),
            });
        }).toThrow(/Number of metadata provided for matching must be between 1 and 10, got: 0/);
        // WHEN + THEN
        expect(() => {
            new appmesh.Route(stack, 'test-http-route-1', {
                mesh: mesh,
                virtualRouter: router,
                routeSpec: appmesh.RouteSpec.grpc({
                    priority: 20,
                    weightedTargets: [{ virtualNode }],
                    match: {
                        metadata: [
                            appmesh.HeaderMatch.valueIs('Content-Type', 'application/json'),
                            appmesh.HeaderMatch.valueIs('Content-Type', 'application/json'),
                            appmesh.HeaderMatch.valueIsNot('Content-Type', 'text/html'),
                            appmesh.HeaderMatch.valueStartsWith('Content-Type', 'application/'),
                            appmesh.HeaderMatch.valueDoesNotStartWith('Content-Type', 'text/'),
                            appmesh.HeaderMatch.valueEndsWith('Content-Type', '/json'),
                            appmesh.HeaderMatch.valueDoesNotEndWith('Content-Type', '/json+foobar'),
                            appmesh.HeaderMatch.valueMatchesRegex('Content-Type', 'application/.*'),
                            appmesh.HeaderMatch.valueDoesNotMatchRegex('Content-Type', 'text/.*'),
                            appmesh.HeaderMatch.valuesIsInRange('Max-Forward', 1, 5),
                            appmesh.HeaderMatch.valuesIsNotInRange('Max-Forward', 1, 5),
                        ],
                    },
                }),
            });
        }).toThrow(/Number of metadata provided for matching must be between 1 and 10, got: 11/);
    });
    test('should throw an error if no gRPC match type is defined', () => {
        // GIVEN
        const stack = new cdk.Stack();
        const mesh = new appmesh.Mesh(stack, 'mesh', {
            meshName: 'test-mesh',
        });
        const router = new appmesh.VirtualRouter(stack, 'router', {
            mesh,
        });
        const virtualNode = mesh.addVirtualNode('test-node', {
            serviceDiscovery: appmesh.ServiceDiscovery.dns('test'),
            listeners: [appmesh.VirtualNodeListener.http()],
        });
        // WHEN + THEN
        expect(() => {
            new appmesh.Route(stack, 'test-http-route', {
                mesh: mesh,
                virtualRouter: router,
                routeSpec: appmesh.RouteSpec.grpc({
                    priority: 20,
                    weightedTargets: [{ virtualNode }],
                    match: {},
                }),
            });
        }).toThrow(/At least one gRPC route match property must be provided/);
    });
    test('should throw an error if method name is specified without service name', () => {
        // GIVEN
        const stack = new cdk.Stack();
        const mesh = new appmesh.Mesh(stack, 'mesh', {
            meshName: 'test-mesh',
        });
        const router = new appmesh.VirtualRouter(stack, 'router', {
            mesh,
        });
        const virtualNode = mesh.addVirtualNode('test-node', {
            serviceDiscovery: appmesh.ServiceDiscovery.dns('test'),
            listeners: [appmesh.VirtualNodeListener.http()],
        });
        // WHEN + THEN
        expect(() => {
            new appmesh.Route(stack, 'test-http-route', {
                mesh: mesh,
                virtualRouter: router,
                routeSpec: appmesh.RouteSpec.grpc({
                    priority: 20,
                    weightedTargets: [{ virtualNode }],
                    match: {
                        methodName: 'test_method',
                    },
                }),
            });
        }).toThrow(/If you specify a method name, you must also specify a service name/);
    });
    test('should allow route priority', () => {
        // GIVEN
        const stack = new cdk.Stack();
        const mesh = new appmesh.Mesh(stack, 'mesh', {
            meshName: 'test-mesh',
        });
        const router = new appmesh.VirtualRouter(stack, 'router', {
            mesh,
        });
        const virtualNode = mesh.addVirtualNode('test-node', {
            serviceDiscovery: appmesh.ServiceDiscovery.dns('test'),
            listeners: [appmesh.VirtualNodeListener.http()],
        });
        // WHEN
        router.addRoute('http2', {
            routeSpec: appmesh.RouteSpec.http2({
                priority: 0,
                weightedTargets: [{ virtualNode }],
            }),
        });
        router.addRoute('http', {
            routeSpec: appmesh.RouteSpec.http({
                priority: 10,
                weightedTargets: [{ virtualNode }],
            }),
        });
        router.addRoute('grpc', {
            routeSpec: appmesh.RouteSpec.grpc({
                priority: 20,
                weightedTargets: [{ virtualNode }],
                match: {
                    serviceName: 'test',
                },
            }),
        });
        router.addRoute('tcp', {
            routeSpec: appmesh.RouteSpec.tcp({
                priority: 30,
                weightedTargets: [{ virtualNode }],
            }),
        });
        // THEN
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::AppMesh::Route', {
            Spec: {
                Priority: 0,
                Http2Route: {},
            },
        });
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::AppMesh::Route', {
            Spec: {
                Priority: 10,
                HttpRoute: {},
            },
        });
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::AppMesh::Route', {
            Spec: {
                Priority: 20,
                GrpcRoute: {},
            },
        });
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::AppMesh::Route', {
            Spec: {
                Priority: 30,
                TcpRoute: {},
            },
        });
    });
    test('should allow zero weight route', () => {
        // GIVEN
        const stack = new cdk.Stack();
        const mesh = new appmesh.Mesh(stack, 'mesh', {
            meshName: 'test-mesh',
        });
        const router = new appmesh.VirtualRouter(stack, 'router', {
            mesh,
        });
        const virtualNode = mesh.addVirtualNode('test-node', {
            serviceDiscovery: appmesh.ServiceDiscovery.dns('test'),
            listeners: [appmesh.VirtualNodeListener.http()],
        });
        // WHEN
        router.addRoute('http2', {
            routeSpec: appmesh.RouteSpec.http2({
                priority: 50,
                weightedTargets: [
                    {
                        virtualNode: virtualNode,
                        weight: 0,
                    },
                ],
            }),
        });
        router.addRoute('http', {
            routeSpec: appmesh.RouteSpec.http({
                priority: 10,
                weightedTargets: [
                    {
                        virtualNode: virtualNode,
                        weight: 0,
                    },
                ],
            }),
        });
        // THEN
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::AppMesh::Route', {
            Spec: {
                Priority: 50,
                Http2Route: {
                    Action: {
                        WeightedTargets: [
                            {
                                Weight: 0,
                            },
                        ],
                    },
                },
            },
        });
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::AppMesh::Route', {
            Spec: {
                Priority: 10,
                HttpRoute: {
                    Action: {
                        WeightedTargets: [
                            {
                                Weight: 0,
                            },
                        ],
                    },
                },
            },
        });
    });
    test('Can import Routes using an ARN', () => {
        const app = new cdk.App();
        // GIVEN
        const stack = new cdk.Stack(app, 'Imports', {
            env: { account: '123456789012', region: 'us-east-1' },
        });
        const meshName = 'test-mesh';
        const virtualRouterName = 'test-virtual-router';
        const routeName = 'test-route';
        const arn = `arn:aws:appmesh:us-east-1:123456789012:mesh/${meshName}/virtualRouter/${virtualRouterName}/gatewayRoute/${routeName}`;
        // WHEN
        const route = appmesh.Route.fromRouteArn(stack, 'importedRoute', arn);
        // THEN
        expect(route.routeName).toEqual(routeName);
        expect(route.virtualRouter.virtualRouterName).toEqual(virtualRouterName);
        expect(route.virtualRouter.mesh.meshName).toEqual(meshName);
    });
    test('Can import Routes using ARN and attributes', () => {
        const app = new cdk.App();
        // GIVEN
        const stack = new cdk.Stack(app, 'Imports', {
            env: { account: '123456789012', region: 'us-east-1' },
        });
        const meshName = 'test-mesh';
        const virtualRouterName = 'test-virtual-router';
        const routeName = 'test-route';
        // WHEN
        const mesh = appmesh.Mesh.fromMeshName(stack, 'Mesh', meshName);
        const virtualRouter = mesh.addVirtualRouter('VirtualGateway', {
            virtualRouterName: virtualRouterName,
        });
        const route = appmesh.Route.fromRouteAttributes(stack, 'importedRoute', { routeName, virtualRouter });
        // THEN
        expect(route.routeName).toEqual(routeName);
        expect(route.virtualRouter.mesh.meshName).toEqual(meshName);
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicm91dGUudGVzdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInJvdXRlLnRlc3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxpREFBbUQ7QUFDbkQsa0NBQWtDO0FBQ2xDLGtDQUFrQztBQUVsQyxRQUFRLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRTtJQUNyQixRQUFRLENBQUMsMEJBQTBCLEVBQUUsR0FBRyxFQUFFO1FBQ3hDLElBQUksQ0FBQyw2QkFBNkIsRUFBRSxHQUFHLEVBQUU7WUFDdkMsUUFBUTtZQUNSLE1BQU0sS0FBSyxHQUFHLElBQUksR0FBRyxDQUFDLEtBQUssRUFBRSxDQUFDO1lBQzlCLE1BQU0sSUFBSSxHQUFHLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsTUFBTSxFQUFFO2dCQUMzQyxRQUFRLEVBQUUsV0FBVzthQUN0QixDQUFDLENBQUM7WUFDSCxNQUFNLE1BQU0sR0FBRyxJQUFJLE9BQU8sQ0FBQyxhQUFhLENBQUMsS0FBSyxFQUFFLFFBQVEsRUFBRTtnQkFDeEQsSUFBSTthQUNMLENBQUMsQ0FBQztZQUVILE9BQU87WUFDUCxNQUFNLElBQUksR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLFdBQVcsRUFBRTtnQkFDNUMsZ0JBQWdCLEVBQUUsT0FBTyxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUM7Z0JBQ3RELFNBQVMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLEVBQUUsQ0FBQzthQUNoRCxDQUFDLENBQUM7WUFFSCxNQUFNLENBQUMsUUFBUSxDQUFDLGlCQUFpQixFQUFFO2dCQUNqQyxTQUFTLEVBQUUsT0FBTyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUM7b0JBQ2hDLGVBQWUsRUFBRTt3QkFDZjs0QkFDRSxXQUFXLEVBQUUsSUFBSTt5QkFDbEI7cUJBQ0Y7b0JBQ0QsT0FBTyxFQUFFO3dCQUNQLElBQUksRUFBRSxHQUFHLENBQUMsUUFBUSxDQUFD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ImltcG9ydCB7IE1hdGNoLCBUZW1wbGF0ZSB9IGZyb20gJy4uLy4uL2Fzc2VydGlvbnMnO1xuaW1wb3J0ICogYXMgY2RrIGZyb20gJy4uLy4uL2NvcmUnO1xuaW1wb3J0ICogYXMgYXBwbWVzaCBmcm9tICcuLi9saWInO1xuXG5kZXNjcmliZSgncm91dGUnLCAoKSA9PiB7XG4gIGRlc2NyaWJlKCdXaGVuIGNyZWF0aW5nIG5ldyByb3V0ZXMnLCAoKSA9PiB7XG4gICAgdGVzdCgncm91dGUgaGFzIGV4cGVjdGVkIGRlZmF1bHRzJywgKCkgPT4ge1xuICAgICAgLy8gR0lWRU5cbiAgICAgIGNvbnN0IHN0YWNrID0gbmV3IGNkay5TdGFjaygpO1xuICAgICAgY29uc3QgbWVzaCA9IG5ldyBhcHBtZXNoLk1lc2goc3RhY2ssICdtZXNoJywge1xuICAgICAgICBtZXNoTmFtZTogJ3Rlc3QtbWVzaCcsXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHJvdXRlciA9IG5ldyBhcHBtZXNoLlZpcnR1YWxSb3V0ZXIoc3RhY2ssICdyb3V0ZXInLCB7XG4gICAgICAgIG1lc2gsXG4gICAgICB9KTtcblxuICAgICAgLy8gV0hFTlxuICAgICAgY29uc3Qgbm9kZSA9IG1lc2guYWRkVmlydHVhbE5vZGUoJ3Rlc3Qtbm9kZScsIHtcbiAgICAgICAgc2VydmljZURpc2NvdmVyeTogYXBwbWVzaC5TZXJ2aWNlRGlzY292ZXJ5LmRucygndGVzdCcpLFxuICAgICAgICBsaXN0ZW5lcnM6IFthcHBtZXNoLlZpcnR1YWxOb2RlTGlzdGVuZXIuaHR0cCgpXSxcbiAgICAgIH0pO1xuXG4gICAgICByb3V0ZXIuYWRkUm91dGUoJ3Rlc3QtaHR0cC1yb3V0ZScsIHtcbiAgICAgICAgcm91dGVTcGVjOiBhcHBtZXNoLlJvdXRlU3BlYy5odHRwKHtcbiAgICAgICAgICB3ZWlnaHRlZFRhcmdldHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdmlydHVhbE5vZGU6IG5vZGUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgICAgdGltZW91dDoge1xuICAgICAgICAgICAgaWRsZTogY2RrLkR1cmF0aW9uLnNlY29uZHMoMTApLFxuICAgICAgICAgICAgcGVyUmVxdWVzdDogY2RrLkR1cmF0aW9uLnNlY29uZHMoMTEpLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIHJvdXRlci5hZGRSb3V0ZSgndGVzdC1odHRwMi1yb3V0ZScsIHtcbiAgICAgICAgcm91dGVTcGVjOiBhcHBtZXNoLlJvdXRlU3BlYy5odHRwMih7XG4gICAgICAgICAgd2VpZ2h0ZWRUYXJnZXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHZpcnR1YWxOb2RlOiBub2RlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICAgIHRpbWVvdXQ6IHtcbiAgICAgICAgICAgIGlkbGU6IGNkay5EdXJhdGlvbi5zZWNvbmRzKDEyKSxcbiAgICAgICAgICAgIHBlclJlcXVlc3Q6IGNkay5EdXJhdGlvbi5zZWNvbmRzKDEzKSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICByb3V0ZXIuYWRkUm91dGUoJ3Rlc3QtdGNwLXJvdXRlJywge1xuICAgICAgICByb3V0ZVNwZWM6IGFwcG1lc2guUm91dGVTcGVjLnRjcCh7XG4gICAgICAgICAgd2VpZ2h0ZWRUYXJnZXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHZpcnR1YWxOb2RlOiBub2RlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICAgIHRpbWVvdXQ6IHtcbiAgICAgICAgICAgIGlkbGU6IGNkay5EdXJhdGlvbi5zZWNvbmRzKDE0KSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICByb3V0ZXIuYWRkUm91dGUoJ3Rlc3QtZ3JwYy1yb3V0ZScsIHtcbiAgICAgICAgcm91dGVTcGVjOiBhcHBtZXNoLlJvdXRlU3BlYy5ncnBjKHtcbiAgICAgICAgICB3ZWlnaHRlZFRhcmdldHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdmlydHVhbE5vZGU6IG5vZGUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgICAgbWF0Y2g6IHtcbiAgICAgICAgICAgIHNlcnZpY2VOYW1lOiAndGVzdC5zdmMubG9jYWwnLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgdGltZW91dDoge1xuICAgICAgICAgICAgaWRsZTogY2RrLkR1cmF0aW9uLnNlY29uZHMoMTUpLFxuICAgICAgICAgICAgcGVyUmVxdWVzdDogY2RrLkR1cmF0aW9uLnNlY29uZHMoMTYpLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIFRIRU5cbiAgICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkFwcE1lc2g6OlJvdXRlJywge1xuICAgICAgICBTcGVjOiB7XG4gICAgICAgICAgSHR0cFJvdXRlOiB7XG4gICAgICAgICAgICBBY3Rpb246IHtcbiAgICAgICAgICAgICAgV2VpZ2h0ZWRUYXJnZXRzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgVmlydHVhbE5vZGU6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0ZuOjpHZXRBdHQnOiBbXG4gICAgICAgICAgICAgICAgICAgICAgJ21lc2h0ZXN0bm9kZUY5Mzk0NkQ0JyxcbiAgICAgICAgICAgICAgICAgICAgICAnVmlydHVhbE5vZGVOYW1lJyxcbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBXZWlnaHQ6IDEsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBNYXRjaDoge1xuICAgICAgICAgICAgICBQcmVmaXg6ICcvJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBUaW1lb3V0OiB7XG4gICAgICAgICAgICAgIElkbGU6IHtcbiAgICAgICAgICAgICAgICBWYWx1ZTogMTAwMDAsXG4gICAgICAgICAgICAgICAgVW5pdDogJ21zJyxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgUGVyUmVxdWVzdDoge1xuICAgICAgICAgICAgICAgIFZhbHVlOiAxMTAwMCxcbiAgICAgICAgICAgICAgICBVbml0OiAnbXMnLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBNZXNoT3duZXI6IE1hdGNoLmFic2VudCgpLFxuICAgICAgICBSb3V0ZU5hbWU6ICd0ZXN0LWh0dHAtcm91dGUnLFxuICAgICAgfSk7XG5cbiAgICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkFwcE1lc2g6OlJvdXRlJywge1xuICAgICAgICBTcGVjOiB7XG4gICAgICAgICAgSHR0cDJSb3V0ZToge1xuICAgICAgICAgICAgQWN0aW9uOiB7XG4gICAgICAgICAgICAgIFdlaWdodGVkVGFyZ2V0czogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIFZpcnR1YWxOb2RlOiB7XG4gICAgICAgICAgICAgICAgICAgICdGbjo6R2V0QXR0JzogW1xuICAgICAgICAgICAgICAgICAgICAgICdtZXNodGVzdG5vZGVGOTM5NDZENCcsXG4gICAgICAgICAgICAgICAgICAgICAgJ1ZpcnR1YWxOb2RlTmFtZScsXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgV2VpZ2h0OiAxLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgTWF0Y2g6IHtcbiAgICAgICAgICAgICAgUHJlZml4OiAnLycsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgVGltZW91dDoge1xuICAgICAgICAgICAgICBJZGxlOiB7XG4gICAgICAgICAgICAgICAgVmFsdWU6IDEyMDAwLFxuICAgICAgICAgICAgICAgIFVuaXQ6ICdtcycsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIFBlclJlcXVlc3Q6IHtcbiAgICAgICAgICAgICAgICBWYWx1ZTogMTMwMDAsXG4gICAgICAgICAgICAgICAgVW5pdDogJ21zJyxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgUm91dGVOYW1lOiAndGVzdC1odHRwMi1yb3V0ZScsXG4gICAgICB9KTtcblxuICAgICAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6QXBwTWVzaDo6Um91dGUnLCB7XG4gICAgICAgIFNwZWM6IHtcbiAgICAgICAgICBUY3BSb3V0ZToge1xuICAgICAgICAgICAgQWN0aW9uOiB7XG4gICAgICAgICAgICAgIFdlaWdodGVkVGFyZ2V0czogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIFZpcnR1YWxOb2RlOiB7XG4gICAgICAgICAgICAgICAgICAgICdGbjo6R2V0QXR0JzogW1xuICAgICAgICAgICAgICAgICAgICAgICdtZXNodGVzdG5vZGVGOTM5NDZENCcsXG4gICAgICAgICAgICAgICAgICAgICAgJ1ZpcnR1YWxOb2RlTmFtZScsXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgV2VpZ2h0OiAxLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgVGltZW91dDoge1xuICAgICAgICAgICAgICBJZGxlOiB7XG4gICAgICAgICAgICAgICAgVmFsdWU6IDE0MDAwLFxuICAgICAgICAgICAgICAgIFVuaXQ6ICdtcycsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIFJvdXRlTmFtZTogJ3Rlc3QtdGNwLXJvdXRlJyxcbiAgICAgIH0pO1xuXG4gICAgICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpBcHBNZXNoOjpSb3V0ZScsIHtcbiAgICAgICAgU3BlYzoge1xuICAgICAgICAgIEdycGNSb3V0ZToge1xuICAgICAgICAgICAgQWN0aW9uOiB7XG4gICAgICAgICAgICAgIFdlaWdodGVkVGFyZ2V0czogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIFZpcnR1YWxOb2RlOiB7XG4gICAgICAgICAgICAgICAgICAgICdGbjo6R2V0QXR0JzogW1xuICAgICAgICAgICAgICAgICAgICAgICdtZXNodGVzdG5vZGVGOTM5NDZENCcsXG4gICAgICAgICAgICAgICAgICAgICAgJ1ZpcnR1YWxOb2RlTmFtZScsXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgV2VpZ2h0OiAxLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgTWF0Y2g6IHtcbiAgICAgICAgICAgICAgU2VydmljZU5hbWU6ICd0ZXN0LnN2Yy5sb2NhbCcsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgVGltZW91dDoge1xuICAgICAgICAgICAgICBJZGxlOiB7XG4gICAgICAgICAgICAgICAgVmFsdWU6IDE1MDAwLFxuICAgICAgICAgICAgICAgIFVuaXQ6ICdtcycsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIFBlclJlcXVlc3Q6IHtcbiAgICAgICAgICAgICAgICBWYWx1ZTogMTYwMDAsXG4gICAgICAgICAgICAgICAgVW5pdDogJ21zJyxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgUm91dGVOYW1lOiAndGVzdC1ncnBjLXJvdXRlJyxcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhdmUgZXhwZWN0ZWQgZmVhdHVyZXMnLCAoKSA9PiB7XG4gICAgICAvLyBHSVZFTlxuICAgICAgY29uc3Qgc3RhY2sgPSBuZXcgY2RrLlN0YWNrKCk7XG4gICAgICBjb25zdCBtZXNoID0gbmV3IGFwcG1lc2guTWVzaChzdGFjaywgJ21lc2gnLCB7XG4gICAgICAgIG1lc2hOYW1lOiAndGVzdC1tZXNoJyxcbiAgICAgIH0pO1xuICAgICAgY29uc3Qgcm91dGVyID0gbmV3IGFwcG1lc2guVmlydHVhbFJvdXRlcihzdGFjaywgJ3JvdXRlcicsIHtcbiAgICAgICAgbWVzaCxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBXSEVOXG4gICAgICBjb25zdCBub2RlID0gbWVzaC5hZGRWaXJ0dWFsTm9kZSgndGVzdC1ub2RlJywge1xuICAgICAgICBzZXJ2aWNlRGlzY292ZXJ5OiBhcHBtZXNoLlNlcnZpY2VEaXNjb3ZlcnkuZG5zKCd0ZXN0JyksXG4gICAgICAgIGxpc3RlbmVyczogW2FwcG1lc2guVmlydHVhbE5vZGVMaXN0ZW5lci5odHRwKCldLFxuICAgICAgfSk7XG5cbiAgICAgIHJvdXRlci5hZGRSb3V0ZSgndGVzdC1odHRwLXJvdXRlJywge1xuICAgICAgICByb3V0ZVNwZWM6IGFwcG1lc2guUm91dGVTcGVjLmh0dHAoe1xuICAgICAgICAgIHdlaWdodGVkVGFyZ2V0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB2aXJ0dWFsTm9kZTogbm9kZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgICBtYXRjaDoge1xuICAgICAgICAgICAgcGF0aDogYXBwbWVzaC5IdHRwUm91dGVQYXRoTWF0Y2guc3RhcnRzV2l0aCgnL25vZGUnKSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRpbWVvdXQ6IHtcbiAgICAgICAgICAgIGlkbGU6IGNkay5EdXJhdGlvbi5zZWNvbmRzKDEwKSxcbiAgICAgICAgICAgIHBlclJlcXVlc3Q6IGNkay5EdXJhdGlvbi5zZWNvbmRzKDExKSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBUSEVOXG4gICAgICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpBcHBNZXNoOjpSb3V0ZScsIHtcbiAgICAgICAgU3BlYzoge1xuICAgICAgICAgIEh0dHBSb3V0ZToge1xuICAgICAgICAgICAgQWN0aW9uOiB7XG4gICAgICAgICAgICAgIFdlaWdodGVkVGFyZ2V0czogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIFZpcnR1YWxOb2RlOiB7XG4gICAgICAgICAgICAgICAgICAgICdGbjo6R2V0QXR0JzogW1xuICAgICAgICAgICAgICAgICAgICAgICdtZXNodGVzdG5vZGVGOTM5NDZENCcsXG4gICAgICAgICAgICAgICAgICAgICAgJ1ZpcnR1YWxOb2RlTmFtZScsXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgV2VpZ2h0OiAxLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgTWF0Y2g6IHtcbiAgICAgICAgICAgICAgUHJlZml4OiAnL25vZGUnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFRpbWVvdXQ6IHtcbiAgICAgICAgICAgICAgSWRsZToge1xuICAgICAgICAgICAgICAgIFZhbHVlOiAxMDAwMCxcbiAgICAgICAgICAgICAgICBVbml0OiAnbXMnLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBQZXJSZXF1ZXN0OiB7XG4gICAgICAgICAgICAgICAgVmFsdWU6IDExMDAwLFxuICAgICAgICAgICAgICAgIFVuaXQ6ICdtcycsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIFJvdXRlTmFtZTogJ3Rlc3QtaHR0cC1yb3V0ZScsXG4gICAgICB9KTtcblxuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGFsbG93IGh0dHAgcmV0cmllcycsICgpID0+IHtcbiAgICAgIC8vIEdJVkVOXG4gICAgICBjb25zdCBzdGFjayA9IG5ldyBjZGsuU3RhY2soKTtcbiAgICAgIGNvbnN0IG1lc2ggPSBuZXcgYXBwbWVzaC5NZXNoKHN0YWNrLCAnbWVzaCcsIHtcbiAgICAgICAgbWVzaE5hbWU6ICd0ZXN0LW1lc2gnLFxuICAgICAgfSk7XG4gICAgICBjb25zdCByb3V0ZXIgPSBuZXcgYXBwbWVzaC5WaXJ0dWFsUm91dGVyKHN0YWNrLCAncm91dGVyJywge1xuICAgICAgICBtZXNoLFxuICAgICAgfSk7XG4gICAgICBjb25zdCB2aXJ0dWFsTm9kZSA9IG1lc2guYWRkVmlydHVhbE5vZGUoJ3Rlc3Qtbm9kZScsIHtcbiAgICAgICAgc2VydmljZURpc2NvdmVyeTogYXBwbWVzaC5TZXJ2aWNlRGlzY292ZXJ5LmRucygndGVzdCcpLFxuICAgICAgICBsaXN0ZW5lcnM6IFthcHBtZXNoLlZpcnR1YWxOb2RlTGlzdGVuZXIuaHR0cCgpXSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBXSEVOXG4gICAgICByb3V0ZXIuYWRkUm91dGUoJ3Rlc3QtaHR0cC1yb3V0ZScsIHtcbiAgICAgICAgcm91dGVTcGVjOiBhcHBtZXNoLlJvdXRlU3BlYy5odHRwKHtcbiAgICAgICAgICB3ZWlnaHRlZFRhcmdldHM6IFt7IHZpcnR1YWxOb2RlIH1dLFxuICAgICAgICAgIHJldHJ5UG9saWN5OiB7XG4gICAgICAgICAgICBodHRwUmV0cnlFdmVudHM6IFthcHBtZXNoLkh0dHBSZXRyeUV2ZW50LkNMSUVOVF9FUlJPUl0sXG4gICAgICAgICAgICB0Y3BSZXRyeUV2ZW50czogW2FwcG1lc2guVGNwUmV0cnlFdmVudC5DT05ORUNUSU9OX0VSUk9SXSxcbiAgICAgICAgICAgIHJldHJ5QXR0ZW1wdHM6IDUsXG4gICAgICAgICAgICByZXRyeVRpbWVvdXQ6IGNkay5EdXJhdGlvbi5zZWNvbmRzKDEwKSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBUSEVOXG4gICAgICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpBcHBNZXNoOjpSb3V0ZScsIHtcbiAgICAgICAgU3BlYzoge1xuICAgICAgICAgIEh0dHBSb3V0ZToge1xuICAgICAgICAgICAgUmV0cnlQb2xpY3k6IHtcbiAgICAgICAgICAgICAgSHR0cFJldHJ5RXZlbnRzOiBbJ2NsaWVudC1lcnJvciddLFxuICAgICAgICAgICAgICBUY3BSZXRyeUV2ZW50czogWydjb25uZWN0aW9uLWVycm9yJ10sXG4gICAgICAgICAgICAgIE1heFJldHJpZXM6IDUsXG4gICAgICAgICAgICAgIFBlclJldHJ5VGltZW91dDoge1xuICAgICAgICAgICAgICAgIFVuaXQ6ICdtcycsXG4gICAgICAgICAgICAgICAgVmFsdWU6IDEwMDAwLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdodHRwIHJldHJ5IGV2ZW50cyBhcmUgTWF0Y2guYWJzZW50KCkgd2hlbiBzcGVjaWZpZWQgYXMgYW4gZW1wdHkgYXJyYXknLCAoKSA9PiB7XG4gICAgICAvLyBHSVZFTlxuICAgICAgY29uc3Qgc3RhY2sgPSBuZXcgY2RrLlN0YWNrKCk7XG4gICAgICBjb25zdCBtZXNoID0gbmV3IGFwcG1lc2guTWVzaChzdGFjaywgJ21lc2gnLCB7XG4gICAgICAgIG1lc2hOYW1lOiAndGVzdC1tZXNoJyxcbiAgICAgIH0pO1xuICAgICAgY29uc3Qgcm91dGVyID0gbmV3IGFwcG1lc2guVmlydHVhbFJvdXRlcihzdGFjaywgJ3JvdXRlcicsIHtcbiAgICAgICAgbWVzaCxcbiAgICAgIH0pO1xuICAgICAgY29uc3QgdmlydHVhbE5vZGUgPSBtZXNoLmFkZFZpcnR1YWxOb2RlKCd0ZXN0LW5vZGUnLCB7XG4gICAgICAgIHNlcnZpY2VEaXNjb3Zlcnk6IGFwcG1lc2guU2VydmljZURpc2NvdmVyeS5kbnMoJ3Rlc3QnKSxcbiAgICAgICAgbGlzdGVuZXJzOiBbYXBwbWVzaC5WaXJ0dWFsTm9kZUxpc3RlbmVyLmh0dHAoKV0sXG4gICAgICB9KTtcblxuICAgICAgLy8gV0hFTlxuICAgICAgcm91dGVyLmFkZFJvdXRlKCd0ZXN0LWh0dHAtcm91dGUnLCB7XG4gICAgICAgIHJvdXRlU3BlYzogYXBwbWVzaC5Sb3V0ZVNwZWMuaHR0cCh7XG4gICAgICAgICAgd2VpZ2h0ZWRUYXJnZXRzOiBbeyB2aXJ0dWFsTm9kZSB9XSxcbiAgICAgICAgICByZXRyeVBvbGljeToge1xuICAgICAgICAgICAgaHR0cFJldHJ5RXZlbnRzOiBbXSxcbiAgICAgICAgICAgIHRjcFJldHJ5RXZlbnRzOiBbYXBwbWVzaC5UY3BSZXRyeUV2ZW50LkNPTk5FQ1RJT05fRVJST1JdLFxuICAgICAgICAgICAgcmV0cnlBdHRlbXB0czogNSxcbiAgICAgICAgICAgIHJldHJ5VGltZW91dDogY2RrLkR1cmF0aW9uLnNlY29uZHMoMTApLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIHJvdXRlci5hZGRSb3V0ZSgndGVzdC1odHRwLXJvdXRlMicsIHtcbiAgICAgICAgcm91dGVTcGVjOiBhcHBtZXNoLlJvdXRlU3BlYy5odHRwKHtcbiAgICAgICAgICB3ZWlnaHRlZFRhcmdldHM6IFt7IHZpcnR1YWxOb2RlIH1dLFxuICAgICAgICAgIHJldHJ5UG9saWN5OiB7XG4gICAgICAgICAgICBodHRwUmV0cnlFdmVudHM6IFthcHBtZXNoLkh0dHBSZXRyeUV2ZW50LkNMSUVOVF9FUlJPUl0sXG4gICAgICAgICAgICB0Y3BSZXRyeUV2ZW50czogW10sXG4gICAgICAgICAgICByZXRyeUF0dGVtcHRzOiA1LFxuICAgICAgICAgICAgcmV0cnlUaW1lb3V0OiBjZGsuRHVyYXRpb24uc2Vjb25kcygxMCksXG4gICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgLy8gVEhFTlxuICAgICAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6QXBwTWVzaDo6Um91dGUnLCB7XG4gICAgICAgIFNwZWM6IHtcbiAgICAgICAgICBIdHRwUm91dGU6IHtcbiAgICAgICAgICAgIFJldHJ5UG9saWN5OiB7XG4gICAgICAgICAgICAgIEh0dHBSZXRyeUV2ZW50czogTWF0Y2guYWJzZW50KCksXG4gICAgICAgICAgICAgIFRjcFJldHJ5RXZlbnRzOiBbJ2Nvbm5lY3Rpb24tZXJyb3InXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6QXBwTWVzaDo6Um91dGUnLCB7XG4gICAgICAgIFNwZWM6IHtcbiAgICAgICAgICBIdHRwUm91dGU6IHtcbiAgICAgICAgICAgIFJldHJ5UG9saWN5OiB7XG4gICAgICAgICAgICAgIEh0dHBSZXRyeUV2ZW50czogWydjbGllbnQtZXJyb3InXSxcbiAgICAgICAgICAgICAgVGNwUmV0cnlFdmVudHM6IE1hdGNoLmFic2VudCgpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdlcnJvcnMgd2hlbiBodHRwIHJldHJ5IHBvbGljeSBoYXMgbm8gZXZlbnRzJywgKCkgPT4ge1xuICAgICAgLy8gR0lWRU5cbiAgICAgIGNvbnN0IHN0YWNrID0gbmV3IGNkay5TdGFjaygpO1xuICAgICAgY29uc3QgbWVzaCA9IG5ldyBhcHBtZXNoLk1lc2goc3RhY2ssICdtZXNoJywge1xuICAgICAgICBtZXNoTmFtZTogJ3Rlc3QtbWVzaCcsXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHJvdXRlciA9IG5ldyBhcHBtZXNoLlZpcnR1YWxSb3V0ZXIoc3RhY2ssICdyb3V0ZXInLCB7XG4gICAgICAgIG1lc2gsXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHZpcnR1YWxOb2RlID0gbWVzaC5hZGRWaXJ0dWFsTm9kZSgndGVzdC1ub2RlJywge1xuICAgICAgICBzZXJ2aWNlRGlzY292ZXJ5OiBhcHBtZXNoLlNlcnZpY2VEaXNjb3ZlcnkuZG5zKCd0ZXN0JyksXG4gICAgICAgIGxpc3RlbmVyczogW2FwcG1lc2guVmlydHVhbE5vZGVMaXN0ZW5lci5odHRwKCldLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIFdIRU5cbiAgICAgIGV4cGVjdCgoKSA9PiB7XG4gICAgICAgIHJvdXRlci5hZGRSb3V0ZSgndGVzdC1odHRwLXJvdXRlJywge1xuICAgICAgICAgIHJvdXRlU3BlYzogYXBwbWVzaC5Sb3V0ZVNwZWMuaHR0cCh7XG4gICAgICAgICAgICB3ZWlnaHRlZFRhcmdldHM6IFt7IHZpcnR1YWxOb2RlIH1dLFxuICAgICAgICAgICAgcmV0cnlQb2xpY3k6IHtcbiAgICAgICAgICAgICAgcmV0cnlBdHRlbXB0czogNSxcbiAgICAgICAgICAgICAgcmV0cnlUaW1lb3V0OiBjZGsuRHVyYXRpb24uc2Vjb25kcygxMCksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pLFxuICAgICAgICB9KTtcbiAgICAgIH0pLnRvVGhyb3coL3NwZWNpZnkgb25lIHZhbHVlIGZvciBhdCBsZWFzdC9pKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBhbGxvdyBncnBjIHJldHJpZXMnLCAoKSA9PiB7XG4gICAgICAvLyBHSVZFTlxuICAgICAgY29uc3Qgc3RhY2sgPSBuZXcgY2RrLlN0YWNrKCk7XG4gICAgICBjb25zdCBtZXNoID0gbmV3IGFwcG1lc2guTWVzaChzdGFjaywgJ21lc2gnLCB7XG4gICAgICAgIG1lc2hOYW1lOiAndGVzdC1tZXNoJyxcbiAgICAgIH0pO1xuICAgICAgY29uc3Qgcm91dGVyID0gbmV3IGFwcG1lc2guVmlydHVhbFJvdXRlcihzdGFjaywgJ3JvdXRlcicsIHtcbiAgICAgICAgbWVzaCxcbiAgICAgIH0pO1xuICAgICAgY29uc3QgdmlydHVhbE5vZGUgPSBtZXNoLmFkZFZpcnR1YWxOb2RlKCd0ZXN0LW5vZGUnLCB7XG4gICAgICAgIHNlcnZpY2VEaXNjb3Zlcnk6IGFwcG1lc2guU2VydmljZURpc2NvdmVyeS5kbnMoJ3Rlc3QnKSxcbiAgICAgICAgbGlzdGVuZXJzOiBbYXBwbWVzaC5WaXJ0dWFsTm9kZUxpc3RlbmVyLmh0dHAoKV0sXG4gICAgICB9KTtcblxuICAgICAgLy8gV0hFTlxuICAgICAgcm91dGVyLmFkZFJvdXRlKCd0ZXN0LWdycGMtcm91dGUnLCB7XG4gICAgICAgIHJvdXRlU3BlYzogYXBwbWVzaC5Sb3V0ZVNwZWMuZ3JwYyh7XG4gICAgICAgICAgd2VpZ2h0ZWRUYXJnZXRzOiBbeyB2aXJ0dWFsTm9kZSB9XSxcbiAgICAgICAgICBtYXRjaDogeyBzZXJ2aWNlTmFtZTogJ3NlcnZpY2VuYW1lJyB9LFxuICAgICAgICAgIHJldHJ5UG9saWN5OiB7XG4gICAgICAgICAgICBncnBjUmV0cnlFdmVudHM6IFthcHBtZXNoLkdycGNSZXRyeUV2ZW50LkRFQURMSU5FX0VYQ0VFREVEXSxcbiAgICAgICAgICAgIGh0dHBSZXRyeUV2ZW50czogW2FwcG1lc2guSHR0cFJldHJ5RXZlbnQuQ0xJRU5UX0VSUk9SXSxcbiAgICAgICAgICAgIHRjcFJldHJ5RXZlbnRzOiBbYXBwbWVzaC5UY3BSZXRyeUV2ZW50LkNPTk5FQ1RJT05fRVJST1JdLFxuICAgICAgICAgICAgcmV0cnlBdHRlbXB0czogNSxcbiAgICAgICAgICAgIHJldHJ5VGltZW91dDogY2RrLkR1cmF0aW9uLnNlY29uZHMoMTApLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIFRIRU5cbiAgICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkFwcE1lc2g6OlJvdXRlJywge1xuICAgICAgICBTcGVjOiB7XG4gICAgICAgICAgR3JwY1JvdXRlOiB7XG4gICAgICAgICAgICBSZXRyeVBvbGljeToge1xuICAgICAgICAgICAgICBHcnBjUmV0cnlFdmVudHM6IFsnZGVhZGxpbmUtZXhjZWVkZWQnXSxcbiAgICAgICAgICAgICAgSHR0cFJldHJ5RXZlbnRzOiBbJ2NsaWVudC1lcnJvciddLFxuICAgICAgICAgICAgICBUY3BSZXRyeUV2ZW50czogWydjb25uZWN0aW9uLWVycm9yJ10sXG4gICAgICAgICAgICAgIE1heFJldHJpZXM6IDUsXG4gICAgICAgICAgICAgIFBlclJldHJ5VGltZW91dDoge1xuICAgICAgICAgICAgICAgIFVuaXQ6ICdtcycsXG4gICAgICAgICAgICAgICAgVmFsdWU6IDEwMDAwLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdncnBjIHJldHJ5IGV2ZW50cyBhcmUgTWF0Y2guYWJzZW50KCkgd2hlbiBzcGVjaWZpZWQgYXMgYW4gZW1wdHkgYXJyYXknLCAoKSA9PiB7XG4gICAgICAvLyBHSVZFTlxuICAgICAgY29uc3Qgc3RhY2sgPSBuZXcgY2RrLlN0YWNrKCk7XG4gICAgICBjb25zdCBtZXNoID0gbmV3IGFwcG1lc2guTWVzaChzdGFjaywgJ21lc2gnLCB7XG4gICAgICAgIG1lc2hOYW1lOiAndGVzdC1tZXNoJyxcbiAgICAgIH0pO1xuICAgICAgY29uc3Qgcm91dGVyID0gbmV3IGFwcG1lc2guVmlydHVhbFJvdXRlcihzdGFjaywgJ3JvdXRlcicsIHtcbiAgICAgICAgbWVzaCxcbiAgICAgIH0pO1xuICAgICAgY29uc3QgdmlydHVhbE5vZGUgPSBtZXNoLmFkZFZpcnR1YWxOb2RlKCd0ZXN0LW5vZGUnLCB7XG4gICAgICAgIHNlcnZpY2VEaXNjb3Zlcnk6IGFwcG1lc2guU2VydmljZURpc2NvdmVyeS5kbnMoJ3Rlc3QnKSxcbiAgICAgICAgbGlzdGVuZXJzOiBbYXBwbWVzaC5WaXJ0dWFsTm9kZUxpc3RlbmVyLmh0dHAoKV0sXG4gICAgICB9KTtcblxuICAgICAgLy8gV0hFTlxuICAgICAgcm91dGVyLmFkZFJvdXRlKCd0ZXN0LWdycGMtcm91dGUnLCB7XG4gICAgICAgIHJvdXRlU3BlYzogYXBwbWVzaC5Sb3V0ZVNwZWMuZ3JwYyh7XG4gICAgICAgICAgd2VpZ2h0ZWRUYXJnZXRzOiBbeyB2aXJ0dWFsTm9kZSB9XSxcbiAgICAgICAgICBtYXRjaDogeyBzZXJ2aWNlTmFtZTogJ2V4YW1wbGUnIH0sXG4gICAgICAgICAgcmV0cnlQb2xpY3k6IHtcbiAgICAgICAgICAgIGdycGNSZXRyeUV2ZW50czogW10sXG4gICAgICAgICAgICBodHRwUmV0cnlFdmVudHM6IFtdLFxuICAgICAgICAgICAgdGNwUmV0cnlFdmVudHM6IFthcHBtZXNoLlRjcFJldHJ5RXZlbnQuQ09OTkVDVElPTl9FUlJPUl0sXG4gICAgICAgICAgICByZXRyeUF0dGVtcHRzOiA1LFxuICAgICAgICAgICAgcmV0cnlUaW1lb3V0OiBjZGsuRHVyYXRpb24uc2Vjb25kcygxMCksXG4gICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgcm91dGVyLmFkZFJvdXRlKCd0ZXN0LWdycGMtcm91dGUyJywge1xuICAgICAgICByb3V0ZVNwZWM6IGFwcG1lc2guUm91dGVTcGVjLmdycGMoe1xuICAgICAgICAgIHdlaWdodGVkVGFyZ2V0czogW3sgdmlydHVhbE5vZGUgfV0sXG4gICAgICAgICAgbWF0Y2g6IHsgc2VydmljZU5hbWU6ICdleGFtcGxlJyB9LFxuICAgICAgICAgIHJldHJ5UG9saWN5OiB7XG4gICAgICAgICAgICBncnBjUmV0cnlFdmVudHM6IFthcHBtZXNoLkdycGNSZXRyeUV2ZW50LkNBTkNFTExFRF0sXG4gICAgICAgICAgICBodHRwUmV0cnlFdmVudHM6IFtdLFxuICAgICAgICAgICAgdGNwUmV0cnlFdmVudHM6IFtdLFxuICAgICAgICAgICAgcmV0cnlBdHRlbXB0czogNSxcbiAgICAgICAgICAgIHJldHJ5VGltZW91dDogY2RrLkR1cmF0aW9uLnNlY29uZHMoMTApLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIFRIRU5cbiAgICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkFwcE1lc2g6OlJvdXRlJywge1xuICAgICAgICBTcGVjOiB7XG4gICAgICAgICAgR3JwY1JvdXRlOiB7XG4gICAgICAgICAgICBSZXRyeVBvbGljeToge1xuICAgICAgICAgICAgICBHcnBjUmV0cnlFdmVudHM6IE1hdGNoLmFic2VudCgpLFxuICAgICAgICAgICAgICBIdHRwUmV0cnlFdmVudHM6IE1hdGNoLmFic2VudCgpLFxuICAgICAgICAgICAgICBUY3BSZXRyeUV2ZW50czogWydjb25uZWN0aW9uLWVycm9yJ10sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkFwcE1lc2g6OlJvdXRlJywge1xuICAgICAgICBTcGVjOiB7XG4gICAgICAgICAgR3JwY1JvdXRlOiB7XG4gICAgICAgICAgICBSZXRyeVBvbGljeToge1xuICAgICAgICAgICAgICBHcnBjUmV0cnlFdmVudHM6IFsnY2FuY2VsbGVkJ10sXG4gICAgICAgICAgICAgIEh0dHBSZXRyeUV2ZW50czogTWF0Y2guYWJzZW50KCksXG4gICAgICAgICAgICAgIFRjcFJldHJ5RXZlbnRzOiBNYXRjaC5hYnNlbnQoKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnZXJyb3JzIHdoZW4gZ3JwYyByZXRyeSBwb2xpY3kgaGFzIG5vIGV2ZW50cycsICgpID0+IHtcbiAgICAgIC8vIEdJVkVOXG4gICAgICBjb25zdCBzdGFjayA9IG5ldyBjZGsuU3RhY2soKTtcbiAgICAgIGNvbnN0IG1lc2ggPSBuZXcgYXBwbWVzaC5NZXNoKHN0YWNrLCAnbWVzaCcsIHtcbiAgICAgICAgbWVzaE5hbWU6ICd0ZXN0LW1lc2gnLFxuICAgICAgfSk7XG4gICAgICBjb25zdCByb3V0ZXIgPSBuZXcgYXBwbWVzaC5WaXJ0dWFsUm91dGVyKHN0YWNrLCAncm91dGVyJywge1xuICAgICAgICBtZXNoLFxuICAgICAgfSk7XG4gICAgICBjb25zdCB2aXJ0dWFsTm9kZSA9IG1lc2guYWRkVmlydHVhbE5vZGUoJ3Rlc3Qtbm9kZScsIHtcbiAgICAgICAgc2VydmljZURpc2NvdmVyeTogYXBwbWVzaC5TZXJ2aWNlRGlzY292ZXJ5LmRucygndGVzdCcpLFxuICAgICAgICBsaXN0ZW5lcnM6IFthcHBtZXNoLlZpcnR1YWxOb2RlTGlzdGVuZXIuaHR0cCgpXSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBXSEVOXG4gICAgICBleHBlY3QoKCkgPT4ge1xuICAgICAgICByb3V0ZXIuYWRkUm91dGUoJ3Rlc3QtZ3JwYy1yb3V0ZScsIHtcbiAgICAgICAgICByb3V0ZVNwZWM6IGFwcG1lc2guUm91dGVTcGVjLmdycGMoe1xuICAgICAgICAgICAgd2VpZ2h0ZWRUYXJnZXRzOiBbeyB2aXJ0dWFsTm9kZSB9XSxcbiAgICAgICAgICAgIG1hdGNoOiB7IHNlcnZpY2VOYW1lOiAnc2VydmljZW5hbWUnIH0sXG4gICAgICAgICAgICByZXRyeVBvbGljeToge1xuICAgICAgICAgICAgICByZXRyeUF0dGVtcHRzOiA1LFxuICAgICAgICAgICAgICByZXRyeVRpbWVvdXQ6IGNkay5EdXJhdGlvbi5zZWNvbmRzKDEwKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSksXG4gICAgICAgIH0pO1xuICAgICAgfSkudG9UaHJvdygvc3BlY2lmeSBvbmUgdmFsdWUgZm9yIGF0IGxlYXN0L2kpO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ3dpdGggc2hhcmVkIHNlcnZpY2UgbWVzaCcsICgpID0+IHtcbiAgICAgIHRlc3QoJ01lc2ggT3duZXIgaXMgdGhlIEFXUyBhY2NvdW50IElEIG9mIHRoZSBhY2NvdW50IHRoYXQgc2hhcmVkIHRoZSBtZXNoIHdpdGggeW91ciBhY2NvdW50JywgKCkgPT4ge1xuICAgICAgICAvLyBHSVZFTlxuICAgICAgICBjb25zdCBhcHAgPSBuZXcgY2RrLkFwcCgpO1xuICAgICAgICBjb25zdCBtZXNoRW52ID0geyBhY2NvdW50OiAnMTIzNDU2Nzg5OScsIHJlZ2lvbjogJ3VzLXdlc3QtMicgfTtcbiAgICAgICAgY29uc3Qgcm91dGVFbnYgPSB7IGFjY291bnQ6ICc5OTg3NjU0MzIxJywgcmVnaW9uOiAndXMtd2VzdC0yJyB9O1xuICAgICAgICAvLyBDcmVhdGluZyBzdGFjayBpbiBBY2NvdW50IDk5ODc2NTQzMjFcbiAgICAgICAgY29uc3Qgc3RhY2sgPSBuZXcgY2RrLlN0YWNrKGFwcCwgJ215U2hhcmVkU3RhY2snLCB7IGVudjogcm91dGVFbnYgfSk7XG4gICAgICAgIC8vIE1lc2ggaXMgaW4gQWNjb3VudCAxMjM0NTY3ODk5XG4gICAgICAgIGNvbnN0IHNoYXJlZE1lc2ggPSBhcHBtZXNoLk1lc2guZnJvbU1lc2hBcm4oc3RhY2ssICdzaGFyZWQtbWVzaCcsXG4gICAgICAgICAgYGFybjphd3M6YXBwbWVzaDoke21lc2hFbnYucmVnaW9ufToke21lc2hFbnYuYWNjb3VudH06bWVzaC9zaGFyZWQtbWVzaGApO1xuICAgICAgICBjb25zdCByb3V0ZXIgPSBuZXcgYXBwbWVzaC5WaXJ0dWFsUm91dGVyKHN0YWNrLCAncm91dGVyJywge1xuICAgICAgICAgIG1lc2g6IHNoYXJlZE1lc2gsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCB2aXJ0dWFsTm9kZSA9IHNoYXJlZE1lc2guYWRkVmlydHVhbE5vZGUoJ3Rlc3Qtbm9kZScsIHtcbiAgICAgICAgICBzZXJ2aWNlRGlzY292ZXJ5OiBhcHBtZXNoLlNlcnZpY2VEaXNjb3ZlcnkuZG5zKCd0ZXN0JyksXG4gICAgICAgICAgbGlzdGVuZXJzOiBbYXBwbWVzaC5WaXJ0dWFsTm9kZUxpc3RlbmVyLmh0dHAoKV0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIG5ldyBhcHBtZXNoLlJvdXRlKHN0YWNrLCAndGVzdC1yb3V0ZScsIHtcbiAgICAgICAgICBtZXNoOiBzaGFyZWRNZXNoLFxuICAgICAgICAgIHJvdXRlU3BlYzogYXBwbWVzaC5Sb3V0ZVNwZWMuZ3JwYyh7XG4gICAgICAgICAgICB3ZWlnaHRlZFRhcmdldHM6IFt7IHZpcnR1YWxOb2RlIH1dLFxuICAgICAgICAgICAgbWF0Y2g6IHsgc2VydmljZU5hbWU6ICdleGFtcGxlJyB9LFxuICAgICAgICAgIH0pLFxuICAgICAgICAgIHZpcnR1YWxSb3V0ZXI6IHJvdXRlcixcblxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBUSEVOXG4gICAgICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkFwcE1lc2g6OlJvdXRlJywge1xuICAgICAgICAgIE1lc2hPd25lcjogbWVzaEVudi5hY2NvdW50LFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICB0ZXN0KCdzaG91bGQgbWF0Y2ggcm91dGVzIGJhc2VkIG9uIGhlYWRlcnMnLCAoKSA9PiB7XG4gICAgLy8gR0lWRU5cbiAgICBjb25zdCBzdGFjayA9IG5ldyBjZGsuU3RhY2soKTtcbiAgICBjb25zdCBtZXNoID0gbmV3IGFwcG1lc2guTWVzaChzdGFjaywgJ21lc2gnLCB7XG4gICAgICBtZXNoTmFtZTogJ3Rlc3QtbWVzaCcsXG4gICAgfSk7XG5cbiAgICBjb25zdCByb3V0ZXIgPSBuZXcgYXBwbWVzaC5WaXJ0dWFsUm91dGVyKHN0YWNrLCAncm91dGVyJywge1xuICAgICAgbWVzaCxcbiAgICB9KTtcblxuICAgIGNvbnN0IHZpcnR1YWxOb2RlID0gbWVzaC5hZGRWaXJ0dWFsTm9kZSgndGVzdC1ub2RlJywge1xuICAgICAgc2VydmljZURpc2NvdmVyeTogYXBwbWVzaC5TZXJ2aWNlRGlzY292ZXJ5LmRucygndGVzdCcpLFxuICAgICAgbGlzdGVuZXJzOiBbYXBwbWVzaC5WaXJ0dWFsTm9kZUxpc3RlbmVyLmh0dHAoKV0sXG4gICAgfSk7XG5cbiAgICAvLyBXSEVOXG4gICAgcm91dGVyLmFkZFJvdXRlKCdyb3V0ZScsIHtcbiAgICAgIHJvdXRlU3BlYzogYXBwbWVzaC5Sb3V0ZVNwZWMuaHR0cDIoe1xuICAgICAgICB3ZWlnaHRlZFRhcmdldHM6IFt7IHZpcnR1YWxOb2RlIH1dLFxuICAgICAgICBtYXRjaDoge1xuICAgICAgICAgIHBhdGg6IGFwcG1lc2guSHR0cFJvdXRlUGF0aE1hdGNoLnN0YXJ0c1dpdGgoJy8nKSxcbiAgICAgICAgICBoZWFkZXJzOiBbXG4gICAgICAgICAgICBhcHBtZXNoLkhlYWRlck1hdGNoLnZhbHVlSXMoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyksXG4gICAgICAgICAgICBhcHBtZXNoLkhlYWRlck1hdGNoLnZhbHVlSXNOb3QoJ0NvbnRlbnQtVHlwZScsICd0ZXh0L2h0bWwnKSxcbiAgICAgICAgICAgIGFwcG1lc2guSGVhZGVyTWF0Y2gudmFsdWVTdGFydHNXaXRoKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vJyksXG4gICAgICAgICAgICBhcHBtZXNoLkhlYWRlck1hdGNoLnZhbHVlRG9lc05vdFN0YXJ0V2l0aCgnQ29udGVudC1UeXBlJywgJ3RleHQvJyksXG4gICAgICAgICAgICBhcHBtZXNoLkhlYWRlck1hdGNoLnZhbHVlRW5kc1dpdGgoJ0NvbnRlbnQtVHlwZScsICcvanNvbicpLFxuICAgICAgICAgICAgYXBwbWVzaC5IZWFkZXJNYXRjaC52YWx1ZURvZXNOb3RFbmRXaXRoKCdDb250ZW50LVR5cGUnLCAnL2pzb24rZm9vYmFyJyksXG4gICAgICAgICAgICBhcHBtZXNoLkhlYWRlck1hdGNoLnZhbHVlTWF0Y2hlc1JlZ2V4KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vLionKSxcbiAgICAgICAgICAgIGFwcG1lc2guSGVhZGVyTWF0Y2gudmFsdWVEb2VzTm90TWF0Y2hSZWdleCgnQ29udGVudC1UeXBlJywgJ3RleHQvLionKSxcbiAgICAgICAgICAgIGFwcG1lc2guSGVhZGVyTWF0Y2gudmFsdWVzSXNJblJhbmdlKCdNYXgtRm9yd2FyZCcsIDEsIDUpLFxuICAgICAgICAgICAgYXBwbWVzaC5IZWFkZXJNYXRjaC52YWx1ZXNJc05vdEluUmFuZ2UoJ01heC1Gb3J3YXJkJywgMSwgNSksXG4gICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgIH0pLFxuICAgIH0pO1xuXG4gICAgLy8gVEhFTlxuICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkFwcE1lc2g6OlJvdXRlJywge1xuICAgICAgU3BlYzoge1xuICAgICAgICBIdHRwMlJvdXRlOiB7XG4gICAgICAgICAgTWF0Y2g6IHtcbiAgICAgICAgICAgIFByZWZpeDogJy8nLFxuICAgICAgICAgICAgSGVhZGVyczogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgSW52ZXJ0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBNYXRjaDogeyBFeGFjdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICAgICAgTmFtZTogJ0NvbnRlbnQtVHlwZScsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBJbnZlcnQ6IHRydWUsXG4gICAgICAgICAgICAgICAgTWF0Y2g6IHsgRXhhY3Q6ICd0ZXh0L2h0bWwnIH0sXG4gICAgICAgICAgICAgICAgTmFtZTogJ0NvbnRlbnQtVHlwZScsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBJbnZlcnQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIE1hdGNoOiB7IFByZWZpeDogJ2FwcGxpY2F0aW9uLycgfSxcbiAgICAgICAgICAgICAgICBOYW1lOiAnQ29udGVudC1UeXBlJyxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIEludmVydDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBNYXRjaDogeyBQcmVmaXg6ICd0ZXh0LycgfSxcbiAgICAgICAgICAgICAgICBOYW1lOiAnQ29udGVudC1UeXBlJyxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIEludmVydDogZmFsc2UsXG4gICAgICAgICAgICAgICAgTWF0Y2g6IHsgU3VmZml4OiAnL2pzb24nIH0sXG4gICAgICAgICAgICAgICAgTmFtZTogJ0NvbnRlbnQtVHlwZScsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBJbnZlcnQ6IHRydWUsXG4gICAgICAgICAgICAgICAgTWF0Y2g6IHsgU3VmZml4OiAnL2pzb24rZm9vYmFyJyB9LFxuICAgICAgICAgICAgICAgIE5hbWU6ICdDb250ZW50LVR5cGUnLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgSW52ZXJ0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBNYXRjaDogeyBSZWdleDogJ2FwcGxpY2F0aW9uLy4qJyB9LFxuICAgICAgICAgICAgICAgIE5hbWU6ICdDb250ZW50LVR5cGUnLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgSW52ZXJ0OiB0cnVlLFxuICAgICAgICAgICAgICAgIE1hdGNoOiB7IFJlZ2V4OiAndGV4dC8uKicgfSxcbiAgICAgICAgICAgICAgICBOYW1lOiAnQ29udGVudC1UeXBlJyxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIEludmVydDogZmFsc2UsXG4gICAgICAgICAgICAgICAgTWF0Y2g6IHtcbiAgICAgICAgICAgICAgICAgIFJhbmdlOiB7XG4gICAgICAgICAgICAgICAgICAgIEVuZDogNSxcbiAgICAgICAgICAgICAgICAgICAgU3RhcnQ6IDEsXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgTmFtZTogJ01heC1Gb3J3YXJkJyxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIEludmVydDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBNYXRjaDoge1xuICAgICAgICAgICAgICAgICAgUmFuZ2U6IHtcbiAgICAgICAgICAgICAgICAgICAgRW5kOiA1LFxuICAgICAgICAgICAgICAgICAgICBTdGFydDogMSxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBOYW1lOiAnTWF4LUZvcndhcmQnLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9KTtcbiAgfSk7XG5cbiAgdGVzdCgnc2hvdWxkIG1hdGNoIHJvdXRlcyBiYXNlZCBvbiBtZXRob2QnLCAoKSA9PiB7XG4gICAgLy8gR0lWRU5cbiAgICBjb25zdCBzdGFjayA9IG5ldyBjZGsuU3RhY2soKTtcbiAgICBjb25zdCBtZXNoID0gbmV3IGFwcG1lc2guTWVzaChzdGFjaywgJ21lc2gnLCB7XG4gICAgICBtZXNoTmFtZTogJ3Rlc3QtbWVzaCcsXG4gICAgfSk7XG5cbiAgICBjb25zdCByb3V0ZXIgPSBuZXcgYXBwbWVzaC5WaXJ0dWFsUm91dGVyKHN0YWNrLCAncm91dGVyJywge1xuICAgICAgbWVzaCxcbiAgICB9KTtcblxuICAgIGNvbnN0IHZpcnR1YWxOb2RlID0gbWVzaC5hZGRWaXJ0dWFsTm9kZSgndGVzdC1ub2RlJywge1xuICAgICAgc2VydmljZURpc2NvdmVyeTogYXBwbWVzaC5TZXJ2aWNlRGlzY292ZXJ5LmRucygndGVzdCcpLFxuICAgICAgbGlzdGVuZXJzOiBbYXBwbWVzaC5WaXJ0dWFsTm9kZUxpc3RlbmVyLmh0dHAoKV0sXG4gICAgfSk7XG5cbiAgICAvLyBXSEVOXG4gICAgcm91dGVyLmFkZFJvdXRlKCdyb3V0ZScsIHtcbiAgICAgIHJvdXRlU3BlYzogYXBwbWVzaC5Sb3V0ZVNwZWMuaHR0cDIoe1xuICAgICAgICB3ZWlnaHRlZFRhcmdldHM6IFt7IHZpcnR1YWxOb2RlIH1dLFxuICAgICAgICBtYXRjaDoge1xuICAgICAgICAgIHBhdGg6IGFwcG1lc2guSHR0cFJvdXRlUGF0aE1hdGNoLnN0YXJ0c1dpdGgoJy8nKSxcbiAgICAgICAgICBtZXRob2Q6IGFwcG1lc2guSHR0cFJvdXRlTWV0aG9kLkdFVCxcbiAgICAgICAgfSxcbiAgICAgIH0pLFxuICAgIH0pO1xuXG4gICAgLy8gVEhFTlxuICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkFwcE1lc2g6OlJvdXRlJywge1xuICAgICAgU3BlYzoge1xuICAgICAgICBIdHRwMlJvdXRlOiB7XG4gICAgICAgICAgTWF0Y2g6IHtcbiAgICAgICAgICAgIFByZWZpeDogJy8nLFxuICAgICAgICAgICAgTWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9KTtcbiAgfSk7XG5cbiAgdGVzdCgnc2hvdWxkIG1hdGNoIHJvdXRlcyBiYXNlZCBvbiBzY2hlbWUnLCAoKSA9PiB7XG4gICAgLy8gR0lWRU5cbiAgICBjb25zdCBzdGFjayA9IG5ldyBjZGsuU3RhY2soKTtcbiAgICBjb25zdCBtZXNoID0gbmV3IGFwcG1lc2guTWVzaChzdGFjaywgJ21lc2gnLCB7XG4gICAgICBtZXNoTmFtZTogJ3Rlc3QtbWVzaCcsXG4gICAgfSk7XG5cbiAgICBjb25zdCByb3V0ZXIgPSBuZXcgYXBwbWVzaC5WaXJ0dWFsUm91dGVyKHN0YWNrLCAncm91dGVyJywge1xuICAgICAgbWVzaCxcbiAgICB9KTtcblxuICAgIGNvbnN0IHZpcnR1YWxOb2RlID0gbWVzaC5hZGRWaXJ0dWFsTm9kZSgndGVzdC1ub2RlJywge1xuICAgICAgc2VydmljZURpc2NvdmVyeTogYXBwbWVzaC5TZXJ2aWNlRGlzY292ZXJ5LmRucygndGVzdCcpLFxuICAgICAgbGlzdGVuZXJzOiBbYXBwbWVzaC5WaXJ0dWFsTm9kZUxpc3RlbmVyLmh0dHAoKV0sXG4gICAgfSk7XG5cbiAgICAvLyBXSEVOXG4gICAgcm91dGVyLmFkZFJvdXRlKCdyb3V0ZScsIHtcbiAgICAgIHJvdXRlU3BlYzogYXBwbWVzaC5Sb3V0ZVNwZWMuaHR0cDIoe1xuICAgICAgICB3ZWlnaHRlZFRhcmdldHM6IFt7IHZpcnR1YWxOb2RlIH1dLFxuICAgICAgICBtYXRjaDoge1xuICAgICAgICAgIHBhdGg6IGFwcG1lc2guSHR0cFJvdXRlUGF0aE1hdGNoLnN0YXJ0c1dpdGgoJy8nKSxcbiAgICAgICAgICBwcm90b2NvbDogYXBwbWVzaC5IdHRwUm91dGVQcm90b2NvbC5IVFRQLFxuICAgICAgICB9LFxuICAgICAgfSksXG4gICAgfSk7XG5cbiAgICAvLyBUSEVOXG4gICAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6QXBwTWVzaDo6Um91dGUnLCB7XG4gICAgICBTcGVjOiB7XG4gICAgICAgIEh0dHAyUm91dGU6IHtcbiAgICAgICAgICBNYXRjaDoge1xuICAgICAgICAgICAgUHJlZml4OiAnLycsXG4gICAgICAgICAgICBTY2hlbWU6ICdodHRwJyxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9KTtcbiAgfSk7XG5cbiAgdGVzdCgnc2hvdWxkIG1hdGNoIHJvdXRlcyBiYXNlZCBvbiBtZXRhZGF0YScsICgpID0+IHtcbiAgICAvLyBHSVZFTlxuICAgIGNvbnN0IHN0YWNrID0gbmV3IGNkay5TdGFjaygpO1xuICAgIGNvbnN0IG1lc2ggPSBuZXcgYXBwbWVzaC5NZXNoKHN0YWNrLCAnbWVzaCcsIHtcbiAgICAgIG1lc2hOYW1lOiAndGVzdC1tZXNoJyxcbiAgICB9KTtcblxuICAgIGNvbnN0IHJvdXRlciA9IG5ldyBhcHBtZXNoLlZpcnR1YWxSb3V0ZXIoc3RhY2ssICdyb3V0ZXInLCB7XG4gICAgICBtZXNoLFxuICAgIH0pO1xuXG4gICAgY29uc3QgdmlydHVhbE5vZGUgPSBtZXNoLmFkZFZpcnR1YWxOb2RlKCd0ZXN0LW5vZGUnLCB7XG4gICAgICBzZXJ2aWNlRGlzY292ZXJ5OiBhcHBtZXNoLlNlcnZpY2VEaXNjb3ZlcnkuZG5zKCd0ZXN0JyksXG4gICAgICBsaXN0ZW5lcnM6IFthcHBtZXNoLlZpcnR1YWxOb2RlTGlzdGVuZXIuaHR0cCgpXSxcbiAgICB9KTtcblxuICAgIC8vIFdIRU5cbiAgICBuZXcgYXBwbWVzaC5Sb3V0ZShzdGFjaywgJ3Rlc3QtZ3JwYy1yb3V0ZScsIHtcbiAgICAgIG1lc2g6IG1lc2gsXG4gICAgICB2aXJ0dWFsUm91dGVyOiByb3V0ZXIsXG4gICAgICByb3V0ZVNwZWM6IGFwcG1lc2guUm91dGVTcGVjLmdycGMoe1xuICAgICAgICB3ZWlnaHRlZFRhcmdldHM6IFt7IHZpcnR1YWxOb2RlIH1dLFxuICAgICAgICBtYXRjaDoge1xuICAgICAgICAgIG1ldGFkYXRhOiBbXG4gICAgICAgICAgICBhcHBtZXNoLkhlYWRlck1hdGNoLnZhbHVlSXMoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyksXG4gICAgICAgICAgICBhcHBtZXNoLkhlYWRlck1hdGNoLnZhbHVlSXNOb3QoJ0NvbnRlbnQtVHlwZScsICd0ZXh0L2h0bWwnKSxcbiAgICAgICAgICAgIGFwcG1lc2guSGVhZGVyTWF0Y2gudmFsdWVTdGFydHNXaXRoKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vJyksXG4gICAgICAgICAgICBhcHBtZXNoLkhlYWRlck1hdGNoLnZhbHVlRG9lc05vdFN0YXJ0V2l0aCgnQ29udGVudC1UeXBlJywgJ3RleHQvJyksXG4gICAgICAgICAgICBhcHBtZXNoLkhlYWRlck1hdGNoLnZhbHVlRW5kc1dpdGgoJ0NvbnRlbnQtVHlwZScsICcvanNvbicpLFxuICAgICAgICAgICAgYXBwbWVzaC5IZWFkZXJNYXRjaC52YWx1ZURvZXNOb3RFbmRXaXRoKCdDb250ZW50LVR5cGUnLCAnL2pzb24rZm9vYmFyJyksXG4gICAgICAgICAgICBhcHBtZXNoLkhlYWRlck1hdGNoLnZhbHVlTWF0Y2hlc1JlZ2V4KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vLionKSxcbiAgICAgICAgICAgIGFwcG1lc2guSGVhZGVyTWF0Y2gudmFsdWVEb2VzTm90TWF0Y2hSZWdleCgnQ29udGVudC1UeXBlJywgJ3RleHQvLionKSxcbiAgICAgICAgICAgIGFwcG1lc2guSGVhZGVyTWF0Y2gudmFsdWVzSXNJblJhbmdlKCdNYXgtRm9yd2FyZCcsIDEsIDUpLFxuICAgICAgICAgICAgYXBwbWVzaC5IZWFkZXJNYXRjaC52YWx1ZXNJc05vdEluUmFuZ2UoJ01heC1Gb3J3YXJkJywgMSwgNSksXG4gICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgIH0pLFxuICAgIH0pO1xuXG4gICAgLy8gVEhFTlxuICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkFwcE1lc2g6OlJvdXRlJywge1xuICAgICAgU3BlYzoge1xuICAgICAgICBHcnBjUm91dGU6IHtcbiAgICAgICAgICBNYXRjaDoge1xuICAgICAgICAgICAgTWV0YWRhdGE6IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIEludmVydDogZmFsc2UsXG4gICAgICAgICAgICAgICAgTWF0Y2g6IHsgRXhhY3Q6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgICAgIE5hbWU6ICdDb250ZW50LVR5cGUnLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgSW52ZXJ0OiB0cnVlLFxuICAgICAgICAgICAgICAgIE1hdGNoOiB7IEV4YWN0OiAndGV4dC9odG1sJyB9LFxuICAgICAgICAgICAgICAgIE5hbWU6ICdDb250ZW50LVR5cGUnLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgSW52ZXJ0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBNYXRjaDogeyBQcmVmaXg6ICdhcHBsaWNhdGlvbi8nIH0sXG4gICAgICAgICAgICAgICAgTmFtZTogJ0NvbnRlbnQtVHlwZScsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBJbnZlcnQ6IHRydWUsXG4gICAgICAgICAgICAgICAgTWF0Y2g6IHsgUHJlZml4OiAndGV4dC8nIH0sXG4gICAgICAgICAgICAgICAgTmFtZTogJ0NvbnRlbnQtVHlwZScsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBJbnZlcnQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIE1hdGNoOiB7IFN1ZmZpeDogJy9qc29uJyB9LFxuICAgICAgICAgICAgICAgIE5hbWU6ICdDb250ZW50LVR5cGUnLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgSW52ZXJ0OiB0cnVlLFxuICAgICAgICAgICAgICAgIE1hdGNoOiB7IFN1ZmZpeDogJy9qc29uK2Zvb2JhcicgfSxcbiAgICAgICAgICAgICAgICBOYW1lOiAnQ29udGVudC1UeXBlJyxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIEludmVydDogZmFsc2UsXG4gICAgICAgICAgICAgICAgTWF0Y2g6IHsgUmVnZXg6ICdhcHBsaWNhdGlvbi8uKicgfSxcbiAgICAgICAgICAgICAgICBOYW1lOiAnQ29udGVudC1UeXBlJyxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIEludmVydDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBNYXRjaDogeyBSZWdleDogJ3RleHQvLionIH0sXG4gICAgICAgICAgICAgICAgTmFtZTogJ0NvbnRlbnQtVHlwZScsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBJbnZlcnQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIE1hdGNoOiB7XG4gICAgICAgICAgICAgICAgICBSYW5nZToge1xuICAgICAgICAgICAgICAgICAgICBFbmQ6IDUsXG4gICAgICAgICAgICAgICAgICAgIFN0YXJ0OiAxLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIE5hbWU6ICdNYXgtRm9yd2FyZCcsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBJbnZlcnQ6IHRydWUsXG4gICAgICAgICAgICAgICAgTWF0Y2g6IHtcbiAgICAgICAgICAgICAgICAgIFJhbmdlOiB7XG4gICAgICAgICAgICAgICAgICAgIEVuZDogNSxcbiAgICAgICAgICAgICAgICAgICAgU3RhcnQ6IDEsXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgTmFtZTogJ01heC1Gb3J3YXJkJyxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH0pO1xuXG4gIHRlc3QoJ3Nob3VsZCBtYXRjaCByb3V0ZXMgYmFzZWQgb24gcGF0aCcsICgpID0+IHtcbiAgICAvLyBHSVZFTlxuICAgIGNvbnN0IHN0YWNrID0gbmV3IGNkay5TdGFjaygpO1xuICAgIGNvbnN0IG1lc2ggPSBuZXcgYXBwbWVzaC5NZXNoKHN0YWNrLCAnbWVzaCcsIHtcbiAgICAgIG1lc2hOYW1lOiAndGVzdC1tZXNoJyxcbiAgICB9KTtcblxuICAgIGNvbnN0IHJvdXRlciA9IG5ldyBhcHBtZXNoLlZpcnR1YWxSb3V0ZXIoc3RhY2ssICdyb3V0ZXInLCB7XG4gICAgICBtZXNoLFxuICAgIH0pO1xuXG4gICAgY29uc3QgdmlydHVhbE5vZGUgPSBtZXNoLmFkZFZpcnR1YWxOb2RlKCd0ZXN0LW5vZGUnLCB7XG4gICAgICBzZXJ2aWNlRGlzY292ZXJ5OiBhcHBtZXNoLlNlcnZpY2VEaXNjb3ZlcnkuZG5zKCd0ZXN0JyksXG4gICAgICBsaXN0ZW5lcnM6IFthcHBtZXNoLlZpcnR1YWxOb2RlTGlzdGVuZXIuaHR0cCgpXSxcbiAgICB9KTtcblxuICAgIC8vIFdIRU5cbiAgICBuZXcgYXBwbWVzaC5Sb3V0ZShzdGFjaywgJ3Rlc3QtaHR0cC1yb3V0ZScsIHtcbiAgICAgIG1lc2g6IG1lc2gsXG4gICAgICB2aXJ0dWFsUm91dGVyOiByb3V0ZXIsXG4gICAgICByb3V0ZVNwZWM6IGFwcG1lc2guUm91dGVTcGVjLmh0dHAoe1xuICAgICAgICB3ZWlnaHRlZFRhcmdldHM6IFt7IHZpcnR1YWxOb2RlIH1dLFxuICAgICAgICBtYXRjaDoge1xuICAgICAgICAgIHBhdGg6IGFwcG1lc2guSHR0cFJvdXRlUGF0aE1hdGNoLmV4YWN0bHkoJy9leGFjdCcpLFxuICAgICAgICB9LFxuICAgICAgfSksXG4gICAgfSk7XG5cbiAgICBuZXcgYXBwbWVzaC5Sb3V0ZShzdGFjaywgJ3Rlc3QtaHR0cDItcm91dGUnLCB7XG4gICAgICBtZXNoOiBtZXNoLFxuICAgICAgdmlydHVhbFJvdXRlcjogcm91dGVyLFxuICAgICAgcm91dGVTcGVjOiBhcHBtZXNoLlJvdXRlU3BlYy5odHRwMih7XG4gICAgICAgIHdlaWdodGVkVGFyZ2V0czogW3sgdmlydHVhbE5vZGUgfV0sXG4gICAgICAgIG1hdGNoOiB7XG4gICAgICAgICAgcGF0aDogYXBwbWVzaC5IdHRwUm91dGVQYXRoTWF0Y2gucmVnZXgoJ3JlZ2V4JyksXG4gICAgICAgIH0sXG4gICAgICB9KSxcbiAgICB9KTtcblxuICAgIC8vIFRIRU5cbiAgICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpBcHBNZXNoOjpSb3V0ZScsIHtcbiAgICAgIFNwZWM6IHtcbiAgICAgICAgSHR0cFJvdXRlOiB7XG4gICAgICAgICAgTWF0Y2g6IHtcbiAgICAgICAgICAgIFBhdGg6IHtcbiAgICAgICAgICAgICAgRXhhY3Q6ICcvZXhhY3QnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkFwcE1lc2g6OlJvdXRlJywge1xuICAgICAgU3BlYzoge1xuICAgICAgICBIdHRwMlJvdXRlOiB7XG4gICAgICAgICAgTWF0Y2g6IHtcbiAgICAgICAgICAgIFBhdGg6IHtcbiAgICAgICAgICAgICAgUmVnZXg6ICdyZWdleCcsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0pO1xuICB9KTtcblxuICB0ZXN0KCdzaG91bGQgbWF0Y2ggcm91dGVzIGJhc2VkIHF1ZXJ5IHBhcmFtZXRlcicsICgpID0+IHtcbiAgICAvLyBHSVZFTlxuICAgIGNvbnN0IHN0YWNrID0gbmV3IGNkay5TdGFjaygpO1xuICAgIGNvbnN0IG1lc2ggPSBuZXcgYXBwbWVzaC5NZXNoKHN0YWNrLCAnbWVzaCcsIHtcbiAgICAgIG1lc2hOYW1lOiAndGVzdC1tZXNoJyxcbiAgICB9KTtcblxuICAgIGNvbnN0IHJvdXRlciA9IG5ldyBhcHBtZXNoLlZpcnR1YWxSb3V0ZXIoc3RhY2ssICdyb3V0ZXInLCB7XG4gICAgICBtZXNoLFxuICAgIH0pO1xuXG4gICAgY29uc3QgdmlydHVhbE5vZGUgPSBtZXNoLmFkZFZpcnR1YWxOb2RlKCd0ZXN0LW5vZGUnLCB7XG4gICAgICBzZXJ2aWNlRGlzY292ZXJ5OiBhcHBtZXNoLlNlcnZpY2VEaXNjb3ZlcnkuZG5zKCd0ZXN0JyksXG4gICAgICBsaXN0ZW5lcnM6IFthcHBtZXNoLlZpcnR1YWxOb2RlTGlzdGVuZXIuaHR0cCgpXSxcbiAgICB9KTtcblxuICAgIC8vIFdIRU5cbiAgICBuZXcgYXBwbWVzaC5Sb3V0ZShzdGFjaywgJ3Rlc3QtaHR0cC1yb3V0ZScsIHtcbiAgICAgIG1lc2g6IG1lc2gsXG4gICAgICB2aXJ0dWFsUm91dGVyOiByb3V0ZXIsXG4gICAgICByb3V0ZVNwZWM6IGFwcG1lc2guUm91dGVTcGVjLmh0dHAoe1xuICAgICAgICB3ZWlnaHRlZFRhcmdldHM6IFt7IHZpcnR1YWxOb2RlIH1dLFxuICAgICAgICBtYXRjaDoge1xuICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVyczogW2FwcG1lc2guUXVlcnlQYXJhbWV0ZXJNYXRjaC52YWx1ZUlzKCdxdWVyeS1maWVsZCcsICd2YWx1ZScpXSxcbiAgICAgICAgfSxcbiAgICAgIH0pLFxuICAgIH0pO1xuXG4gICAgLy8gVEhFTlxuICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkFwcE1lc2g6OlJvdXRlJywge1xuICAgICAgU3BlYzoge1xuICAgICAgICBIdHRwUm91dGU6IHtcbiAgICAgICAgICBNYXRjaDoge1xuICAgICAgICAgICAgUXVlcnlQYXJhbWV0ZXJzOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBOYW1lOiAncXVlcnktZmllbGQnLFxuICAgICAgICAgICAgICAgIE1hdGNoOiB7XG4gICAgICAgICAgICAgICAgICBFeGFjdDogJ3ZhbHVlJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9KTtcbiAgfSk7XG5cbiAgdGVzdCgnc2hvdWxkIG1hdGNoIHJvdXRlcyBiYXNlZCBtZXRob2QgbmFtZScsICgpID0+IHtcbiAgICAvLyBHSVZFTlxuICAgIGNvbnN0IHN0YWNrID0gbmV3IGNkay5TdGFjaygpO1xuICAgIGNvbnN0IG1lc2ggPSBuZXcgYXBwbWVzaC5NZXNoKHN0YWNrLCAnbWVzaCcsIHtcbiAgICAgIG1lc2hOYW1lOiAndGVzdC1tZXNoJyxcbiAgICB9KTtcblxuICAgIGNvbnN0IHJvdXRlciA9IG5ldyBhcHBtZXNoLlZpcnR1YWxSb3V0ZXIoc3RhY2ssICdyb3V0ZXInLCB7XG4gICAgICBtZXNoLFxuICAgIH0pO1xuXG4gICAgY29uc3QgdmlydHVhbE5vZGUgPSBtZXNoLmFkZFZpcnR1YWxOb2RlKCd0ZXN0LW5vZGUnLCB7XG4gICAgICBzZXJ2aWNlRGlzY292ZXJ5OiBhcHBtZXNoLlNlcnZpY2VEaXNjb3ZlcnkuZG5zKCd0ZXN0JyksXG4gICAgICBsaXN0ZW5lcnM6IFthcHBtZXNoLlZpcnR1YWxOb2RlTGlzdGVuZXIuaHR0cCgpXSxcbiAgICB9KTtcblxuICAgIC8vIFdIRU5cbiAgICBuZXcgYXBwbWVzaC5Sb3V0ZShzdGFjaywgJ3Rlc3QtaHR0cC1yb3V0ZScsIHtcbiAgICAgIG1lc2g6IG1lc2gsXG4gICAgICB2aXJ0dWFsUm91dGVyOiByb3V0ZXIsXG4gICAgICByb3V0ZVNwZWM6IGFwcG1lc2guUm91dGVTcGVjLmdycGMoe1xuICAgICAgICBwcmlvcml0eTogMjAsXG4gICAgICAgIHdlaWdodGVkVGFyZ2V0czogW3sgdmlydHVhbE5vZGUgfV0sXG4gICAgICAgIG1hdGNoOiB7XG4gICAgICAgICAgc2VydmljZU5hbWU6ICd0ZXN0JyxcbiAgICAgICAgICBtZXRob2ROYW1lOiAndGVzdE1ldGhvZCcsXG4gICAgICAgIH0sXG4gICAgICB9KSxcbiAgICB9KTtcblxuICAgIC8vIFRIRU5cbiAgICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpBcHBNZXNoOjpSb3V0ZScsIHtcbiAgICAgIFNwZWM6IHtcbiAgICAgICAgR3JwY1JvdXRlOiB7XG4gICAgICAgICAgTWF0Y2g6IHtcbiAgICAgICAgICAgIFNlcnZpY2VOYW1lOiAndGVzdCcsXG4gICAgICAgICAgICBNZXRob2ROYW1lOiAndGVzdE1ldGhvZCcsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH0pO1xuXG4gIHRlc3QoJ3Nob3VsZCB0aHJvdyBhbiBlcnJvciB3aXRoIGludmFsaWQgbnVtYmVyIG9mIGhlYWRlcnMnLCAoKSA9PiB7XG4gICAgLy8gR0lWRU5cbiAgICBjb25zdCBzdGFjayA9IG5ldyBjZGsuU3RhY2soKTtcbiAgICBjb25zdCBtZXNoID0gbmV3IGFwcG1lc2guTWVzaChzdGFjaywgJ21lc2gnLCB7XG4gICAgICBtZXNoTmFtZTogJ3Rlc3QtbWVzaCcsXG4gICAgfSk7XG5cbiAgICBjb25zdCByb3V0ZXIgPSBuZXcgYXBwbWVzaC5WaXJ0dWFsUm91dGVyKHN0YWNrLCAncm91dGVyJywge1xuICAgICAgbWVzaCxcbiAgICB9KTtcblxuICAgIGNvbnN0IHZpcnR1YWxOb2RlID0gbWVzaC5hZGRWaXJ0dWFsTm9kZSgndGVzdC1ub2RlJywge1xuICAgICAgc2VydmljZURpc2NvdmVyeTogYXBwbWVzaC5TZXJ2aWNlRGlzY292ZXJ5LmRucygndGVzdCcpLFxuICAgICAgbGlzdGVuZXJzOiBbYXBwbWVzaC5WaXJ0dWFsTm9kZUxpc3RlbmVyLmh0dHAoKV0sXG4gICAgfSk7XG5cbiAgICAvLyBXSEVOICsgVEhFTlxuICAgIGV4cGVjdCgoKSA9PiB7XG4gICAgICByb3V0ZXIuYWRkUm91dGUoJ3JvdXRlJywge1xuICAgICAgICByb3V0ZVNwZWM6IGFwcG1lc2guUm91dGVTcGVjLmh0dHAyKHtcbiAgICAgICAgICB3ZWlnaHRlZFRhcmdldHM6IFt7IHZpcnR1YWxOb2RlIH1dLFxuICAgICAgICAgIG1hdGNoOiB7XG4gICAgICAgICAgICBwYXRoOiBhcHBtZXNoLkh0dHBSb3V0ZVBhdGhNYXRjaC5zdGFydHNXaXRoKCcvJyksXG4gICAgICAgICAgICAvLyBFbXB0eSBoZWFkZXJcbiAgICAgICAgICAgIGhlYWRlcnM6IFtdLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG4gICAgfSkudG9UaHJvdygvTnVtYmVyIG9mIGhlYWRlcnMgcHJvdmlkZWQgZm9yIG1hdGNoaW5nIG11c3QgYmUgYmV0d2VlbiAxIGFuZCAxMCwgZ290OiAwLyk7XG5cbiAgICBleHBlY3QoKCkgPT4ge1xuICAgICAgcm91dGVyLmFkZFJvdXRlKCdyb3V0ZTInLCB7XG4gICAgICAgIHJvdXRlU3BlYzogYXBwbWVzaC5Sb3V0ZVNwZWMuaHR0cDIoe1xuICAgICAgICAgIHdlaWdodGVkVGFyZ2V0czogW3sgdmlydHVhbE5vZGUgfV0sXG4gICAgICAgICAgbWF0Y2g6IHtcbiAgICAgICAgICAgIHBhdGg6IGFwcG1lc2guSHR0cFJvdXRlUGF0aE1hdGNoLnN0YXJ0c1dpdGgoJy8nKSxcbiAgICAgICAgICAgIC8vIDExIGhlYWRlcnNcbiAgICAgICAgICAgIGhlYWRlcnM6IFtcbiAgICAgICAgICAgICAgYXBwbWVzaC5IZWFkZXJNYXRjaC52YWx1ZUlzKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpLFxuICAgICAgICAgICAgICBhcHBtZXNoLkhlYWRlck1hdGNoLnZhbHVlSXMoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyksXG4gICAgICAgICAgICAgIGFwcG1lc2guSGVhZGVyTWF0Y2gudmFsdWVJc05vdCgnQ29udGVudC1UeXBlJywgJ3RleHQvaHRtbCcpLFxuICAgICAgICAgICAgICBhcHBtZXNoLkhlYWRlck1hdGNoLnZhbHVlU3RhcnRzV2l0aCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uLycpLFxuICAgICAgICAgICAgICBhcHBtZXNoLkhlYWRlck1hdGNoLnZhbHVlRG9lc05vdFN0YXJ0V2l0aCgnQ29udGVudC1UeXBlJywgJ3RleHQvJyksXG4gICAgICAgICAgICAgIGFwcG1lc2guSGVhZGVyTWF0Y2gudmFsdWVFbmRzV2l0aCgnQ29udGVudC1UeXBlJywgJy9qc29uJyksXG4gICAgICAgICAgICAgIGFwcG1lc2guSGVhZGVyTWF0Y2gudmFsdWVEb2VzTm90RW5kV2l0aCgnQ29udGVudC1UeXBlJywgJy9qc29uK2Zvb2JhcicpLFxuICAgICAgICAgICAgICBhcHBtZXNoLkhlYWRlck1hdGNoLnZhbHVlTWF0Y2hlc1JlZ2V4KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vLionKSxcbiAgICAgICAgICAgICAgYXBwbWVzaC5IZWFkZXJNYXRjaC52YWx1ZURvZXNOb3RNYXRjaFJlZ2V4KCdDb250ZW50LVR5cGUnLCAndGV4dC8uKicpLFxuICAgICAgICAgICAgICBhcHBtZXNoLkhlYWRlck1hdGNoLnZhbHVlc0lzSW5SYW5nZSgnTWF4LUZvcndhcmQnLCAxLCA1KSxcbiAgICAgICAgICAgICAgYXBwbWVzaC5IZWFkZXJNYXRjaC52YWx1ZXNJc05vdEluUmFuZ2UoJ01heC1Gb3J3YXJkJywgMSwgNSksXG4gICAgICAgICAgICBdLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG4gICAgfSkudG9UaHJvdygvTnVtYmVyIG9mIGhlYWRlcnMgcHJvdmlkZWQgZm9yIG1hdGNoaW5nIG11c3QgYmUgYmV0d2VlbiAxIGFuZCAxMCwgZ290OiAxMS8pO1xuICB9KTtcblxuICB0ZXN0KCdzaG91bGQgdGhyb3cgYW4gZXJyb3Igd2l0aCBpbnZhbGlkIG51bWJlciBvZiBxdWVyeSBwYXJhbWV0ZXJzJywgKCkgPT4ge1xuICAgIC8vIEdJVkVOXG4gICAgY29uc3Qgc3RhY2sgPSBuZXcgY2RrLlN0YWNrKCk7XG4gICAgY29uc3QgbWVzaCA9IG5ldyBhcHBtZXNoLk1lc2goc3RhY2ssICdtZXNoJywge1xuICAgICAgbWVzaE5hbWU6ICd0ZXN0LW1lc2gnLFxuICAgIH0pO1xuXG4gICAgY29uc3Qgcm91dGVyID0gbmV3IGFwcG1lc2guVmlydHVhbFJvdXRlcihzdGFjaywgJ3JvdXRlcicsIHtcbiAgICAgIG1lc2gsXG4gICAgfSk7XG5cbiAgICBjb25zdCB2aXJ0dWFsTm9kZSA9IG1lc2guYWRkVmlydHVhbE5vZGUoJ3Rlc3Qtbm9kZScsIHtcbiAgICAgIHNlcnZpY2VEaXNjb3Zlcnk6IGFwcG1lc2guU2VydmljZURpc2NvdmVyeS5kbnMoJ3Rlc3QnKSxcbiAgICAgIGxpc3RlbmVyczogW2FwcG1lc2guVmlydHVhbE5vZGVMaXN0ZW5lci5odHRwKCldLFxuICAgIH0pO1xuXG4gICAgLy8gV0hFTiArIFRIRU5cbiAgICBleHBlY3QoKCkgPT4ge1xuICAgICAgcm91dGVyLmFkZFJvdXRlKCdyb3V0ZScsIHtcbiAgICAgICAgcm91dGVTcGVjOiBhcHBtZXNoLlJvdXRlU3BlYy5odHRwMih7XG4gICAgICAgICAgd2VpZ2h0ZWRUYXJnZXRzOiBbeyB2aXJ0dWFsTm9kZSB9XSxcbiAgICAgICAgICBtYXRjaDoge1xuICAgICAgICAgICAgcGF0aDogYXBwbWVzaC5IdHRwUm91dGVQYXRoTWF0Y2guc3RhcnRzV2l0aCgnLycpLFxuICAgICAgICAgICAgLy8gRW1wdHkgaGVhZGVyXG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnM6IFtdLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG4gICAgfSkudG9UaHJvdygvTnVtYmVyIG9mIHF1ZXJ5IHBhcmFtZXRlcnMgcHJvdmlkZWQgZm9yIG1hdGNoaW5nIG11c3QgYmUgYmV0d2VlbiAxIGFuZCAxMCwgZ290OiAwLyk7XG5cbiAgICBleHBlY3QoKCkgPT4ge1xuICAgICAgcm91dGVyLmFkZFJvdXRlKCdyb3V0ZTInLCB7XG4gICAgICAgIHJvdXRlU3BlYzogYXBwbWVzaC5Sb3V0ZVNwZWMuaHR0cDIoe1xuICAgICAgICAgIHdlaWdodGVkVGFyZ2V0czogW3sgdmlydHVhbE5vZGUgfV0sXG4gICAgICAgICAgbWF0Y2g6IHtcbiAgICAgICAgICAgIHBhdGg6IGFwcG1lc2guSHR0cFJvdXRlUGF0aE1hdGNoLnN0YXJ0c1dpdGgoJy8nKSxcbiAgICAgICAgICAgIC8vIDExIGhlYWRlcnNcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVyczogW1xuICAgICAgICAgICAgICBhcHBtZXNoLlF1ZXJ5UGFyYW1ldGVyTWF0Y2gudmFsdWVJcygncXVlcnktZmllbGQnLCAndmFsdWUnKSxcbiAgICAgICAgICAgICAgYXBwbWVzaC5RdWVyeVBhcmFtZXRlck1hdGNoLnZhbHVlSXMoJ3F1ZXJ5LWZpZWxkJywgJ3ZhbHVlJyksXG4gICAgICAgICAgICAgIGFwcG1lc2guUXVlcnlQYXJhbWV0ZXJNYXRjaC52YWx1ZUlzKCdxdWVyeS1maWVsZCcsICd2YWx1ZScpLFxuICAgICAgICAgICAgICBhcHBtZXNoLlF1ZXJ5UGFyYW1ldGVyTWF0Y2gudmFsdWVJcygncXVlcnktZmllbGQnLCAndmFsdWUnKSxcbiAgICAgICAgICAgICAgYXBwbWVzaC5RdWVyeVBhcmFtZXRlck1hdGNoLnZhbHVlSXMoJ3F1ZXJ5LWZpZWxkJywgJ3ZhbHVlJyksXG4gICAgICAgICAgICAgIGFwcG1lc2guUXVlcnlQYXJhbWV0ZXJNYXRjaC52YWx1ZUlzKCdxdWVyeS1maWVsZCcsICd2YWx1ZScpLFxuICAgICAgICAgICAgICBhcHBtZXNoLlF1ZXJ5UGFyYW1ldGVyTWF0Y2gudmFsdWVJcygncXVlcnktZmllbGQnLCAndmFsdWUnKSxcbiAgICAgICAgICAgICAgYXBwbWVzaC5RdWVyeVBhcmFtZXRlck1hdGNoLnZhbHVlSXMoJ3F1ZXJ5LWZpZWxkJywgJ3ZhbHVlJyksXG4gICAgICAgICAgICAgIGFwcG1lc2guUXVlcnlQYXJhbWV0ZXJNYXRjaC52YWx1ZUlzKCdxdWVyeS1maWVsZCcsICd2YWx1ZScpLFxuICAgICAgICAgICAgICBhcHBtZXNoLlF1ZXJ5UGFyYW1ldGVyTWF0Y2gudmFsdWVJcygncXVlcnktZmllbGQnLCAndmFsdWUnKSxcbiAgICAgICAgICAgICAgYXBwbWVzaC5RdWVyeVBhcmFtZXRlck1hdGNoLnZhbHVlSXMoJ3F1ZXJ5LWZpZWxkJywgJ3ZhbHVlJyksXG4gICAgICAgICAgICBdLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG4gICAgfSkudG9UaHJvdygvTnVtYmVyIG9mIHF1ZXJ5IHBhcmFtZXRlcnMgcHJvdmlkZWQgZm9yIG1hdGNoaW5nIG11c3QgYmUgYmV0d2VlbiAxIGFuZCAxMCwgZ290OiAxMS8pO1xuICB9KTtcblxuICB0ZXN0KCdzaG91bGQgdGhyb3cgYW4gZXJyb3Igd2l0aCBpbnZhbGlkIG51bWJlciBvZiBtZXRhZGF0YScsICgpID0+IHtcbiAgICAvLyBHSVZFTlxuICAgIGNvbnN0IHN0YWNrID0gbmV3IGNkay5TdGFjaygpO1xuICAgIGNvbnN0IG1lc2ggPSBuZXcgYXBwbWVzaC5NZXNoKHN0YWNrLCAnbWVzaCcsIHtcbiAgICAgIG1lc2hOYW1lOiAndGVzdC1tZXNoJyxcbiAgICB9KTtcblxuICAgIGNvbnN0IHJvdXRlciA9IG5ldyBhcHBtZXNoLlZpcnR1YWxSb3V0ZXIoc3RhY2ssICdyb3V0ZXInLCB7XG4gICAgICBtZXNoLFxuICAgIH0pO1xuXG4gICAgY29uc3QgdmlydHVhbE5vZGUgPSBtZXNoLmFkZFZpcnR1YWxOb2RlKCd0ZXN0LW5vZGUnLCB7XG4gICAgICBzZXJ2aWNlRGlzY292ZXJ5OiBhcHBtZXNoLlNlcnZpY2VEaXNjb3ZlcnkuZG5zKCd0ZXN0JyksXG4gICAgICBsaXN0ZW5lcnM6IFthcHBtZXNoLlZpcnR1YWxOb2RlTGlzdGVuZXIuaHR0cCgpXSxcbiAgICB9KTtcblxuICAgIC8vIFdIRU4gKyBUSEVOXG4gICAgZXhwZWN0KCgpID0+IHtcbiAgICAgIG5ldyBhcHBtZXNoLlJvdXRlKHN0YWNrLCAndGVzdC1odHRwLXJvdXRlJywge1xuICAgICAgICBtZXNoOiBtZXNoLFxuICAgICAgICB2aXJ0dWFsUm91dGVyOiByb3V0ZXIsXG4gICAgICAgIHJvdXRlU3BlYzogYXBwbWVzaC5Sb3V0ZVNwZWMuZ3JwYyh7XG4gICAgICAgICAgcHJpb3JpdHk6IDIwLFxuICAgICAgICAgIHdlaWdodGVkVGFyZ2V0czogW3sgdmlydHVhbE5vZGUgfV0sXG4gICAgICAgICAgbWF0Y2g6IHtcbiAgICAgICAgICAgIG1ldGFkYXRhOiBbXSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuICAgIH0pLnRvVGhyb3coL051bWJlciBvZiBtZXRhZGF0YSBwcm92aWRlZCBmb3IgbWF0Y2hpbmcgbXVzdCBiZSBiZXR3ZWVuIDEgYW5kIDEwLCBnb3Q6IDAvKTtcblxuICAgIC8vIFdIRU4gKyBUSEVOXG4gICAgZXhwZWN0KCgpID0+IHtcbiAgICAgIG5ldyBhcHBtZXNoLlJvdXRlKHN0YWNrLCAndGVzdC1odHRwLXJvdXRlLTEnLCB7XG4gICAgICAgIG1lc2g6IG1lc2gsXG4gICAgICAgIHZpcnR1YWxSb3V0ZXI6IHJvdXRlcixcbiAgICAgICAgcm91dGVTcGVjOiBhcHBtZXNoLlJvdXRlU3BlYy5ncnBjKHtcbiAgICAgICAgICBwcmlvcml0eTogMjAsXG4gICAgICAgICAgd2VpZ2h0ZWRUYXJnZXRzOiBbeyB2aXJ0dWFsTm9kZSB9XSxcbiAgICAgICAgICBtYXRjaDoge1xuICAgICAgICAgICAgbWV0YWRhdGE6IFtcbiAgICAgICAgICAgICAgYXBwbWVzaC5IZWFkZXJNYXRjaC52YWx1ZUlzKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpLFxuICAgICAgICAgICAgICBhcHBtZXNoLkhlYWRlck1hdGNoLnZhbHVlSXMoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyksXG4gICAgICAgICAgICAgIGFwcG1lc2guSGVhZGVyTWF0Y2gudmFsdWVJc05vdCgnQ29udGVudC1UeXBlJywgJ3RleHQvaHRtbCcpLFxuICAgICAgICAgICAgICBhcHBtZXNoLkhlYWRlck1hdGNoLnZhbHVlU3RhcnRzV2l0aCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uLycpLFxuICAgICAgICAgICAgICBhcHBtZXNoLkhlYWRlck1hdGNoLnZhbHVlRG9lc05vdFN0YXJ0V2l0aCgnQ29udGVudC1UeXBlJywgJ3RleHQvJyksXG4gICAgICAgICAgICAgIGFwcG1lc2guSGVhZGVyTWF0Y2gudmFsdWVFbmRzV2l0aCgnQ29udGVudC1UeXBlJywgJy9qc29uJyksXG4gICAgICAgICAgICAgIGFwcG1lc2guSGVhZGVyTWF0Y2gudmFsdWVEb2VzTm90RW5kV2l0aCgnQ29udGVudC1UeXBlJywgJy9qc29uK2Zvb2JhcicpLFxuICAgICAgICAgICAgICBhcHBtZXNoLkhlYWRlck1hdGNoLnZhbHVlTWF0Y2hlc1JlZ2V4KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vLionKSxcbiAgICAgICAgICAgICAgYXBwbWVzaC5IZWFkZXJNYXRjaC52YWx1ZURvZXNOb3RNYXRjaFJlZ2V4KCdDb250ZW50LVR5cGUnLCAndGV4dC8uKicpLFxuICAgICAgICAgICAgICBhcHBtZXNoLkhlYWRlck1hdGNoLnZhbHVlc0lzSW5SYW5nZSgnTWF4LUZvcndhcmQnLCAxLCA1KSxcbiAgICAgICAgICAgICAgYXBwbWVzaC5IZWFkZXJNYXRjaC52YWx1ZXNJc05vdEluUmFuZ2UoJ01heC1Gb3J3YXJkJywgMSwgNSksXG4gICAgICAgICAgICBdLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG4gICAgfSkudG9UaHJvdygvTnVtYmVyIG9mIG1ldGFkYXRhIHByb3ZpZGVkIGZvciBtYXRjaGluZyBtdXN0IGJlIGJldHdlZW4gMSBhbmQgMTAsIGdvdDogMTEvKTtcbiAgfSk7XG5cbiAgdGVzdCgnc2hvdWxkIHRocm93IGFuIGVycm9yIGlmIG5vIGdSUEMgbWF0Y2ggdHlwZSBpcyBkZWZpbmVkJywgKCkgPT4ge1xuICAgIC8vIEdJVkVOXG4gICAgY29uc3Qgc3RhY2sgPSBuZXcgY2RrLlN0YWNrKCk7XG4gICAgY29uc3QgbWVzaCA9IG5ldyBhcHBtZXNoLk1lc2goc3RhY2ssICdtZXNoJywge1xuICAgICAgbWVzaE5hbWU6ICd0ZXN0LW1lc2gnLFxuICAgIH0pO1xuXG4gICAgY29uc3Qgcm91dGVyID0gbmV3IGFwcG1lc2guVmlydHVhbFJvdXRlcihzdGFjaywgJ3JvdXRlcicsIHtcbiAgICAgIG1lc2gsXG4gICAgfSk7XG5cbiAgICBjb25zdCB2aXJ0dWFsTm9kZSA9IG1lc2guYWRkVmlydHVhbE5vZGUoJ3Rlc3Qtbm9kZScsIHtcbiAgICAgIHNlcnZpY2VEaXNjb3Zlcnk6IGFwcG1lc2guU2VydmljZURpc2NvdmVyeS5kbnMoJ3Rlc3QnKSxcbiAgICAgIGxpc3RlbmVyczogW2FwcG1lc2guVmlydHVhbE5vZGVMaXN0ZW5lci5odHRwKCldLFxuICAgIH0pO1xuXG4gICAgLy8gV0hFTiArIFRIRU5cbiAgICBleHBlY3QoKCkgPT4ge1xuICAgICAgbmV3IGFwcG1lc2guUm91dGUoc3RhY2ssICd0ZXN0LWh0dHAtcm91dGUnLCB7XG4gICAgICAgIG1lc2g6IG1lc2gsXG4gICAgICAgIHZpcnR1YWxSb3V0ZXI6IHJvdXRlcixcbiAgICAgICAgcm91dGVTcGVjOiBhcHBtZXNoLlJvdXRlU3BlYy5ncnBjKHtcbiAgICAgICAgICBwcmlvcml0eTogMjAsXG4gICAgICAgICAgd2VpZ2h0ZWRUYXJnZXRzOiBbeyB2aXJ0dWFsTm9kZSB9XSxcbiAgICAgICAgICBtYXRjaDoge30sXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG4gICAgfSkudG9UaHJvdygvQXQgbGVhc3Qgb25lIGdSUEMgcm91dGUgbWF0Y2ggcHJvcGVydHkgbXVzdCBiZSBwcm92aWRlZC8pO1xuICB9KTtcblxuICB0ZXN0KCdzaG91bGQgdGhyb3cgYW4gZXJyb3IgaWYgbWV0aG9kIG5hbWUgaXMgc3BlY2lmaWVkIHdpdGhvdXQgc2VydmljZSBuYW1lJywgKCkgPT4ge1xuICAgIC8vIEdJVkVOXG4gICAgY29uc3Qgc3RhY2sgPSBuZXcgY2RrLlN0YWNrKCk7XG4gICAgY29uc3QgbWVzaCA9IG5ldyBhcHBtZXNoLk1lc2goc3RhY2ssICdtZXNoJywge1xuICAgICAgbWVzaE5hbWU6ICd0ZXN0LW1lc2gnLFxuICAgIH0pO1xuXG4gICAgY29uc3Qgcm91dGVyID0gbmV3IGFwcG1lc2guVmlydHVhbFJvdXRlcihzdGFjaywgJ3JvdXRlcicsIHtcbiAgICAgIG1lc2gsXG4gICAgfSk7XG5cbiAgICBjb25zdCB2aXJ0dWFsTm9kZSA9IG1lc2guYWRkVmlydHVhbE5vZGUoJ3Rlc3Qtbm9kZScsIHtcbiAgICAgIHNlcnZpY2VEaXNjb3Zlcnk6IGFwcG1lc2guU2VydmljZURpc2NvdmVyeS5kbnMoJ3Rlc3QnKSxcbiAgICAgIGxpc3RlbmVyczogW2FwcG1lc2guVmlydHVhbE5vZGVMaXN0ZW5lci5odHRwKCldLFxuICAgIH0pO1xuXG4gICAgLy8gV0hFTiArIFRIRU5cbiAgICBleHBlY3QoKCkgPT4ge1xuICAgICAgbmV3IGFwcG1lc2guUm91dGUoc3RhY2ssICd0ZXN0LWh0dHAtcm91dGUnLCB7XG4gICAgICAgIG1lc2g6IG1lc2gsXG4gICAgICAgIHZpcnR1YWxSb3V0ZXI6IHJvdXRlcixcbiAgICAgICAgcm91dGVTcGVjOiBhcHBtZXNoLlJvdXRlU3BlYy5ncnBjKHtcbiAgICAgICAgICBwcmlvcml0eTogMjAsXG4gICAgICAgICAgd2VpZ2h0ZWRUYXJnZXRzOiBbeyB2aXJ0dWFsTm9kZSB9XSxcbiAgICAgICAgICBtYXRjaDoge1xuICAgICAgICAgICAgbWV0aG9kTmFtZTogJ3Rlc3RfbWV0aG9kJyxcbiAgICAgICAgICB9LFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuICAgIH0pLnRvVGhyb3coL0lmIHlvdSBzcGVjaWZ5IGEgbWV0aG9kIG5hbWUsIHlvdSBtdXN0IGFsc28gc3BlY2lmeSBhIHNlcnZpY2UgbmFtZS8pO1xuICB9KTtcblxuICB0ZXN0KCdzaG91bGQgYWxsb3cgcm91dGUgcHJpb3JpdHknLCAoKSA9PiB7XG4gICAgLy8gR0lWRU5cbiAgICBjb25zdCBzdGFjayA9IG5ldyBjZGsuU3RhY2soKTtcbiAgICBjb25zdCBtZXNoID0gbmV3IGFwcG1lc2guTWVzaChzdGFjaywgJ21lc2gnLCB7XG4gICAgICBtZXNoTmFtZTogJ3Rlc3QtbWVzaCcsXG4gICAgfSk7XG5cbiAgICBjb25zdCByb3V0ZXIgPSBuZXcgYXBwbWVzaC5WaXJ0dWFsUm91dGVyKHN0YWNrLCAncm91dGVyJywge1xuICAgICAgbWVzaCxcbiAgICB9KTtcblxuICAgIGNvbnN0IHZpcnR1YWxOb2RlID0gbWVzaC5hZGRWaXJ0dWFsTm9kZSgndGVzdC1ub2RlJywge1xuICAgICAgc2VydmljZURpc2NvdmVyeTogYXBwbWVzaC5TZXJ2aWNlRGlzY292ZXJ5LmRucygndGVzdCcpLFxuICAgICAgbGlzdGVuZXJzOiBbYXBwbWVzaC5WaXJ0dWFsTm9kZUxpc3RlbmVyLmh0dHAoKV0sXG4gICAgfSk7XG5cbiAgICAvLyBXSEVOXG4gICAgcm91dGVyLmFkZFJvdXRlKCdodHRwMicsIHtcbiAgICAgIHJvdXRlU3BlYzogYXBwbWVzaC5Sb3V0ZVNwZWMuaHR0cDIoe1xuICAgICAgICBwcmlvcml0eTogMCxcbiAgICAgICAgd2VpZ2h0ZWRUYXJnZXRzOiBbeyB2aXJ0dWFsTm9kZSB9XSxcbiAgICAgIH0pLFxuICAgIH0pO1xuICAgIHJvdXRlci5hZGRSb3V0ZSgnaHR0cCcsIHtcbiAgICAgIHJvdXRlU3BlYzogYXBwbWVzaC5Sb3V0ZVNwZWMuaHR0cCh7XG4gICAgICAgIHByaW9yaXR5OiAxMCxcbiAgICAgICAgd2VpZ2h0ZWRUYXJnZXRzOiBbeyB2aXJ0dWFsTm9kZSB9XSxcbiAgICAgIH0pLFxuICAgIH0pO1xuICAgIHJvdXRlci5hZGRSb3V0ZSgnZ3JwYycsIHtcbiAgICAgIHJvdXRlU3BlYzogYXBwbWVzaC5Sb3V0ZVNwZWMuZ3JwYyh7XG4gICAgICAgIHByaW9yaXR5OiAyMCxcbiAgICAgICAgd2VpZ2h0ZWRUYXJnZXRzOiBbeyB2aXJ0dWFsTm9kZSB9XSxcbiAgICAgICAgbWF0Y2g6IHtcbiAgICAgICAgICBzZXJ2aWNlTmFtZTogJ3Rlc3QnLFxuICAgICAgICB9LFxuICAgICAgfSksXG4gICAgfSk7XG4gICAgcm91dGVyLmFkZFJvdXRlKCd0Y3AnLCB7XG4gICAgICByb3V0ZVNwZWM6IGFwcG1lc2guUm91dGVTcGVjLnRjcCh7XG4gICAgICAgIHByaW9yaXR5OiAzMCxcbiAgICAgICAgd2VpZ2h0ZWRUYXJnZXRzOiBbeyB2aXJ0dWFsTm9kZSB9XSxcbiAgICAgIH0pLFxuICAgIH0pO1xuXG4gICAgLy8gVEhFTlxuICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkFwcE1lc2g6OlJvdXRlJywge1xuICAgICAgU3BlYzoge1xuICAgICAgICBQcmlvcml0eTogMCxcbiAgICAgICAgSHR0cDJSb3V0ZToge30sXG4gICAgICB9LFxuICAgIH0pO1xuICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkFwcE1lc2g6OlJvdXRlJywge1xuICAgICAgU3BlYzoge1xuICAgICAgICBQcmlvcml0eTogMTAsXG4gICAgICAgIEh0dHBSb3V0ZToge30sXG4gICAgICB9LFxuICAgIH0pO1xuICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkFwcE1lc2g6OlJvdXRlJywge1xuICAgICAgU3BlYzoge1xuICAgICAgICBQcmlvcml0eTogMjAsXG4gICAgICAgIEdycGNSb3V0ZToge30sXG4gICAgICB9LFxuICAgIH0pO1xuICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkFwcE1lc2g6OlJvdXRlJywge1xuICAgICAgU3BlYzoge1xuICAgICAgICBQcmlvcml0eTogMzAsXG4gICAgICAgIFRjcFJvdXRlOiB7fSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH0pO1xuXG4gIHRlc3QoJ3Nob3VsZCBhbGxvdyB6ZXJvIHdlaWdodCByb3V0ZScsICgpID0+IHtcbiAgICAvLyBHSVZFTlxuICAgIGNvbnN0IHN0YWNrID0gbmV3IGNkay5TdGFjaygpO1xuICAgIGNvbnN0IG1lc2ggPSBuZXcgYXBwbWVzaC5NZXNoKHN0YWNrLCAnbWVzaCcsIHtcbiAgICAgIG1lc2hOYW1lOiAndGVzdC1tZXNoJyxcbiAgICB9KTtcblxuICAgIGNvbnN0IHJvdXRlciA9IG5ldyBhcHBtZXNoLlZpcnR1YWxSb3V0ZXIoc3RhY2ssICdyb3V0ZXInLCB7XG4gICAgICBtZXNoLFxuICAgIH0pO1xuXG4gICAgY29uc3QgdmlydHVhbE5vZGUgPSBtZXNoLmFkZFZpcnR1YWxOb2RlKCd0ZXN0LW5vZGUnLCB7XG4gICAgICBzZXJ2aWNlRGlzY292ZXJ5OiBhcHBtZXNoLlNlcnZpY2VEaXNjb3ZlcnkuZG5zKCd0ZXN0JyksXG4gICAgICBsaXN0ZW5lcnM6IFthcHBtZXNoLlZpcnR1YWxOb2RlTGlzdGVuZXIuaHR0cCgpXSxcbiAgICB9KTtcblxuICAgIC8vIFdIRU5cbiAgICByb3V0ZXIuYWRkUm91dGUoJ2h0dHAyJywge1xuICAgICAgcm91dGVTcGVjOiBhcHBtZXNoLlJvdXRlU3BlYy5odHRwMih7XG4gICAgICAgIHByaW9yaXR5OiA1MCxcbiAgICAgICAgd2VpZ2h0ZWRUYXJnZXRzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgdmlydHVhbE5vZGU6IHZpcnR1YWxOb2RlLFxuICAgICAgICAgICAgd2VpZ2h0OiAwLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICB9KSxcbiAgICB9KTtcbiAgICByb3V0ZXIuYWRkUm91dGUoJ2h0dHAnLCB7XG4gICAgICByb3V0ZVNwZWM6IGFwcG1lc2guUm91dGVTcGVjLmh0dHAoe1xuICAgICAgICBwcmlvcml0eTogMTAsXG4gICAgICAgIHdlaWdodGVkVGFyZ2V0czogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHZpcnR1YWxOb2RlOiB2aXJ0dWFsTm9kZSxcbiAgICAgICAgICAgIHdlaWdodDogMCxcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgfSksXG4gICAgfSk7XG5cbiAgICAvLyBUSEVOXG4gICAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6QXBwTWVzaDo6Um91dGUnLCB7XG4gICAgICBTcGVjOiB7XG4gICAgICAgIFByaW9yaXR5OiA1MCxcbiAgICAgICAgSHR0cDJSb3V0ZToge1xuICAgICAgICAgIEFjdGlvbjoge1xuICAgICAgICAgICAgV2VpZ2h0ZWRUYXJnZXRzOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBXZWlnaHQ6IDAsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0pO1xuICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkFwcE1lc2g6OlJvdXRlJywge1xuICAgICAgU3BlYzoge1xuICAgICAgICBQcmlvcml0eTogMTAsXG4gICAgICAgIEh0dHBSb3V0ZToge1xuICAgICAgICAgIEFjdGlvbjoge1xuICAgICAgICAgICAgV2VpZ2h0ZWRUYXJnZXRzOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBXZWlnaHQ6IDAsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0pO1xuICB9KTtcblxuICB0ZXN0KCdDYW4gaW1wb3J0IFJvdXRlcyB1c2luZyBhbiBBUk4nLCAoKSA9PiB7XG4gICAgY29uc3QgYXBwID0gbmV3IGNkay5BcHAoKTtcbiAgICAvLyBHSVZFTlxuICAgIGNvbnN0IHN0YWNrID0gbmV3IGNkay5TdGFjayhhcHAsICdJbXBvcnRzJywge1xuICAgICAgZW52OiB7IGFjY291bnQ6ICcxMjM0NTY3ODkwMTInLCByZWdpb246ICd1cy1lYXN0LTEnIH0sXG4gICAgfSk7XG4gICAgY29uc3QgbWVzaE5hbWUgPSAndGVzdC1tZXNoJztcbiAgICBjb25zdCB2aXJ0dWFsUm91dGVyTmFtZSA9ICd0ZXN0LXZpcnR1YWwtcm91dGVyJztcbiAgICBjb25zdCByb3V0ZU5hbWUgPSAndGVzdC1yb3V0ZSc7XG4gICAgY29uc3QgYXJuID0gYGFybjphd3M6YXBwbWVzaDp1cy1lYXN0LTE6MTIzNDU2Nzg5MDEyOm1lc2gvJHttZXNoTmFtZX0vdmlydHVhbFJvdXRlci8ke3ZpcnR1YWxSb3V0ZXJOYW1lfS9nYXRld2F5Um91dGUvJHtyb3V0ZU5hbWV9YDtcblxuICAgIC8vIFdIRU5cbiAgICBjb25zdCByb3V0ZSA9IGFwcG1lc2guUm91dGUuZnJvbVJvdXRlQXJuKHN0YWNrLCAnaW1wb3J0ZWRSb3V0ZScsIGFybik7XG4gICAgLy8gVEhFTlxuICAgIGV4cGVjdChyb3V0ZS5yb3V0ZU5hbWUpLnRvRXF1YWwocm91dGVOYW1lKTtcbiAgICBleHBlY3Qocm91dGUudmlydHVhbFJvdXRlci52aXJ0dWFsUm91dGVyTmFtZSkudG9FcXVhbCh2aXJ0dWFsUm91dGVyTmFtZSk7XG4gICAgZXhwZWN0KHJvdXRlLnZpcnR1YWxSb3V0ZXIubWVzaC5tZXNoTmFtZSkudG9FcXVhbChtZXNoTmFtZSk7XG5cbiAgfSk7XG5cbiAgdGVzdCgnQ2FuIGltcG9ydCBSb3V0ZXMgdXNpbmcgQVJOIGFuZCBhdHRyaWJ1dGVzJywgKCkgPT4ge1xuICAgIGNvbnN0IGFwcCA9IG5ldyBjZGsuQXBwKCk7XG4gICAgLy8gR0lWRU5cbiAgICBjb25zdCBzdGFjayA9IG5ldyBjZGsuU3RhY2soYXBwLCAnSW1wb3J0cycsIHtcbiAgICAgIGVudjogeyBhY2NvdW50OiAnMTIzNDU2Nzg5MDEyJywgcmVnaW9uOiAndXMtZWFzdC0xJyB9LFxuICAgIH0pO1xuICAgIGNvbnN0IG1lc2hOYW1lID0gJ3Rlc3QtbWVzaCc7XG4gICAgY29uc3QgdmlydHVhbFJvdXRlck5hbWUgPSAndGVzdC12aXJ0dWFsLXJvdXRlcic7XG4gICAgY29uc3Qgcm91dGVOYW1lID0gJ3Rlc3Qtcm91dGUnO1xuXG4gICAgLy8gV0hFTlxuICAgIGNvbnN0IG1lc2ggPSBhcHBtZXNoLk1lc2guZnJvbU1lc2hOYW1lKHN0YWNrLCAnTWVzaCcsIG1lc2hOYW1lKTtcbiAgICBjb25zdCB2aXJ0dWFsUm91dGVyID0gbWVzaC5hZGRWaXJ0dWFsUm91dGVyKCdWaXJ0dWFsR2F0ZXdheScsIHtcbiAgICAgIHZpcnR1YWxSb3V0ZXJOYW1lOiB2aXJ0dWFsUm91dGVyTmFtZSxcbiAgICB9KTtcbiAgICBjb25zdCByb3V0ZSA9IGFwcG1lc2guUm91dGUuZnJvbVJvdXRlQXR0cmlidXRlcyhzdGFjaywgJ2ltcG9ydGVkUm91dGUnLCB7IHJvdXRlTmFtZSwgdmlydHVhbFJvdXRlciB9KTtcbiAgICAvLyBUSEVOXG4gICAgZXhwZWN0KHJvdXRlLnJvdXRlTmFtZSkudG9FcXVhbChyb3V0ZU5hbWUpO1xuICAgIGV4cGVjdChyb3V0ZS52aXJ0dWFsUm91dGVyLm1lc2gubWVzaE5hbWUpLnRvRXF1YWwobWVzaE5hbWUpO1xuICB9KTtcbn0pO1xuIl19