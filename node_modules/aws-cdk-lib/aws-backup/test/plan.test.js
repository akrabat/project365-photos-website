"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const assertions_1 = require("../../assertions");
const events = require("../../aws-events");
const core_1 = require("../../core");
const lib_1 = require("../lib");
let stack;
beforeEach(() => {
    stack = new core_1.Stack();
});
test('create a plan and add rules', () => {
    // GIVEN
    const vault = new lib_1.BackupVault(stack, 'Vault');
    const otherVault = new lib_1.BackupVault(stack, 'OtherVault');
    // WHEN
    const plan = new lib_1.BackupPlan(stack, 'Plan', {
        backupVault: vault,
        backupPlanRules: [
            new lib_1.BackupPlanRule({
                completionWindow: core_1.Duration.hours(2),
                startWindow: core_1.Duration.hours(1),
                scheduleExpression: events.Schedule.cron({
                    day: '15',
                    hour: '3',
                    minute: '30',
                }),
                moveToColdStorageAfter: core_1.Duration.days(30),
            }),
        ],
    });
    plan.addRule(lib_1.BackupPlanRule.monthly5Year(otherVault));
    // THEN
    assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::Backup::BackupPlan', {
        BackupPlan: {
            BackupPlanName: 'Plan',
            BackupPlanRule: [
                {
                    CompletionWindowMinutes: 120,
                    Lifecycle: {
                        MoveToColdStorageAfterDays: 30,
                    },
                    RuleName: 'PlanRule0',
                    ScheduleExpression: 'cron(30 3 15 * ? *)',
                    StartWindowMinutes: 60,
                    TargetBackupVault: {
                        'Fn::GetAtt': [
                            'Vault23237E5B',
                            'BackupVaultName',
                        ],
                    },
                },
                {
                    Lifecycle: {
                        DeleteAfterDays: 1825,
                        MoveToColdStorageAfterDays: 90,
                    },
                    RuleName: 'Monthly5Year',
                    ScheduleExpression: 'cron(0 5 1 * ? *)',
                    TargetBackupVault: {
                        'Fn::GetAtt': [
                            'OtherVault3C99BCE2',
                            'BackupVaultName',
                        ],
                    },
                },
            ],
        },
    });
});
test('create a plan with continuous backup option', () => {
    // GIVEN
    const vault = new lib_1.BackupVault(stack, 'Vault');
    // WHEN
    new lib_1.BackupPlan(stack, 'Plan', {
        backupVault: vault,
        backupPlanRules: [
            new lib_1.BackupPlanRule({
                enableContinuousBackup: true,
            }),
        ],
    });
    // THEN
    assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::Backup::BackupPlan', {
        BackupPlan: {
            BackupPlanName: 'Plan',
            BackupPlanRule: [
                {
                    EnableContinuousBackup: true,
                    Lifecycle: {
                        DeleteAfterDays: 35,
                    },
                    RuleName: 'PlanRule0',
                    TargetBackupVault: {
                        'Fn::GetAtt': [
                            'Vault23237E5B',
                            'BackupVaultName',
                        ],
                    },
                },
            ],
        },
    });
});
test('create a plan with continuous backup option and specify deleteAfter', () => {
    // GIVEN
    const vault = new lib_1.BackupVault(stack, 'Vault');
    // WHEN
    new lib_1.BackupPlan(stack, 'Plan', {
        backupVault: vault,
        backupPlanRules: [
            new lib_1.BackupPlanRule({
                enableContinuousBackup: true,
                deleteAfter: core_1.Duration.days(1),
            }),
        ],
    });
    // THEN
    assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::Backup::BackupPlan', {
        BackupPlan: {
            BackupPlanName: 'Plan',
            BackupPlanRule: [
                {
                    EnableContinuousBackup: true,
                    Lifecycle: {
                        DeleteAfterDays: 1,
                    },
                    RuleName: 'PlanRule0',
                    TargetBackupVault: {
                        'Fn::GetAtt': [
                            'Vault23237E5B',
                            'BackupVaultName',
                        ],
                    },
                },
            ],
        },
    });
});
test('create a plan and add rules - add BackupPlan.AdvancedBackupSettings.BackupOptions', () => {
    const vault = new lib_1.BackupVault(stack, 'Vault');
    const otherVault = new lib_1.BackupVault(stack, 'OtherVault');
    // WHEN
    const plan = new lib_1.BackupPlan(stack, 'Plan', {
        windowsVss: true,
        backupVault: vault,
        backupPlanRules: [
            new lib_1.BackupPlanRule({
                completionWindow: core_1.Duration.hours(2),
                startWindow: core_1.Duration.hours(1),
                scheduleExpression: events.Schedule.cron({
                    day: '15',
                    hour: '3',
                    minute: '30',
                }),
                moveToColdStorageAfter: core_1.Duration.days(30),
            }),
        ],
    });
    plan.addRule(lib_1.BackupPlanRule.monthly5Year(otherVault));
    assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::Backup::BackupPlan', {
        BackupPlan: {
            AdvancedBackupSettings: [{ BackupOptions: { WindowsVSS: 'enabled' }, ResourceType: 'EC2' }],
        },
    });
});
test('daily35DayRetention', () => {
    // WHEN
    lib_1.BackupPlan.daily35DayRetention(stack, 'D35');
    // THEN
    assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::Backup::BackupPlan', {
        BackupPlan: {
            BackupPlanName: 'D35',
            BackupPlanRule: [
                {
                    Lifecycle: {
                        DeleteAfterDays: 35,
                    },
                    RuleName: 'Daily',
                    ScheduleExpression: 'cron(0 5 * * ? *)',
                    TargetBackupVault: {
                        'Fn::GetAtt': [
                            'D35Vault2A9EB06F',
                            'BackupVaultName',
                        ],
                    },
                },
            ],
        },
    });
});
test('dailyWeeklyMonthly7YearRetention', () => {
    // WHEN
    lib_1.BackupPlan.dailyWeeklyMonthly7YearRetention(stack, 'DWM7');
    // THEN
    assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::Backup::BackupPlan', {
        BackupPlan: {
            BackupPlanName: 'DWM7',
            BackupPlanRule: [
                {
                    Lifecycle: {
                        DeleteAfterDays: 35,
                    },
                    RuleName: 'Daily',
                    ScheduleExpression: 'cron(0 5 * * ? *)',
                    TargetBackupVault: {
                        'Fn::GetAtt': [
                            'DWM7Vault21F17E61',
                            'BackupVaultName',
                        ],
                    },
                },
                {
                    Lifecycle: {
                        DeleteAfterDays: 90,
                    },
                    RuleName: 'Weekly',
                    ScheduleExpression: 'cron(0 5 ? * SAT *)',
                    TargetBackupVault: {
                        'Fn::GetAtt': [
                            'DWM7Vault21F17E61',
                            'BackupVaultName',
                        ],
                    },
                },
                {
                    Lifecycle: {
                        DeleteAfterDays: 2555,
                        MoveToColdStorageAfterDays: 90,
                    },
                    RuleName: 'Monthly7Year',
                    ScheduleExpression: 'cron(0 5 1 * ? *)',
                    TargetBackupVault: {
                        'Fn::GetAtt': [
                            'DWM7Vault21F17E61',
                            'BackupVaultName',
                        ],
                    },
                },
            ],
        },
    });
});
test('automatically creates a new vault', () => {
    // GIVEN
    const plan = new lib_1.BackupPlan(stack, 'Plan');
    // WHEN
    plan.addRule(lib_1.BackupPlanRule.daily());
    // THEN
    assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::Backup::BackupPlan', {
        BackupPlan: {
            BackupPlanName: 'Plan',
            BackupPlanRule: [
                {
                    Lifecycle: {
                        DeleteAfterDays: 35,
                    },
                    RuleName: 'Daily',
                    ScheduleExpression: 'cron(0 5 * * ? *)',
                    TargetBackupVault: {
                        'Fn::GetAtt': [
                            'PlanVault0284B0C2',
                            'BackupVaultName',
                        ],
                    },
                },
            ],
        },
    });
});
test('create a plan and add rule to copy to a different vault', () => {
    // GIVEN
    const primaryVault = new lib_1.BackupVault(stack, 'PrimaryVault');
    const secondaryVault = new lib_1.BackupVault(stack, 'SecondaryVault');
    // WHEN
    new lib_1.BackupPlan(stack, 'Plan', {
        backupVault: primaryVault,
        backupPlanRules: [
            new lib_1.BackupPlanRule({
                copyActions: [{
                        destinationBackupVault: secondaryVault,
                        deleteAfter: core_1.Duration.days(120),
                        moveToColdStorageAfter: core_1.Duration.days(30),
                    }],
            }),
        ],
    });
    // THEN
    assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::Backup::BackupPlan', {
        BackupPlan: {
            BackupPlanName: 'Plan',
            BackupPlanRule: [
                {
                    RuleName: 'PlanRule0',
                    TargetBackupVault: {
                        'Fn::GetAtt': [
                            'PrimaryVault9BBEBB0D',
                            'BackupVaultName',
                        ],
                    },
                    CopyActions: [{
                            DestinationBackupVaultArn: {
                                'Fn::GetAtt': [
                                    'SecondaryVault67665B5E',
                                    'BackupVaultArn',
                                ],
                            },
                            Lifecycle: {
                                DeleteAfterDays: 120,
                                MoveToColdStorageAfterDays: 30,
                            },
                        }],
                },
            ],
        },
    });
});
test('throws when deleteAfter is not greater than moveToColdStorageAfter', () => {
    expect(() => new lib_1.BackupPlanRule({
        deleteAfter: core_1.Duration.days(5),
        moveToColdStorageAfter: core_1.Duration.days(6),
    })).toThrow(/`deleteAfter` must be greater than `moveToColdStorageAfter`/);
});
test('throws when scheduleExpression is not of type cron', () => {
    expect(() => new lib_1.BackupPlanRule({
        scheduleExpression: events.Schedule.rate(core_1.Duration.hours(5)),
    })).toThrow(/`scheduleExpression` must be of type `cron`/);
});
test('synth fails when plan has no rules', () => {
    // GIVEN
    const app = new core_1.App();
    const myStack = new core_1.Stack(app, 'Stack');
    // WHEN
    new lib_1.BackupPlan(myStack, 'Plan');
    expect(() => app.synth()).toThrow(/A backup plan must have at least 1 rule/);
});
test('throws when moveToColdStorageAfter is used with enableContinuousBackup', () => {
    expect(() => new lib_1.BackupPlanRule({
        enableContinuousBackup: true,
        deleteAfter: core_1.Duration.days(30),
        moveToColdStorageAfter: core_1.Duration.days(10),
    })).toThrow(/`moveToColdStorageAfter` must not be specified if `enableContinuousBackup` is enabled/);
});
test('throws when deleteAfter is less than 1 in combination with enableContinuousBackup', () => {
    expect(() => new lib_1.BackupPlanRule({
        enableContinuousBackup: true,
        deleteAfter: core_1.Duration.days(0),
    })).toThrow(/'deleteAfter' must be between 1 and 35 days if 'enableContinuousBackup' is enabled, but got 0 days/);
});
test('throws when deleteAfter is greater than 35 in combination with enableContinuousBackup', () => {
    expect(() => new lib_1.BackupPlanRule({
        enableContinuousBackup: true,
        deleteAfter: core_1.Duration.days(36),
    })).toThrow(/'deleteAfter' must be between 1 and 35 days if 'enableContinuousBackup' is enabled, but got 36 days/);
});
test('throws when deleteAfter is not greater than moveToColdStorageAfter in a copy action', () => {
    expect(() => new lib_1.BackupPlanRule({
        copyActions: [{
                destinationBackupVault: new lib_1.BackupVault(stack, 'Vault'),
                deleteAfter: core_1.Duration.days(5),
                moveToColdStorageAfter: core_1.Duration.days(6),
            }],
    })).toThrow(/deleteAfter' must at least 90 days later than corresponding 'moveToColdStorageAfter'\nreceived 'deleteAfter: 5' and 'moveToColdStorageAfter: 6'/);
});
test('throws when deleteAfter is not greater than 90 days past moveToColdStorageAfter parameter in a copy action', () => {
    expect(() => new lib_1.BackupPlanRule({
        copyActions: [{
                destinationBackupVault: new lib_1.BackupVault(stack, 'Vault'),
                deleteAfter: core_1.Duration.days(45),
                moveToColdStorageAfter: core_1.Duration.days(30),
            }],
    })).toThrow(/'deleteAfter' must at least 90 days later than corresponding 'moveToColdStorageAfter'\nreceived 'deleteAfter: 45' and 'moveToColdStorageAfter: 30'/);
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGxhbi50ZXN0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsicGxhbi50ZXN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsaURBQTRDO0FBQzVDLDJDQUEyQztBQUMzQyxxQ0FBa0Q7QUFDbEQsZ0NBQWlFO0FBRWpFLElBQUksS0FBWSxDQUFDO0FBQ2pCLFVBQVUsQ0FBQyxHQUFHLEVBQUU7SUFDZCxLQUFLLEdBQUcsSUFBSSxZQUFLLEVBQUUsQ0FBQztBQUN0QixDQUFDLENBQUMsQ0FBQztBQUVILElBQUksQ0FBQyw2QkFBNkIsRUFBRSxHQUFHLEVBQUU7SUFDdkMsUUFBUTtJQUNSLE1BQU0sS0FBSyxHQUFHLElBQUksaUJBQVcsQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDOUMsTUFBTSxVQUFVLEdBQUcsSUFBSSxpQkFBVyxDQUFDLEtBQUssRUFBRSxZQUFZLENBQUMsQ0FBQztJQUV4RCxPQUFPO0lBQ1AsTUFBTSxJQUFJLEdBQUcsSUFBSSxnQkFBVSxDQUFDLEtBQUssRUFBRSxNQUFNLEVBQUU7UUFDekMsV0FBVyxFQUFFLEtBQUs7UUFDbEIsZUFBZSxFQUFFO1lBQ2YsSUFBSSxvQkFBYyxDQUFDO2dCQUNqQixnQkFBZ0IsRUFBRSxlQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztnQkFDbkMsV0FBVyxFQUFFLGVBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO2dCQUM5QixrQkFBa0IsRUFBRSxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQztvQkFDdkMsR0FBRyxFQUFFLElBQUk7b0JBQ1QsSUFBSSxFQUFFLEdBQUc7b0JBQ1QsTUFBTSxFQUFFLElBQUk7aUJBQ2IsQ0FBQztnQkFDRixzQkFBc0IsRUFBRSxlQUFRLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQzthQUMxQyxDQUFDO1NBQ0g7S0FDRixDQUFDLENBQUM7SUFDSCxJQUFJLENBQUMsT0FBTyxDQUFDLG9CQUFjLENBQUMsWUFBWSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7SUFFdEQsT0FBTztJQUNQLHFCQUFRLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDLHFCQUFxQixDQUFDLHlCQUF5QixFQUFFO1FBQ3pFLFVBQVUsRUFBRTtZQUNWLGNBQWMsRUFBRSxNQUFNO1lBQ3RCLGNBQWMsRUFBRTtnQkFDZDtvQkFDRSx1QkFBdUIsRUFBRSxHQUFHO29CQUM1QixTQUFTLEVBQUU7d0JBQ1QsMEJBQTBCLEVBQUUsRUFBRTtxQkFDL0I7b0JBQ0QsUUFBUSxFQUFFLFdBQVc7b0JBQ3JCLGtCQUFrQixFQUFFLHFCQUFxQjtvQkFDekMsa0JBQWtCLEVBQUUsRUFBRTtvQkFDdEIsaUJBQWlCLEVBQUU7d0JBQ2pCLFlBQVksRUFBRTs0QkFDWixlQUFlOzRCQUNmLGlCQUFpQjt5QkFDbEI7cUJBQ0Y7aUJBQ0Y7Z0JBQ0Q7b0JBQ0UsU0FBUyxFQUFFO3dCQUNULGVBQWUsRUFBRSxJQUFJO3dCQUNyQiwwQkFBMEIsRUFBRSxFQUFFO3FCQUMvQjtvQkFDRCxRQUFRLEVBQUUsY0FBYztvQkFDeEIsa0JBQWtCLEVBQUUsbUJBQW1CO29CQUN2QyxpQkFBaUIsRUFBRTt3QkFDakIsWUFBWSxFQUFFOzRCQUNaLG9CQUFvQjs0QkFDcEIsaUJBQWlCO3lCQUNsQjtxQkFDRjtpQkFDRjthQUNGO1NBQ0Y7S0FDRixDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQztBQUVILElBQUksQ0FBQyw2Q0FBNkMsRUFBRSxHQUFHLEVBQUU7SUFDdkQsUUFBUTtJQUNSLE1BQU0sS0FBSyxHQUFHLElBQUksaUJBQVcsQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFFOUMsT0FBTztJQUNQLElBQUksZ0JBQVUsQ0FBQyxLQUFLLEVBQUUsTUFBTSxFQUFFO1FBQzVCLFdBQVcsRUFBRSxLQUFLO1FBQ2xCLGVBQWUsRUFBRTtZQUNmLElBQUksb0JBQWMsQ0FBQztnQkFDakIsc0JBQXNCLEVBQUUsSUFBSTthQUM3QixDQUFDO1NBQ0g7S0FDRixDQUFDLENBQUM7SUFFSCxPQUFPO0lBQ1AscUJBQVEsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMscUJBQXFCLENBQUMseUJBQXlCLEVBQUU7UUFDekUsVUFBVSxFQUFFO1lBQ1YsY0FBYyxFQUFFLE1BQU07WUFDdEIsY0FBYyxFQUFFO2dCQUNkO29CQUNFLHNCQUFzQixFQUFFLElBQUk7b0JBQzVCLFNBQVMsRUFBRTt3QkFDVCxlQUFlLEVBQUUsRUFBRTtxQkFDcEI7b0JBQ0QsUUFBUSxFQUFFLFdBQVc7b0JBQ3JCLGlCQUFpQixFQUFFO3dCQUNqQixZQUFZLEVBQUU7NEJBQ1osZUFBZTs0QkFDZixpQkFBaUI7eUJBQ2xCO3FCQUNGO2lCQUNGO2FBQ0Y7U0FDRjtLQUNGLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDO0FBRUgsSUFBSSxDQUFDLHFFQUFxRSxFQUFFLEdBQUcsRUFBRTtJQUMvRSxRQUFRO0lBQ1IsTUFBTSxLQUFLLEdBQUcsSUFBSSxpQkFBVyxDQUFDLEtBQUssRUFBRSxPQUFPLENBQUMsQ0FBQztJQUU5QyxPQUFPO0lBQ1AsSUFBSSxnQkFBVSxDQUFDLEtBQUssRUFBRSxNQUFNLEVBQUU7UUFDNUIsV0FBVyxFQUFFLEtBQUs7UUFDbEIsZUFBZSxFQUFFO1lBQ2YsSUFBSSxvQkFBYyxDQUFDO2dCQUNqQixzQkFBc0IsRUFBRSxJQUFJO2dCQUM1QixXQUFXLEVBQUUsZUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7YUFDOUIsQ0FBQztTQUNIO0tBQ0YsQ0FBQyxDQUFDO0lBRUgsT0FBTztJQUNQLHFCQUFRLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDLHFCQUFxQixDQUFDLHlCQUF5QixFQUFFO1FBQ3pFLFVBQVUsRUFBRTtZQUNWLGNBQWMsRUFBRSxNQUFNO1lBQ3RCLGNBQWMsRUFBRTtnQkFDZDtvQkFDRSxzQkFBc0IsRUFBRSxJQUFJO29CQUM1QixTQUFTLEVBQUU7d0JBQ1QsZUFBZSxFQUFFLENBQUM7cUJBQ25CO29CQUNELFFBQVEsRUFBRSxXQUFXO29CQUNyQixpQkFBaUIsRUFBRTt3QkFDakIsWUFBWSxFQUFFOzRCQUNaLGVBQWU7NEJBQ2YsaUJBQWlCO3lCQUNsQjtxQkFDRjtpQkFDRjthQUNGO1NBQ0Y7S0FDRixDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQztBQUVILElBQUksQ0FBQyxtRkFBbUYsRUFBRSxHQUFHLEVBQUU7SUFDN0YsTUFBTSxLQUFLLEdBQUcsSUFBSSxpQkFBVyxDQUFDLEtBQUssRUFBRSxPQUFPLENBQUMsQ0FBQztJQUM5QyxNQUFNLFVBQVUsR0FBRyxJQUFJLGlCQUFXLENBQUMsS0FBSyxFQUFFLFlBQVksQ0FBQyxDQUFDO0lBRXhELE9BQU87SUFDUCxNQUFNLElBQUksR0FBRyxJQUFJLGdCQUFVLENBQUMsS0FBSyxFQUFFLE1BQU0sRUFBRTtRQUN6QyxVQUFVLEVBQUUsSUFBSTtRQUNoQixXQUFXLEVBQUUsS0FBSztRQUNsQixlQUFlLEVBQUU7WUFDZixJQUFJLG9CQUFjLENBQUM7Z0JBQ2pCLGdCQUFnQixFQUFFLGVBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO2dCQUNuQyxXQUFXLEVBQUUsZUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7Z0JBQzlCLGtCQUFrQixFQUFFLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDO29CQUN2QyxHQUFHLEVBQUUsSUFBSTtvQkFDVCxJQUFJLEVBQUUsR0FBRztvQkFDVCxNQUFNLEVBQUUsSUFBSTtpQkFDYixDQUFDO2dCQUNGLHNCQUFzQixFQUFFLGVBQVEsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDO2FBQzFDLENBQUM7U0FDSDtLQUNGLENBQUMsQ0FBQztJQUNILElBQUksQ0FBQyxPQUFPLENBQUMsb0JBQWMsQ0FBQyxZQUFZLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztJQUV0RCxxQkFBUSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxxQkFBcUIsQ0FBQyx5QkFBeUIsRUFBRTtRQUN6RSxVQUFVLEVBQUU7WUFDVixzQkFBc0IsRUFBRSxDQUFDLEVBQUUsYUFBYSxFQUFFLEVBQUUsVUFBVSxFQUFFLFNBQVMsRUFBRSxFQUFFLFlBQVksRUFBRSxLQUFLLEVBQUUsQ0FBQztTQUM1RjtLQUNGLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDO0FBRUgsSUFBSSxDQUFDLHFCQUFxQixFQUFFLEdBQUcsRUFBRTtJQUMvQixPQUFPO0lBQ1AsZ0JBQVUsQ0FBQyxtQkFBbUIsQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFFN0MsT0FBTztJQUNQLHFCQUFRLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDLHFCQUFxQixDQUFDLHlCQUF5QixFQUFFO1FBQ3pFLFVBQVUsRUFBRTtZQUNWLGNBQWMsRUFBRSxLQUFLO1lBQ3JCLGNBQWMsRUFBRTtnQkFDZDtvQkFDRSxTQUFTLEVBQUU7d0JBQ1QsZUFBZSxFQUFFLEVBQUU7cUJBQ3BCO29CQUNELFFBQVEsRUFBRSxPQUFPO29CQUNqQixrQkFBa0IsRUFBRSxtQkFBbUI7b0JBQ3ZDLGlCQUFpQixFQUFFO3dCQUNqQixZQUFZLEVBQUU7NEJBQ1osa0JBQWtCOzRCQUNsQixpQkFBaUI7eUJBQ2xCO3FCQUNGO2lCQUNGO2FBQ0Y7U0FDRjtLQUNGLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDO0FBRUgsSUFBSSxDQUFDLGtDQUFrQyxFQUFFLEdBQUcsRUFBRTtJQUM1QyxPQUFPO0lBQ1AsZ0JBQVUsQ0FBQyxnQ0FBZ0MsQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFFM0QsT0FBTztJQUNQLHFCQUFRLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDLHFCQUFxQixDQUFDLHlCQUF5QixFQUFFO1FBQ3pFLFVBQVUsRUFBRTtZQUNWLGNBQWMsRUFBRSxNQUFNO1lBQ3RCLGNBQWMsRUFBRTtnQkFDZDtvQkFDRSxTQUFTLEVBQUU7d0JBQ1QsZUFBZSxFQUFFLEVBQUU7cUJBQ3BCO29CQUNELFFBQVEsRUFBRSxPQUFPO29CQUNqQixrQkFBa0IsRUFBRSxtQkFBbUI7b0JBQ3ZDLGlCQUFpQixFQUFFO3dCQUNqQixZQUFZLEVBQUU7NEJBQ1osbUJBQW1COzRCQUNuQixpQkFBaUI7eUJBQ2xCO3FCQUNGO2lCQUNGO2dCQUNEO29CQUNFLFNBQVMsRUFBRTt3QkFDVCxlQUFlLEVBQUUsRUFBRTtxQkFDcEI7b0JBQ0QsUUFBUSxFQUFFLFFBQVE7b0JBQ2xCLGtCQUFrQixFQUFFLHFCQUFxQjtvQkFDekMsaUJBQWlCLEVBQUU7d0JBQ2pCLFlBQVksRUFBRTs0QkFDWixtQkFBbUI7NEJBQ25CLGlCQUFpQjt5QkFDbEI7cUJBQ0Y7aUJBQ0Y7Z0JBQ0Q7b0JBQ0UsU0FBUyxFQUFFO3dCQUNULGVBQWUsRUFBRSxJQUFJO3dCQUNyQiwwQkFBMEIsRUFBRSxFQUFFO3FCQUMvQjtvQkFDRCxRQUFRLEVBQUUsY0FBYztvQkFDeEIsa0JBQWtCLEVBQUUsbUJBQW1CO29CQUN2QyxpQkFBaUIsRUFBRTt3QkFDakIsWUFBWSxFQUFFOzRCQUNaLG1CQUFtQjs0QkFDbkIsaUJBQWlCO3lCQUNsQjtxQkFDRjtpQkFDRjthQUNGO1NBQ0Y7S0FDRixDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQztBQUVILElBQUksQ0FBQyxtQ0FBbUMsRUFBRSxHQUFHLEVBQUU7SUFDN0MsUUFBUTtJQUNSLE1BQU0sSUFBSSxHQUFHLElBQUksZ0JBQVUsQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFFM0MsT0FBTztJQUNQLElBQUksQ0FBQyxPQUFPLENBQUMsb0JBQWMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO0lBRXJDLE9BQU87SUFDUCxxQkFBUSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxxQkFBcUIsQ0FBQyx5QkFBeUIsRUFBRTtRQUN6RSxVQUFVLEVBQUU7WUFDVixjQUFjLEVBQUUsTUFBTTtZQUN0QixjQUFjLEVBQUU7Z0JBQ2Q7b0JBQ0UsU0FBUyxFQUFFO3dCQUNULGVBQWUsRUFBRSxFQUFFO3FCQUNwQjtvQkFDRCxRQUFRLEVBQUUsT0FBTztvQkFDakIsa0JBQWtCLEVBQUUsbUJBQW1CO29CQUN2QyxpQkFBaUIsRUFBRTt3QkFDakIsWUFBWSxFQUFFOzRCQUNaLG1CQUFtQjs0QkFDbkIsaUJBQWlCO3lCQUNsQjtxQkFDRjtpQkFDRjthQUNGO1NBQ0Y7S0FDRixDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQztBQUVILElBQUksQ0FBQyx5REFBeUQsRUFBRSxHQUFHLEVBQUU7SUFDbkUsUUFBUTtJQUNSLE1BQU0sWUFBWSxHQUFHLElBQUksaUJBQVcsQ0FBQyxLQUFLLEVBQUUsY0FBYyxDQUFDLENBQUM7SUFDNUQsTUFBTSxjQUFjLEdBQUcsSUFBSSxpQkFBVyxDQUFDLEtBQUssRUFBRSxnQkFBZ0IsQ0FBQyxDQUFDO0lBRWhFLE9BQU87SUFDUCxJQUFJLGdCQUFVLENBQUMsS0FBSyxFQUFFLE1BQU0sRUFBRTtRQUM1QixXQUFXLEVBQUUsWUFBWTtRQUN6QixlQUFlLEVBQUU7WUFDZixJQUFJLG9CQUFjLENBQUM7Z0JBQ2pCLFdBQVcsRUFBRSxDQUFDO3dCQUNaLHNCQUFzQixFQUFFLGNBQWM7d0JBQ3RDLFdBQVcsRUFBRSxlQUFRLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQzt3QkFDL0Isc0JBQXNCLEVBQUUsZUFBUSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUM7cUJBQzFDLENBQUM7YUFDSCxDQUFDO1NBQ0g7S0FDRixDQUFDLENBQUM7SUFFSCxPQUFPO0lBQ1AscUJBQVEsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMscUJBQXFCLENBQUMseUJBQXlCLEVBQUU7UUFDekUsVUFBVSxFQUFFO1lBQ1YsY0FBYyxFQUFFLE1BQU07WUFDdEIsY0FBYyxFQUFFO2dCQUNkO29CQUNFLFFBQVEsRUFBRSxXQUFXO29CQUNyQixpQkFBaUIsRUFBRTt3QkFDakIsWUFBWSxFQUFFOzRCQUNaLHNCQUFzQjs0QkFDdEIsaUJBQWlCO3lCQUNsQjtxQkFDRjtvQkFDRCxXQUFXLEVBQUUsQ0FBQzs0QkFDWix5QkFBeUIsRUFBRTtnQ0FDekIsWUFBWSxFQUFFO29DQUNaLHdCQUF3QjtvQ0FDeEIsZ0JBQWdCO2lDQUNqQjs2QkFDRjs0QkFDRCxTQUFTLEVBQUU7Z0NBQ1QsZUFBZSxFQUFFLEdBQUc7Z0NBQ3BCLDBCQUEwQixFQUFFLEVBQUU7NkJBQy9CO3lCQUNGLENBQUM7aUJBQ0g7YUFDRjtTQUNGO0tBQ0YsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUM7QUFFSCxJQUFJLENBQUMsb0VBQW9FLEVBQUUsR0FBRyxFQUFFO0lBQzlFLE1BQU0sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxJQUFJLG9CQUFjLENBQUM7UUFDOUIsV0FBVyxFQUFFLGVBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQzdCLHNCQUFzQixFQUFFLGVBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0tBQ3pDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyw2REFBNkQsQ0FBQyxDQUFDO0FBQzdFLENBQUMsQ0FBQyxDQUFDO0FBRUgsSUFBSSxDQUFDLG9EQUFvRCxFQUFFLEdBQUcsRUFBRTtJQUM5RCxNQUFNLENBQUMsR0FBRyxFQUFFLENBQUMsSUFBSSxvQkFBYyxDQUFDO1FBQzlCLGtCQUFrQixFQUFFLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLGVBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDNUQsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLDZDQUE2QyxDQUFDLENBQUM7QUFDN0QsQ0FBQyxDQUFDLENBQUM7QUFFSCxJQUFJLENBQUMsb0NBQW9DLEVBQUUsR0FBRyxFQUFFO0lBQzlDLFFBQVE7SUFDUixNQUFNLEdBQUcsR0FBRyxJQUFJLFVBQUcsRUFBRSxDQUFDO0lBQ3RCLE1BQU0sT0FBTyxHQUFHLElBQUksWUFBSyxDQUFDLEdBQUcsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUV4QyxPQUFPO0lBQ1AsSUFBSSxnQkFBVSxDQUFDLE9BQU8sRUFBRSxNQUFNLENBQUMsQ0FBQztJQUVoQyxNQUFNLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDLHlDQUF5QyxDQUFDLENBQUM7QUFDL0UsQ0FBQyxDQUFDLENBQUM7QUFFSCxJQUFJLENBQUMsd0VBQXdFLEVBQUUsR0FBRyxFQUFFO0lBQ2xGLE1BQU0sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxJQUFJLG9CQUFjLENBQUM7UUFDOUIsc0JBQXNCLEVBQUUsSUFBSTtRQUM1QixXQUFXLEVBQUUsZUFBUSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUM7UUFDOUIsc0JBQXNCLEVBQUUsZUFBUSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUM7S0FDMUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLHVGQUF1RixDQUFDLENBQUM7QUFDdkcsQ0FBQyxDQUFDLENBQUM7QUFFSCxJQUFJLENBQUMsbUZBQW1GLEVBQUUsR0FBRyxFQUFFO0lBQzdGLE1BQU0sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxJQUFJLG9CQUFjLENBQUM7UUFDOUIsc0JBQXNCLEVBQUUsSUFBSTtRQUM1QixXQUFXLEVBQUUsZUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7S0FDOUIsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLG9HQUFvRyxDQUFDLENBQUM7QUFDcEgsQ0FBQyxDQUFDLENBQUM7QUFFSCxJQUFJLENBQUMsdUZBQXVGLEVBQUUsR0FBRyxFQUFFO0lBQ2pHLE1BQU0sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxJQUFJLG9CQUFjLENBQUM7UUFDOUIsc0JBQXNCLEVBQUUsSUFBSTtRQUM1QixXQUFXLEVBQUUsZUFBUSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUM7S0FDL0IsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLHFHQUFxRyxDQUFDLENBQUM7QUFDckgsQ0FBQyxDQUFDLENBQUM7QUFFSCxJQUFJLENBQUMscUZBQXFGLEVBQUUsR0FBRyxFQUFFO0lBQy9GLE1BQU0sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxJQUFJLG9CQUFjLENBQUM7UUFDOUIsV0FBVyxFQUFFLENBQUM7Z0JBQ1osc0JBQXNCLEVBQUUsSUFBSSxpQkFBVyxDQUFDLEtBQUssRUFBRSxPQUFPLENBQUM7Z0JBQ3ZELFdBQVcsRUFBRSxlQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztnQkFDN0Isc0JBQXNCLEVBQUUsZUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7YUFDekMsQ0FBQztLQUNILENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxpSkFBaUosQ0FBQyxDQUFDO0FBQ2pLLENBQUMsQ0FBQyxDQUFDO0FBRUgsSUFBSSxDQUFDLDRHQUE0RyxFQUFFLEdBQUcsRUFBRTtJQUN0SCxNQUFNLENBQUMsR0FBRyxFQUFFLENBQUMsSUFBSSxvQkFBYyxDQUFDO1FBQzlCLFdBQVcsRUFBRSxDQUFDO2dCQUNaLHNCQUFzQixFQUFFLElBQUksaUJBQVcsQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDO2dCQUN2RCxXQUFXLEVBQUUsZUFBUSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUM7Z0JBQzlCLHNCQUFzQixFQUFFLGVBQVEsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDO2FBQzFDLENBQUM7S0FDSCxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsb0pBQW9KLENBQUMsQ0FBQztBQUNwSyxDQUFDLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFRlbXBsYXRlIH0gZnJvbSAnLi4vLi4vYXNzZXJ0aW9ucyc7XG5pbXBvcnQgKiBhcyBldmVudHMgZnJvbSAnLi4vLi4vYXdzLWV2ZW50cyc7XG5pbXBvcnQgeyBBcHAsIER1cmF0aW9uLCBTdGFjayB9IGZyb20gJy4uLy4uL2NvcmUnO1xuaW1wb3J0IHsgQmFja3VwUGxhbiwgQmFja3VwUGxhblJ1bGUsIEJhY2t1cFZhdWx0IH0gZnJvbSAnLi4vbGliJztcblxubGV0IHN0YWNrOiBTdGFjaztcbmJlZm9yZUVhY2goKCkgPT4ge1xuICBzdGFjayA9IG5ldyBTdGFjaygpO1xufSk7XG5cbnRlc3QoJ2NyZWF0ZSBhIHBsYW4gYW5kIGFkZCBydWxlcycsICgpID0+IHtcbiAgLy8gR0lWRU5cbiAgY29uc3QgdmF1bHQgPSBuZXcgQmFja3VwVmF1bHQoc3RhY2ssICdWYXVsdCcpO1xuICBjb25zdCBvdGhlclZhdWx0ID0gbmV3IEJhY2t1cFZhdWx0KHN0YWNrLCAnT3RoZXJWYXVsdCcpO1xuXG4gIC8vIFdIRU5cbiAgY29uc3QgcGxhbiA9IG5ldyBCYWNrdXBQbGFuKHN0YWNrLCAnUGxhbicsIHtcbiAgICBiYWNrdXBWYXVsdDogdmF1bHQsXG4gICAgYmFja3VwUGxhblJ1bGVzOiBbXG4gICAgICBuZXcgQmFja3VwUGxhblJ1bGUoe1xuICAgICAgICBjb21wbGV0aW9uV2luZG93OiBEdXJhdGlvbi5ob3VycygyKSxcbiAgICAgICAgc3RhcnRXaW5kb3c6IER1cmF0aW9uLmhvdXJzKDEpLFxuICAgICAgICBzY2hlZHVsZUV4cHJlc3Npb246IGV2ZW50cy5TY2hlZHVsZS5jcm9uKHtcbiAgICAgICAgICBkYXk6ICcxNScsXG4gICAgICAgICAgaG91cjogJzMnLFxuICAgICAgICAgIG1pbnV0ZTogJzMwJyxcbiAgICAgICAgfSksXG4gICAgICAgIG1vdmVUb0NvbGRTdG9yYWdlQWZ0ZXI6IER1cmF0aW9uLmRheXMoMzApLFxuICAgICAgfSksXG4gICAgXSxcbiAgfSk7XG4gIHBsYW4uYWRkUnVsZShCYWNrdXBQbGFuUnVsZS5tb250aGx5NVllYXIob3RoZXJWYXVsdCkpO1xuXG4gIC8vIFRIRU5cbiAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6QmFja3VwOjpCYWNrdXBQbGFuJywge1xuICAgIEJhY2t1cFBsYW46IHtcbiAgICAgIEJhY2t1cFBsYW5OYW1lOiAnUGxhbicsXG4gICAgICBCYWNrdXBQbGFuUnVsZTogW1xuICAgICAgICB7XG4gICAgICAgICAgQ29tcGxldGlvbldpbmRvd01pbnV0ZXM6IDEyMCxcbiAgICAgICAgICBMaWZlY3ljbGU6IHtcbiAgICAgICAgICAgIE1vdmVUb0NvbGRTdG9yYWdlQWZ0ZXJEYXlzOiAzMCxcbiAgICAgICAgICB9LFxuICAgICAgICAgIFJ1bGVOYW1lOiAnUGxhblJ1bGUwJyxcbiAgICAgICAgICBTY2hlZHVsZUV4cHJlc3Npb246ICdjcm9uKDMwIDMgMTUgKiA/ICopJyxcbiAgICAgICAgICBTdGFydFdpbmRvd01pbnV0ZXM6IDYwLFxuICAgICAgICAgIFRhcmdldEJhY2t1cFZhdWx0OiB7XG4gICAgICAgICAgICAnRm46OkdldEF0dCc6IFtcbiAgICAgICAgICAgICAgJ1ZhdWx0MjMyMzdFNUInLFxuICAgICAgICAgICAgICAnQmFja3VwVmF1bHROYW1lJyxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIExpZmVjeWNsZToge1xuICAgICAgICAgICAgRGVsZXRlQWZ0ZXJEYXlzOiAxODI1LFxuICAgICAgICAgICAgTW92ZVRvQ29sZFN0b3JhZ2VBZnRlckRheXM6IDkwLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgUnVsZU5hbWU6ICdNb250aGx5NVllYXInLFxuICAgICAgICAgIFNjaGVkdWxlRXhwcmVzc2lvbjogJ2Nyb24oMCA1IDEgKiA/ICopJyxcbiAgICAgICAgICBUYXJnZXRCYWNrdXBWYXVsdDoge1xuICAgICAgICAgICAgJ0ZuOjpHZXRBdHQnOiBbXG4gICAgICAgICAgICAgICdPdGhlclZhdWx0M0M5OUJDRTInLFxuICAgICAgICAgICAgICAnQmFja3VwVmF1bHROYW1lJyxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfSxcbiAgfSk7XG59KTtcblxudGVzdCgnY3JlYXRlIGEgcGxhbiB3aXRoIGNvbnRpbnVvdXMgYmFja3VwIG9wdGlvbicsICgpID0+IHtcbiAgLy8gR0lWRU5cbiAgY29uc3QgdmF1bHQgPSBuZXcgQmFja3VwVmF1bHQoc3RhY2ssICdWYXVsdCcpO1xuXG4gIC8vIFdIRU5cbiAgbmV3IEJhY2t1cFBsYW4oc3RhY2ssICdQbGFuJywge1xuICAgIGJhY2t1cFZhdWx0OiB2YXVsdCxcbiAgICBiYWNrdXBQbGFuUnVsZXM6IFtcbiAgICAgIG5ldyBCYWNrdXBQbGFuUnVsZSh7XG4gICAgICAgIGVuYWJsZUNvbnRpbnVvdXNCYWNrdXA6IHRydWUsXG4gICAgICB9KSxcbiAgICBdLFxuICB9KTtcblxuICAvLyBUSEVOXG4gIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkJhY2t1cDo6QmFja3VwUGxhbicsIHtcbiAgICBCYWNrdXBQbGFuOiB7XG4gICAgICBCYWNrdXBQbGFuTmFtZTogJ1BsYW4nLFxuICAgICAgQmFja3VwUGxhblJ1bGU6IFtcbiAgICAgICAge1xuICAgICAgICAgIEVuYWJsZUNvbnRpbnVvdXNCYWNrdXA6IHRydWUsXG4gICAgICAgICAgTGlmZWN5Y2xlOiB7XG4gICAgICAgICAgICBEZWxldGVBZnRlckRheXM6IDM1LFxuICAgICAgICAgIH0sXG4gICAgICAgICAgUnVsZU5hbWU6ICdQbGFuUnVsZTAnLFxuICAgICAgICAgIFRhcmdldEJhY2t1cFZhdWx0OiB7XG4gICAgICAgICAgICAnRm46OkdldEF0dCc6IFtcbiAgICAgICAgICAgICAgJ1ZhdWx0MjMyMzdFNUInLFxuICAgICAgICAgICAgICAnQmFja3VwVmF1bHROYW1lJyxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfSxcbiAgfSk7XG59KTtcblxudGVzdCgnY3JlYXRlIGEgcGxhbiB3aXRoIGNvbnRpbnVvdXMgYmFja3VwIG9wdGlvbiBhbmQgc3BlY2lmeSBkZWxldGVBZnRlcicsICgpID0+IHtcbiAgLy8gR0lWRU5cbiAgY29uc3QgdmF1bHQgPSBuZXcgQmFja3VwVmF1bHQoc3RhY2ssICdWYXVsdCcpO1xuXG4gIC8vIFdIRU5cbiAgbmV3IEJhY2t1cFBsYW4oc3RhY2ssICdQbGFuJywge1xuICAgIGJhY2t1cFZhdWx0OiB2YXVsdCxcbiAgICBiYWNrdXBQbGFuUnVsZXM6IFtcbiAgICAgIG5ldyBCYWNrdXBQbGFuUnVsZSh7XG4gICAgICAgIGVuYWJsZUNvbnRpbnVvdXNCYWNrdXA6IHRydWUsXG4gICAgICAgIGRlbGV0ZUFmdGVyOiBEdXJhdGlvbi5kYXlzKDEpLFxuICAgICAgfSksXG4gICAgXSxcbiAgfSk7XG5cbiAgLy8gVEhFTlxuICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpCYWNrdXA6OkJhY2t1cFBsYW4nLCB7XG4gICAgQmFja3VwUGxhbjoge1xuICAgICAgQmFja3VwUGxhbk5hbWU6ICdQbGFuJyxcbiAgICAgIEJhY2t1cFBsYW5SdWxlOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBFbmFibGVDb250aW51b3VzQmFja3VwOiB0cnVlLFxuICAgICAgICAgIExpZmVjeWNsZToge1xuICAgICAgICAgICAgRGVsZXRlQWZ0ZXJEYXlzOiAxLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgUnVsZU5hbWU6ICdQbGFuUnVsZTAnLFxuICAgICAgICAgIFRhcmdldEJhY2t1cFZhdWx0OiB7XG4gICAgICAgICAgICAnRm46OkdldEF0dCc6IFtcbiAgICAgICAgICAgICAgJ1ZhdWx0MjMyMzdFNUInLFxuICAgICAgICAgICAgICAnQmFja3VwVmF1bHROYW1lJyxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfSxcbiAgfSk7XG59KTtcblxudGVzdCgnY3JlYXRlIGEgcGxhbiBhbmQgYWRkIHJ1bGVzIC0gYWRkIEJhY2t1cFBsYW4uQWR2YW5jZWRCYWNrdXBTZXR0aW5ncy5CYWNrdXBPcHRpb25zJywgKCkgPT4ge1xuICBjb25zdCB2YXVsdCA9IG5ldyBCYWNrdXBWYXVsdChzdGFjaywgJ1ZhdWx0Jyk7XG4gIGNvbnN0IG90aGVyVmF1bHQgPSBuZXcgQmFja3VwVmF1bHQoc3RhY2ssICdPdGhlclZhdWx0Jyk7XG5cbiAgLy8gV0hFTlxuICBjb25zdCBwbGFuID0gbmV3IEJhY2t1cFBsYW4oc3RhY2ssICdQbGFuJywge1xuICAgIHdpbmRvd3NWc3M6IHRydWUsXG4gICAgYmFja3VwVmF1bHQ6IHZhdWx0LFxuICAgIGJhY2t1cFBsYW5SdWxlczogW1xuICAgICAgbmV3IEJhY2t1cFBsYW5SdWxlKHtcbiAgICAgICAgY29tcGxldGlvbldpbmRvdzogRHVyYXRpb24uaG91cnMoMiksXG4gICAgICAgIHN0YXJ0V2luZG93OiBEdXJhdGlvbi5ob3VycygxKSxcbiAgICAgICAgc2NoZWR1bGVFeHByZXNzaW9uOiBldmVudHMuU2NoZWR1bGUuY3Jvbih7XG4gICAgICAgICAgZGF5OiAnMTUnLFxuICAgICAgICAgIGhvdXI6ICczJyxcbiAgICAgICAgICBtaW51dGU6ICczMCcsXG4gICAgICAgIH0pLFxuICAgICAgICBtb3ZlVG9Db2xkU3RvcmFnZUFmdGVyOiBEdXJhdGlvbi5kYXlzKDMwKSxcbiAgICAgIH0pLFxuICAgIF0sXG4gIH0pO1xuICBwbGFuLmFkZFJ1bGUoQmFja3VwUGxhblJ1bGUubW9udGhseTVZZWFyKG90aGVyVmF1bHQpKTtcblxuICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpCYWNrdXA6OkJhY2t1cFBsYW4nLCB7XG4gICAgQmFja3VwUGxhbjoge1xuICAgICAgQWR2YW5jZWRCYWNrdXBTZXR0aW5nczogW3sgQmFja3VwT3B0aW9uczogeyBXaW5kb3dzVlNTOiAnZW5hYmxlZCcgfSwgUmVzb3VyY2VUeXBlOiAnRUMyJyB9XSxcbiAgICB9LFxuICB9KTtcbn0pO1xuXG50ZXN0KCdkYWlseTM1RGF5UmV0ZW50aW9uJywgKCkgPT4ge1xuICAvLyBXSEVOXG4gIEJhY2t1cFBsYW4uZGFpbHkzNURheVJldGVudGlvbihzdGFjaywgJ0QzNScpO1xuXG4gIC8vIFRIRU5cbiAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6QmFja3VwOjpCYWNrdXBQbGFuJywge1xuICAgIEJhY2t1cFBsYW46IHtcbiAgICAgIEJhY2t1cFBsYW5OYW1lOiAnRDM1JyxcbiAgICAgIEJhY2t1cFBsYW5SdWxlOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBMaWZlY3ljbGU6IHtcbiAgICAgICAgICAgIERlbGV0ZUFmdGVyRGF5czogMzUsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBSdWxlTmFtZTogJ0RhaWx5JyxcbiAgICAgICAgICBTY2hlZHVsZUV4cHJlc3Npb246ICdjcm9uKDAgNSAqICogPyAqKScsXG4gICAgICAgICAgVGFyZ2V0QmFja3VwVmF1bHQ6IHtcbiAgICAgICAgICAgICdGbjo6R2V0QXR0JzogW1xuICAgICAgICAgICAgICAnRDM1VmF1bHQyQTlFQjA2RicsXG4gICAgICAgICAgICAgICdCYWNrdXBWYXVsdE5hbWUnLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICB9LFxuICB9KTtcbn0pO1xuXG50ZXN0KCdkYWlseVdlZWtseU1vbnRobHk3WWVhclJldGVudGlvbicsICgpID0+IHtcbiAgLy8gV0hFTlxuICBCYWNrdXBQbGFuLmRhaWx5V2Vla2x5TW9udGhseTdZZWFyUmV0ZW50aW9uKHN0YWNrLCAnRFdNNycpO1xuXG4gIC8vIFRIRU5cbiAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6QmFja3VwOjpCYWNrdXBQbGFuJywge1xuICAgIEJhY2t1cFBsYW46IHtcbiAgICAgIEJhY2t1cFBsYW5OYW1lOiAnRFdNNycsXG4gICAgICBCYWNrdXBQbGFuUnVsZTogW1xuICAgICAgICB7XG4gICAgICAgICAgTGlmZWN5Y2xlOiB7XG4gICAgICAgICAgICBEZWxldGVBZnRlckRheXM6IDM1LFxuICAgICAgICAgIH0sXG4gICAgICAgICAgUnVsZU5hbWU6ICdEYWlseScsXG4gICAgICAgICAgU2NoZWR1bGVFeHByZXNzaW9uOiAnY3JvbigwIDUgKiAqID8gKiknLFxuICAgICAgICAgIFRhcmdldEJhY2t1cFZhdWx0OiB7XG4gICAgICAgICAgICAnRm46OkdldEF0dCc6IFtcbiAgICAgICAgICAgICAgJ0RXTTdWYXVsdDIxRjE3RTYxJyxcbiAgICAgICAgICAgICAgJ0JhY2t1cFZhdWx0TmFtZScsXG4gICAgICAgICAgICBdLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBMaWZlY3ljbGU6IHtcbiAgICAgICAgICAgIERlbGV0ZUFmdGVyRGF5czogOTAsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBSdWxlTmFtZTogJ1dlZWtseScsXG4gICAgICAgICAgU2NoZWR1bGVFeHByZXNzaW9uOiAnY3JvbigwIDUgPyAqIFNBVCAqKScsXG4gICAgICAgICAgVGFyZ2V0QmFja3VwVmF1bHQ6IHtcbiAgICAgICAgICAgICdGbjo6R2V0QXR0JzogW1xuICAgICAgICAgICAgICAnRFdNN1ZhdWx0MjFGMTdFNjEnLFxuICAgICAgICAgICAgICAnQmFja3VwVmF1bHROYW1lJyxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIExpZmVjeWNsZToge1xuICAgICAgICAgICAgRGVsZXRlQWZ0ZXJEYXlzOiAyNTU1LFxuICAgICAgICAgICAgTW92ZVRvQ29sZFN0b3JhZ2VBZnRlckRheXM6IDkwLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgUnVsZU5hbWU6ICdNb250aGx5N1llYXInLFxuICAgICAgICAgIFNjaGVkdWxlRXhwcmVzc2lvbjogJ2Nyb24oMCA1IDEgKiA/ICopJyxcbiAgICAgICAgICBUYXJnZXRCYWNrdXBWYXVsdDoge1xuICAgICAgICAgICAgJ0ZuOjpHZXRBdHQnOiBbXG4gICAgICAgICAgICAgICdEV003VmF1bHQyMUYxN0U2MScsXG4gICAgICAgICAgICAgICdCYWNrdXBWYXVsdE5hbWUnLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICB9LFxuICB9KTtcbn0pO1xuXG50ZXN0KCdhdXRvbWF0aWNhbGx5IGNyZWF0ZXMgYSBuZXcgdmF1bHQnLCAoKSA9PiB7XG4gIC8vIEdJVkVOXG4gIGNvbnN0IHBsYW4gPSBuZXcgQmFja3VwUGxhbihzdGFjaywgJ1BsYW4nKTtcblxuICAvLyBXSEVOXG4gIHBsYW4uYWRkUnVsZShCYWNrdXBQbGFuUnVsZS5kYWlseSgpKTtcblxuICAvLyBUSEVOXG4gIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkJhY2t1cDo6QmFja3VwUGxhbicsIHtcbiAgICBCYWNrdXBQbGFuOiB7XG4gICAgICBCYWNrdXBQbGFuTmFtZTogJ1BsYW4nLFxuICAgICAgQmFja3VwUGxhblJ1bGU6IFtcbiAgICAgICAge1xuICAgICAgICAgIExpZmVjeWNsZToge1xuICAgICAgICAgICAgRGVsZXRlQWZ0ZXJEYXlzOiAzNSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIFJ1bGVOYW1lOiAnRGFpbHknLFxuICAgICAgICAgIFNjaGVkdWxlRXhwcmVzc2lvbjogJ2Nyb24oMCA1ICogKiA/ICopJyxcbiAgICAgICAgICBUYXJnZXRCYWNrdXBWYXVsdDoge1xuICAgICAgICAgICAgJ0ZuOjpHZXRBdHQnOiBbXG4gICAgICAgICAgICAgICdQbGFuVmF1bHQwMjg0QjBDMicsXG4gICAgICAgICAgICAgICdCYWNrdXBWYXVsdE5hbWUnLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICB9LFxuICB9KTtcbn0pO1xuXG50ZXN0KCdjcmVhdGUgYSBwbGFuIGFuZCBhZGQgcnVsZSB0byBjb3B5IHRvIGEgZGlmZmVyZW50IHZhdWx0JywgKCkgPT4ge1xuICAvLyBHSVZFTlxuICBjb25zdCBwcmltYXJ5VmF1bHQgPSBuZXcgQmFja3VwVmF1bHQoc3RhY2ssICdQcmltYXJ5VmF1bHQnKTtcbiAgY29uc3Qgc2Vjb25kYXJ5VmF1bHQgPSBuZXcgQmFja3VwVmF1bHQoc3RhY2ssICdTZWNvbmRhcnlWYXVsdCcpO1xuXG4gIC8vIFdIRU5cbiAgbmV3IEJhY2t1cFBsYW4oc3RhY2ssICdQbGFuJywge1xuICAgIGJhY2t1cFZhdWx0OiBwcmltYXJ5VmF1bHQsXG4gICAgYmFja3VwUGxhblJ1bGVzOiBbXG4gICAgICBuZXcgQmFja3VwUGxhblJ1bGUoe1xuICAgICAgICBjb3B5QWN0aW9uczogW3tcbiAgICAgICAgICBkZXN0aW5hdGlvbkJhY2t1cFZhdWx0OiBzZWNvbmRhcnlWYXVsdCxcbiAgICAgICAgICBkZWxldGVBZnRlcjogRHVyYXRpb24uZGF5cygxMjApLFxuICAgICAgICAgIG1vdmVUb0NvbGRTdG9yYWdlQWZ0ZXI6IER1cmF0aW9uLmRheXMoMzApLFxuICAgICAgICB9XSxcbiAgICAgIH0pLFxuICAgIF0sXG4gIH0pO1xuXG4gIC8vIFRIRU5cbiAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6QmFja3VwOjpCYWNrdXBQbGFuJywge1xuICAgIEJhY2t1cFBsYW46IHtcbiAgICAgIEJhY2t1cFBsYW5OYW1lOiAnUGxhbicsXG4gICAgICBCYWNrdXBQbGFuUnVsZTogW1xuICAgICAgICB7XG4gICAgICAgICAgUnVsZU5hbWU6ICdQbGFuUnVsZTAnLFxuICAgICAgICAgIFRhcmdldEJhY2t1cFZhdWx0OiB7XG4gICAgICAgICAgICAnRm46OkdldEF0dCc6IFtcbiAgICAgICAgICAgICAgJ1ByaW1hcnlWYXVsdDlCQkVCQjBEJyxcbiAgICAgICAgICAgICAgJ0JhY2t1cFZhdWx0TmFtZScsXG4gICAgICAgICAgICBdLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgQ29weUFjdGlvbnM6IFt7XG4gICAgICAgICAgICBEZXN0aW5hdGlvbkJhY2t1cFZhdWx0QXJuOiB7XG4gICAgICAgICAgICAgICdGbjo6R2V0QXR0JzogW1xuICAgICAgICAgICAgICAgICdTZWNvbmRhcnlWYXVsdDY3NjY1QjVFJyxcbiAgICAgICAgICAgICAgICAnQmFja3VwVmF1bHRBcm4nLFxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIExpZmVjeWNsZToge1xuICAgICAgICAgICAgICBEZWxldGVBZnRlckRheXM6IDEyMCxcbiAgICAgICAgICAgICAgTW92ZVRvQ29sZFN0b3JhZ2VBZnRlckRheXM6IDMwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9XSxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfSxcbiAgfSk7XG59KTtcblxudGVzdCgndGhyb3dzIHdoZW4gZGVsZXRlQWZ0ZXIgaXMgbm90IGdyZWF0ZXIgdGhhbiBtb3ZlVG9Db2xkU3RvcmFnZUFmdGVyJywgKCkgPT4ge1xuICBleHBlY3QoKCkgPT4gbmV3IEJhY2t1cFBsYW5SdWxlKHtcbiAgICBkZWxldGVBZnRlcjogRHVyYXRpb24uZGF5cyg1KSxcbiAgICBtb3ZlVG9Db2xkU3RvcmFnZUFmdGVyOiBEdXJhdGlvbi5kYXlzKDYpLFxuICB9KSkudG9UaHJvdygvYGRlbGV0ZUFmdGVyYCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiBgbW92ZVRvQ29sZFN0b3JhZ2VBZnRlcmAvKTtcbn0pO1xuXG50ZXN0KCd0aHJvd3Mgd2hlbiBzY2hlZHVsZUV4cHJlc3Npb24gaXMgbm90IG9mIHR5cGUgY3JvbicsICgpID0+IHtcbiAgZXhwZWN0KCgpID0+IG5ldyBCYWNrdXBQbGFuUnVsZSh7XG4gICAgc2NoZWR1bGVFeHByZXNzaW9uOiBldmVudHMuU2NoZWR1bGUucmF0ZShEdXJhdGlvbi5ob3Vycyg1KSksXG4gIH0pKS50b1Rocm93KC9gc2NoZWR1bGVFeHByZXNzaW9uYCBtdXN0IGJlIG9mIHR5cGUgYGNyb25gLyk7XG59KTtcblxudGVzdCgnc3ludGggZmFpbHMgd2hlbiBwbGFuIGhhcyBubyBydWxlcycsICgpID0+IHtcbiAgLy8gR0lWRU5cbiAgY29uc3QgYXBwID0gbmV3IEFwcCgpO1xuICBjb25zdCBteVN0YWNrID0gbmV3IFN0YWNrKGFwcCwgJ1N0YWNrJyk7XG5cbiAgLy8gV0hFTlxuICBuZXcgQmFja3VwUGxhbihteVN0YWNrLCAnUGxhbicpO1xuXG4gIGV4cGVjdCgoKSA9PiBhcHAuc3ludGgoKSkudG9UaHJvdygvQSBiYWNrdXAgcGxhbiBtdXN0IGhhdmUgYXQgbGVhc3QgMSBydWxlLyk7XG59KTtcblxudGVzdCgndGhyb3dzIHdoZW4gbW92ZVRvQ29sZFN0b3JhZ2VBZnRlciBpcyB1c2VkIHdpdGggZW5hYmxlQ29udGludW91c0JhY2t1cCcsICgpID0+IHtcbiAgZXhwZWN0KCgpID0+IG5ldyBCYWNrdXBQbGFuUnVsZSh7XG4gICAgZW5hYmxlQ29udGludW91c0JhY2t1cDogdHJ1ZSxcbiAgICBkZWxldGVBZnRlcjogRHVyYXRpb24uZGF5cygzMCksXG4gICAgbW92ZVRvQ29sZFN0b3JhZ2VBZnRlcjogRHVyYXRpb24uZGF5cygxMCksXG4gIH0pKS50b1Rocm93KC9gbW92ZVRvQ29sZFN0b3JhZ2VBZnRlcmAgbXVzdCBub3QgYmUgc3BlY2lmaWVkIGlmIGBlbmFibGVDb250aW51b3VzQmFja3VwYCBpcyBlbmFibGVkLyk7XG59KTtcblxudGVzdCgndGhyb3dzIHdoZW4gZGVsZXRlQWZ0ZXIgaXMgbGVzcyB0aGFuIDEgaW4gY29tYmluYXRpb24gd2l0aCBlbmFibGVDb250aW51b3VzQmFja3VwJywgKCkgPT4ge1xuICBleHBlY3QoKCkgPT4gbmV3IEJhY2t1cFBsYW5SdWxlKHtcbiAgICBlbmFibGVDb250aW51b3VzQmFja3VwOiB0cnVlLFxuICAgIGRlbGV0ZUFmdGVyOiBEdXJhdGlvbi5kYXlzKDApLFxuICB9KSkudG9UaHJvdygvJ2RlbGV0ZUFmdGVyJyBtdXN0IGJlIGJldHdlZW4gMSBhbmQgMzUgZGF5cyBpZiAnZW5hYmxlQ29udGludW91c0JhY2t1cCcgaXMgZW5hYmxlZCwgYnV0IGdvdCAwIGRheXMvKTtcbn0pO1xuXG50ZXN0KCd0aHJvd3Mgd2hlbiBkZWxldGVBZnRlciBpcyBncmVhdGVyIHRoYW4gMzUgaW4gY29tYmluYXRpb24gd2l0aCBlbmFibGVDb250aW51b3VzQmFja3VwJywgKCkgPT4ge1xuICBleHBlY3QoKCkgPT4gbmV3IEJhY2t1cFBsYW5SdWxlKHtcbiAgICBlbmFibGVDb250aW51b3VzQmFja3VwOiB0cnVlLFxuICAgIGRlbGV0ZUFmdGVyOiBEdXJhdGlvbi5kYXlzKDM2KSxcbiAgfSkpLnRvVGhyb3coLydkZWxldGVBZnRlcicgbXVzdCBiZSBiZXR3ZWVuIDEgYW5kIDM1IGRheXMgaWYgJ2VuYWJsZUNvbnRpbnVvdXNCYWNrdXAnIGlzIGVuYWJsZWQsIGJ1dCBnb3QgMzYgZGF5cy8pO1xufSk7XG5cbnRlc3QoJ3Rocm93cyB3aGVuIGRlbGV0ZUFmdGVyIGlzIG5vdCBncmVhdGVyIHRoYW4gbW92ZVRvQ29sZFN0b3JhZ2VBZnRlciBpbiBhIGNvcHkgYWN0aW9uJywgKCkgPT4ge1xuICBleHBlY3QoKCkgPT4gbmV3IEJhY2t1cFBsYW5SdWxlKHtcbiAgICBjb3B5QWN0aW9uczogW3tcbiAgICAgIGRlc3RpbmF0aW9uQmFja3VwVmF1bHQ6IG5ldyBCYWNrdXBWYXVsdChzdGFjaywgJ1ZhdWx0JyksXG4gICAgICBkZWxldGVBZnRlcjogRHVyYXRpb24uZGF5cyg1KSxcbiAgICAgIG1vdmVUb0NvbGRTdG9yYWdlQWZ0ZXI6IER1cmF0aW9uLmRheXMoNiksXG4gICAgfV0sXG4gIH0pKS50b1Rocm93KC9kZWxldGVBZnRlcicgbXVzdCBhdCBsZWFzdCA5MCBkYXlzIGxhdGVyIHRoYW4gY29ycmVzcG9uZGluZyAnbW92ZVRvQ29sZFN0b3JhZ2VBZnRlcidcXG5yZWNlaXZlZCAnZGVsZXRlQWZ0ZXI6IDUnIGFuZCAnbW92ZVRvQ29sZFN0b3JhZ2VBZnRlcjogNicvKTtcbn0pO1xuXG50ZXN0KCd0aHJvd3Mgd2hlbiBkZWxldGVBZnRlciBpcyBub3QgZ3JlYXRlciB0aGFuIDkwIGRheXMgcGFzdCBtb3ZlVG9Db2xkU3RvcmFnZUFmdGVyIHBhcmFtZXRlciBpbiBhIGNvcHkgYWN0aW9uJywgKCkgPT4ge1xuICBleHBlY3QoKCkgPT4gbmV3IEJhY2t1cFBsYW5SdWxlKHtcbiAgICBjb3B5QWN0aW9uczogW3tcbiAgICAgIGRlc3RpbmF0aW9uQmFja3VwVmF1bHQ6IG5ldyBCYWNrdXBWYXVsdChzdGFjaywgJ1ZhdWx0JyksXG4gICAgICBkZWxldGVBZnRlcjogRHVyYXRpb24uZGF5cyg0NSksXG4gICAgICBtb3ZlVG9Db2xkU3RvcmFnZUFmdGVyOiBEdXJhdGlvbi5kYXlzKDMwKSxcbiAgICB9XSxcbiAgfSkpLnRvVGhyb3coLydkZWxldGVBZnRlcicgbXVzdCBhdCBsZWFzdCA5MCBkYXlzIGxhdGVyIHRoYW4gY29ycmVzcG9uZGluZyAnbW92ZVRvQ29sZFN0b3JhZ2VBZnRlcidcXG5yZWNlaXZlZCAnZGVsZXRlQWZ0ZXI6IDQ1JyBhbmQgJ21vdmVUb0NvbGRTdG9yYWdlQWZ0ZXI6IDMwJy8pO1xufSk7XG4iXX0=