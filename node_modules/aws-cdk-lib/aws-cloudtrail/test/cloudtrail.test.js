"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const assertions_1 = require("../../assertions");
const iam = require("../../aws-iam");
const kms = require("../../aws-kms");
const lambda = require("../../aws-lambda");
const aws_logs_1 = require("../../aws-logs");
const s3 = require("../../aws-s3");
const sns = require("../../aws-sns");
const cdk_build_tools_1 = require("@aws-cdk/cdk-build-tools");
const core_1 = require("../../core");
const lib_1 = require("../lib");
const ExpectedBucketPolicyProperties = {
    PolicyDocument: {
        Statement: [
            {
                Action: 's3:*',
                Condition: {
                    Bool: { 'aws:SecureTransport': 'false' },
                },
                Effect: 'Deny',
                Principal: {
                    AWS: '*',
                },
                Resource: [
                    {
                        'Fn::GetAtt': [
                            'MyAmazingCloudTrailS3A580FE27',
                            'Arn',
                        ],
                    },
                    {
                        'Fn::Join': [
                            '',
                            [{
                                    'Fn::GetAtt': [
                                        'MyAmazingCloudTrailS3A580FE27',
                                        'Arn',
                                    ],
                                },
                                '/*'],
                        ],
                    },
                ],
            },
            {
                Action: 's3:GetBucketAcl',
                Effect: 'Allow',
                Principal: {
                    Service: 'cloudtrail.amazonaws.com',
                },
                Resource: {
                    'Fn::GetAtt': [
                        'MyAmazingCloudTrailS3A580FE27',
                        'Arn',
                    ],
                },
            },
            {
                Action: 's3:PutObject',
                Condition: {
                    StringEquals: {
                        's3:x-amz-acl': 'bucket-owner-full-control',
                    },
                },
                Effect: 'Allow',
                Principal: {
                    Service: 'cloudtrail.amazonaws.com',
                },
                Resource: {
                    'Fn::Join': [
                        '',
                        [
                            {
                                'Fn::GetAtt': [
                                    'MyAmazingCloudTrailS3A580FE27',
                                    'Arn',
                                ],
                            },
                            '/AWSLogs/123456789012/*',
                        ],
                    ],
                },
            },
        ],
        Version: '2012-10-17',
    },
};
const logsRolePolicyName = 'MyAmazingCloudTrailLogsRoleDefaultPolicy61DC49E7';
const logsRoleName = 'MyAmazingCloudTrailLogsRoleF2CCF977';
function getTestStack() {
    return new core_1.Stack(undefined, 'TestStack', { env: { account: '123456789012', region: 'us-east-1' } });
}
describe('cloudtrail', () => {
    describe('constructs the expected resources', () => {
        test('with no properties', () => {
            const stack = getTestStack();
            new lib_1.Trail(stack, 'MyAmazingCloudTrail');
            assertions_1.Template.fromStack(stack).resourceCountIs('AWS::CloudTrail::Trail', 1);
            assertions_1.Template.fromStack(stack).resourceCountIs('AWS::S3::Bucket', 1);
            assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::S3::BucketPolicy', ExpectedBucketPolicyProperties);
            assertions_1.Template.fromStack(stack).resourceCountIs('AWS::Logs::LogGroup', 0);
            const trail = assertions_1.Template.fromStack(stack).toJSON().Resources.MyAmazingCloudTrail54516E8D;
            expect(trail.DependsOn).toEqual(['MyAmazingCloudTrailS3Policy39C120B0']);
        });
        test('with s3bucket', () => {
            const stack = getTestStack();
            const Trailbucket = new s3.Bucket(stack, 'S3');
            const cloudTrailPrincipal = new iam.ServicePrincipal('cloudtrail.amazonaws.com');
            Trailbucket.addToResourcePolicy(new iam.PolicyStatement({
                resources: [Trailbucket.bucketArn],
                actions: ['s3:GetBucketAcl'],
                principals: [cloudTrailPrincipal],
            }));
            Trailbucket.addToResourcePolicy(new iam.PolicyStatement({
                resources: [Trailbucket.arnForObjects(`AWSLogs/${core_1.Stack.of(stack).account}/*`)],
                actions: ['s3:PutObject'],
                principals: [cloudTrailPrincipal],
                conditions: {
                    StringEquals: { 's3:x-amz-acl': 'bucket-owner-full-control' },
                },
            }));
            new lib_1.Trail(stack, 'Trail', { bucket: Trailbucket });
            assertions_1.Template.fromStack(stack).resourceCountIs('AWS::CloudTrail::Trail', 1);
            assertions_1.Template.fromStack(stack).resourceCountIs('AWS::S3::Bucket', 1);
            assertions_1.Template.fromStack(stack).resourceCountIs('AWS::S3::BucketPolicy', 1);
            assertions_1.Template.fromStack(stack).resourceCountIs('AWS::Logs::LogGroup', 0);
        });
        test('with sns topic', () => {
            const stack = getTestStack();
            const topic = new sns.Topic(stack, 'Topic');
            new lib_1.Trail(stack, 'Trail', { snsTopic: topic });
            assertions_1.Template.fromStack(stack).resourceCountIs('AWS::CloudTrail::Trail', 1);
            assertions_1.Template.fromStack(stack).resourceCountIs('AWS::Logs::LogGroup', 0);
            assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::SNS::TopicPolicy', {
                PolicyDocument: {
                    Statement: [
                        {
                            Action: 'sns:Publish',
                            Effect: 'Allow',
                            Principal: { Service: 'cloudtrail.amazonaws.com' },
                            Resource: { Ref: 'TopicBFC7AF6E' },
                            Sid: '0',
                        },
                    ],
                    Version: '2012-10-17',
                },
            });
        });
        test('with imported s3 bucket', () => {
            // GIVEN
            const stack = getTestStack();
            const bucket = s3.Bucket.fromBucketName(stack, 'S3', 'somebucket');
            // WHEN
            new lib_1.Trail(stack, 'Trail', { bucket });
            assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::CloudTrail::Trail', {
                S3BucketName: 'somebucket',
            });
        });
        test('with s3KeyPrefix', () => {
            // GIVEN
            const stack = getTestStack();
            // WHEN
            new lib_1.Trail(stack, 'Trail', { s3KeyPrefix: 'someprefix' });
            assertions_1.Template.fromStack(stack).resourceCountIs('AWS::CloudTrail::Trail', 1);
            assertions_1.Template.fromStack(stack).resourceCountIs('AWS::S3::Bucket', 1);
            assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::S3::BucketPolicy', {
                Bucket: { Ref: 'TrailS30071F172' },
                PolicyDocument: {
                    Statement: [
                        {
                            Action: 's3:*',
                            Condition: {
                                Bool: {
                                    'aws:SecureTransport': 'false',
                                },
                            },
                            Effect: 'Deny',
                            Principal: {
                                AWS: '*',
                            },
                            Resource: [
                                {
                                    'Fn::GetAtt': [
                                        'TrailS30071F172',
                                        'Arn',
                                    ],
                                },
                                {
                                    'Fn::Join': [
                                        '',
                                        [
                                            {
                                                'Fn::GetAtt': [
                                                    'TrailS30071F172',
                                                    'Arn',
                                                ],
                                            },
                                            '/*',
                                        ],
                                    ],
                                },
                            ],
                        },
                        {
                            Action: 's3:GetBucketAcl',
                            Effect: 'Allow',
                            Principal: { Service: 'cloudtrail.amazonaws.com' },
                            Resource: { 'Fn::GetAtt': ['TrailS30071F172', 'Arn'] },
                        },
                        {
                            Action: 's3:PutObject',
                            Condition: {
                                StringEquals: { 's3:x-amz-acl': 'bucket-owner-full-control' },
                            },
                            Effect: 'Allow',
                            Principal: { Service: 'cloudtrail.amazonaws.com' },
                            Resource: {
                                'Fn::Join': [
                                    '',
                                    [
                                        { 'Fn::GetAtt': ['TrailS30071F172', 'Arn'] },
                                        '/someprefix/AWSLogs/123456789012/*',
                                    ],
                                ],
                            },
                        },
                    ],
                    Version: '2012-10-17',
                },
            });
        });
        test('encryption keys', () => {
            const stack = new core_1.Stack();
            const key = new kms.Key(stack, 'key');
            new lib_1.Trail(stack, 'EncryptionKeyTrail', {
                trailName: 'EncryptionKeyTrail',
                encryptionKey: key,
            });
            new lib_1.Trail(stack, 'KmsKeyTrail', {
                trailName: 'KmsKeyTrail',
                encryptionKey: key,
            });
            new lib_1.Trail(stack, 'UnencryptedTrail', {
                trailName: 'UnencryptedTrail',
            });
            assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::CloudTrail::Trail', {
                TrailName: 'EncryptionKeyTrail',
                KMSKeyId: {
                    'Fn::GetAtt': ['keyFEDD6EC0', 'Arn'],
                },
            });
            assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::CloudTrail::Trail', {
                TrailName: 'KmsKeyTrail',
                KMSKeyId: {
                    'Fn::GetAtt': ['keyFEDD6EC0', 'Arn'],
                },
            });
            assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::CloudTrail::Trail', {
                TrailName: 'UnencryptedTrail',
                KMSKeyId: assertions_1.Match.absent(),
            });
        });
        (0, cdk_build_tools_1.testDeprecated)('Both kmsKey and encryptionKey must not be specified', () => {
            const stack = new core_1.Stack();
            const key = new kms.Key(stack, 'key');
            expect(() => new lib_1.Trail(stack, 'ErrorTrail', {
                trailName: 'ErrorTrail',
                encryptionKey: key,
                kmsKey: key,
            })).toThrow(/Both kmsKey and encryptionKey must not be specified/);
        });
        describe('with cloud watch logs', () => {
            test('enabled', () => {
                const stack = getTestStack();
                new lib_1.Trail(stack, 'MyAmazingCloudTrail', {
                    sendToCloudWatchLogs: true,
                });
                assertions_1.Template.fromStack(stack).resourceCountIs('AWS::CloudTrail::Trail', 1);
                assertions_1.Template.fromStack(stack).resourceCountIs('AWS::S3::Bucket', 1);
                assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::S3::BucketPolicy', ExpectedBucketPolicyProperties);
                assertions_1.Template.fromStack(stack).resourceCountIs('AWS::Logs::LogGroup', 1);
                assertions_1.Template.fromStack(stack).resourceCountIs('AWS::IAM::Role', 1);
                assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::Logs::LogGroup', { RetentionInDays: 365 });
                assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::IAM::Policy', {
                    PolicyDocument: {
                        Version: '2012-10-17',
                        Statement: [{
                                Effect: 'Allow',
                                Action: ['logs:PutLogEvents', 'logs:CreateLogStream'],
                                Resource: {
                                    'Fn::GetAtt': ['MyAmazingCloudTrailLogGroup2BE67F87', 'Arn'],
                                },
                            }],
                    },
                    PolicyName: logsRolePolicyName,
                    Roles: [{ Ref: 'MyAmazingCloudTrailLogsRoleF2CCF977' }],
                });
                const trail = assertions_1.Template.fromStack(stack).toJSON().Resources.MyAmazingCloudTrail54516E8D;
                expect(trail.DependsOn).toEqual([logsRolePolicyName, logsRoleName, 'MyAmazingCloudTrailS3Policy39C120B0']);
            });
            test('enabled and custom retention', () => {
                const stack = getTestStack();
                new lib_1.Trail(stack, 'MyAmazingCloudTrail', {
                    sendToCloudWatchLogs: true,
                    cloudWatchLogsRetention: aws_logs_1.RetentionDays.ONE_WEEK,
                });
                assertions_1.Template.fromStack(stack).resourceCountIs('AWS::CloudTrail::Trail', 1);
                assertions_1.Template.fromStack(stack).resourceCountIs('AWS::S3::Bucket', 1);
                assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::S3::BucketPolicy', ExpectedBucketPolicyProperties);
                assertions_1.Template.fromStack(stack).resourceCountIs('AWS::Logs::LogGroup', 1);
                assertions_1.Template.fromStack(stack).resourceCountIs('AWS::IAM::Role', 1);
                assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::Logs::LogGroup', {
                    RetentionInDays: 7,
                });
                const trail = assertions_1.Template.fromStack(stack).toJSON().Resources.MyAmazingCloudTrail54516E8D;
                expect(trail.DependsOn).toEqual([logsRolePolicyName, logsRoleName, 'MyAmazingCloudTrailS3Policy39C120B0']);
            });
            test('enabled and with custom log group', () => {
                const stack = getTestStack();
                const cloudWatchLogGroup = new aws_logs_1.LogGroup(stack, 'MyLogGroup', {
                    retention: aws_logs_1.RetentionDays.FIVE_DAYS,
                });
                new lib_1.Trail(stack, 'MyAmazingCloudTrail', {
                    sendToCloudWatchLogs: true,
                    cloudWatchLogsRetention: aws_logs_1.RetentionDays.ONE_WEEK,
                    cloudWatchLogGroup,
                });
                assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::Logs::LogGroup', {
                    RetentionInDays: 5,
                });
                assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::CloudTrail::Trail', {
                    CloudWatchLogsLogGroupArn: stack.resolve(cloudWatchLogGroup.logGroupArn),
                });
                assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::IAM::Policy', {
                    PolicyDocument: {
                        Statement: [assertions_1.Match.objectLike({
                                Resource: stack.resolve(cloudWatchLogGroup.logGroupArn),
                            })],
                    },
                });
            });
            test('disabled', () => {
                const stack = getTestStack();
                const t = new lib_1.Trail(stack, 'MyAmazingCloudTrail', {
                    sendToCloudWatchLogs: false,
                    cloudWatchLogsRetention: aws_logs_1.RetentionDays.ONE_WEEK,
                });
                expect(t.logGroup).toBeUndefined();
                assertions_1.Template.fromStack(stack).resourceCountIs('AWS::Logs::LogGroup', 0);
            });
        });
        describe('with event selectors', () => {
            test('all s3 events', () => {
                const stack = getTestStack();
                const cloudTrail = new lib_1.Trail(stack, 'MyAmazingCloudTrail');
                cloudTrail.logAllS3DataEvents();
                assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::CloudTrail::Trail', {
                    EventSelectors: [
                        {
                            DataResources: [{
                                    Type: 'AWS::S3::Object',
                                    Values: [
                                        {
                                            'Fn::Join': [
                                                '',
                                                [
                                                    'arn:',
                                                    {
                                                        Ref: 'AWS::Partition',
                                                    },
                                                    ':s3:::',
                                                ],
                                            ],
                                        },
                                    ],
                                }],
                            IncludeManagementEvents: assertions_1.Match.absent(),
                            ReadWriteType: assertions_1.Match.absent(),
                        },
                    ],
                });
            });
            test('specific s3 buckets and objects', () => {
                const stack = getTestStack();
                const bucket = new s3.Bucket(stack, 'testBucket', { bucketName: 'test-bucket' });
                const cloudTrail = new lib_1.Trail(stack, 'MyAmazingCloudTrail');
                cloudTrail.addS3EventSelector([{ bucket }]);
                cloudTrail.addS3EventSelector([{
                        bucket,
                        objectPrefix: 'prefix-1/prefix-2',
                    }]);
                assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::CloudTrail::Trail', {
                    EventSelectors: [
                        {
                            DataResources: [{
                                    Type: 'AWS::S3::Object',
                                    Values: [{
                                            'Fn::Join': [
                                                '',
                                                [
                                                    { 'Fn::GetAtt': ['testBucketDF4D7D1A', 'Arn'] },
                                                    '/',
                                                ],
                                            ],
                                        }],
                                }],
                        },
                        {
                            DataResources: [{
                                    Type: 'AWS::S3::Object',
                                    Values: [{
                                            'Fn::Join': [
                                                '',
                                                [
                                                    { 'Fn::GetAtt': ['testBucketDF4D7D1A', 'Arn'] },
                                                    '/prefix-1/prefix-2',
                                                ],
                                            ],
                                        }],
                                }],
                        },
                    ],
                });
            });
            test('no s3 event selector when list is empty', () => {
                const stack = getTestStack();
                const cloudTrail = new lib_1.Trail(stack, 'MyAmazingCloudTrail');
                cloudTrail.addS3EventSelector([]);
                assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::CloudTrail::Trail', {
                    EventSelectors: [],
                });
            });
            test('with hand-specified props', () => {
                const stack = getTestStack();
                const cloudTrail = new lib_1.Trail(stack, 'MyAmazingCloudTrail');
                cloudTrail.logAllS3DataEvents({ includeManagementEvents: false, readWriteType: lib_1.ReadWriteType.READ_ONLY });
                assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::CloudTrail::Trail', {
                    EventSelectors: [
                        {
                            DataResources: [{
                                    Type: 'AWS::S3::Object',
                                    Values: [
                                        {
                                            'Fn::Join': [
                                                '',
                                                [
                                                    'arn:',
                                                    {
                                                        Ref: 'AWS::Partition',
                                                    },
                                                    ':s3:::',
                                                ],
                                            ],
                                        },
                                    ],
                                }],
                            IncludeManagementEvents: false,
                            ReadWriteType: 'ReadOnly',
                        },
                    ],
                });
            });
            test('with management event', () => {
                const stack = getTestStack();
                new lib_1.Trail(stack, 'MyAmazingCloudTrail', { managementEvents: lib_1.ReadWriteType.WRITE_ONLY });
                assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::CloudTrail::Trail', {
                    EventSelectors: [
                        {
                            IncludeManagementEvents: true,
                            ReadWriteType: 'WriteOnly',
                        },
                    ],
                });
            });
            test('exclude management events', () => {
                const stack = getTestStack();
                const bucket = new s3.Bucket(stack, 'testBucket', { bucketName: 'test-bucket' });
                const cloudTrail = new lib_1.Trail(stack, 'MyAmazingCloudTrail');
                cloudTrail.addS3EventSelector([{ bucket }], {
                    excludeManagementEventSources: [
                        lib_1.ManagementEventSources.KMS,
                        lib_1.ManagementEventSources.RDS_DATA_API,
                    ],
                });
                cloudTrail.addS3EventSelector([{ bucket }], {
                    excludeManagementEventSources: [],
                });
                assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::CloudTrail::Trail', {
                    EventSelectors: [
                        {
                            DataResources: [{
                                    Type: 'AWS::S3::Object',
                                    Values: [{
                                            'Fn::Join': [
                                                '',
                                                [
                                                    { 'Fn::GetAtt': ['testBucketDF4D7D1A', 'Arn'] },
                                                    '/',
                                                ],
                                            ],
                                        }],
                                }],
                            ExcludeManagementEventSources: [
                                'kms.amazonaws.com',
                                'rdsdata.amazonaws.com',
                            ],
                        },
                        {
                            DataResources: [{
                                    Type: 'AWS::S3::Object',
                                    Values: [{
                                            'Fn::Join': [
                                                '',
                                                [
                                                    { 'Fn::GetAtt': ['testBucketDF4D7D1A', 'Arn'] },
                                                    '/',
                                                ],
                                            ],
                                        }],
                                }],
                            ExcludeManagementEventSources: [],
                        },
                    ],
                });
            });
            test('for Lambda function data event', () => {
                const stack = getTestStack();
                const lambdaFunction = new lambda.Function(stack, 'LambdaFunction', {
                    runtime: lambda.Runtime.NODEJS_14_X,
                    handler: 'hello.handler',
                    code: lambda.Code.fromInline('exports.handler = {}'),
                });
                const cloudTrail = new lib_1.Trail(stack, 'MyAmazingCloudTrail');
                cloudTrail.addLambdaEventSelector([lambdaFunction]);
                assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::CloudTrail::Trail', {
                    EventSelectors: [
                        {
                            DataResources: [{
                                    Type: 'AWS::Lambda::Function',
                                    Values: [{
                                            'Fn::GetAtt': ['LambdaFunctionBF21E41F', 'Arn'],
                                        }],
                                }],
                        },
                    ],
                });
            });
            test('for all Lambda function data events', () => {
                const stack = getTestStack();
                const cloudTrail = new lib_1.Trail(stack, 'MyAmazingCloudTrail');
                cloudTrail.logAllLambdaDataEvents();
                assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::CloudTrail::Trail', {
                    EventSelectors: [
                        {
                            DataResources: [{
                                    Type: 'AWS::Lambda::Function',
                                    Values: [
                                        {
                                            'Fn::Join': [
                                                '',
                                                [
                                                    'arn:',
                                                    {
                                                        Ref: 'AWS::Partition',
                                                    },
                                                    ':lambda',
                                                ],
                                            ],
                                        },
                                    ],
                                }],
                        },
                    ],
                });
            });
            test('not provided and managementEvents set to None throws missing event selectors error', () => {
                const stack = getTestStack();
                new lib_1.Trail(stack, 'MyAmazingCloudTrail', {
                    managementEvents: lib_1.ReadWriteType.NONE,
                });
                expect(() => {
                    assertions_1.Template.fromStack(stack);
                }).toThrowError(/At least one event selector must be added when management event recording is set to None/);
            });
            test('defaults to not include management events when managementEvents set to None', () => {
                const stack = getTestStack();
                const cloudTrail = new lib_1.Trail(stack, 'MyAmazingCloudTrail', {
                    managementEvents: lib_1.ReadWriteType.NONE,
                });
                const bucket = new s3.Bucket(stack, 'testBucket', { bucketName: 'test-bucket' });
                cloudTrail.addS3EventSelector([{ bucket }]);
                assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::CloudTrail::Trail', {
                    EventSelectors: [{
                            DataResources: [{
                                    Type: 'AWS::S3::Object',
                                    Values: [{
                                            'Fn::Join': [
                                                '',
                                                [
                                                    { 'Fn::GetAtt': ['testBucketDF4D7D1A', 'Arn'] },
                                                    '/',
                                                ],
                                            ],
                                        }],
                                }],
                            IncludeManagementEvents: false,
                        }],
                });
            });
            test('includeManagementEvents can be overridden when managementEvents set to None', () => {
                const stack = getTestStack();
                const cloudTrail = new lib_1.Trail(stack, 'MyAmazingCloudTrail', {
                    managementEvents: lib_1.ReadWriteType.NONE,
                });
                const bucket = new s3.Bucket(stack, 'testBucket', { bucketName: 'test-bucket' });
                cloudTrail.addS3EventSelector([{ bucket }], {
                    includeManagementEvents: true,
                    readWriteType: lib_1.ReadWriteType.WRITE_ONLY,
                });
                assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::CloudTrail::Trail', {
                    EventSelectors: [{
                            DataResources: [{
                                    Type: 'AWS::S3::Object',
                                    Values: [{
                                            'Fn::Join': [
                                                '',
                                                [
                                                    { 'Fn::GetAtt': ['testBucketDF4D7D1A', 'Arn'] },
                                                    '/',
                                                ],
                                            ],
                                        }],
                                }],
                            IncludeManagementEvents: true,
                            ReadWriteType: 'WriteOnly',
                        }],
                });
            });
            test('isOrganizationTrail is passed correctly', () => {
                const stack = getTestStack();
                new lib_1.Trail(stack, 'OrganizationTrail', {
                    isOrganizationTrail: true,
                });
                assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::CloudTrail::Trail', {
                    IsOrganizationTrail: true,
                });
            });
            test('isOrganizationTrail defaults to not defined', () => {
                const stack = getTestStack();
                new lib_1.Trail(stack, 'OrganizationTrail');
                assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::CloudTrail::Trail', assertions_1.Match.objectEquals({
                    IsLogging: true,
                    S3BucketName: assertions_1.Match.anyValue(),
                    EnableLogFileValidation: true,
                    EventSelectors: [],
                    IncludeGlobalServiceEvents: true,
                    IsMultiRegionTrail: true,
                }));
            });
        });
    });
    describe('onEvent', () => {
        test('add an event rule', () => {
            // GIVEN
            const stack = getTestStack();
            // WHEN
            lib_1.Trail.onEvent(stack, 'DoEvents', {
                target: {
                    bind: () => ({
                        id: '',
                        arn: 'arn',
                    }),
                },
            });
            // THEN
            assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::Events::Rule', {
                EventPattern: {
                    'detail-type': [
                        'AWS API Call via CloudTrail',
                    ],
                },
                State: 'ENABLED',
                Targets: [
                    {
                        Arn: 'arn',
                        Id: 'Target0',
                    },
                ],
            });
        });
    });
    describe('insights ', () => {
        test('no properties', () => {
            const stack = getTestStack();
            new lib_1.Trail(stack, 'MyAmazingCloudTrail', {
                insightTypes: [],
            });
            assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::CloudTrail::Trail', {
                InsightSelectors: [],
            });
        });
        test('API Call Rate properties', () => {
            const stack = getTestStack();
            new lib_1.Trail(stack, 'MyAmazingCloudTrail', {
                insightTypes: [
                    lib_1.InsightType.API_CALL_RATE,
                ],
            });
            assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::CloudTrail::Trail', {
                InsightSelectors: [{
                        InsightType: 'ApiCallRateInsight',
                    }],
            });
        });
        test('API Error Rate properties', () => {
            const stack = getTestStack();
            new lib_1.Trail(stack, 'MyAmazingCloudTrail', {
                insightTypes: [
                    lib_1.InsightType.API_ERROR_RATE,
                ],
            });
            assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::CloudTrail::Trail', {
                InsightSelectors: [{
                        InsightType: 'ApiErrorRateInsight',
                    }],
            });
        });
        test('duplicate properties', () => {
            const stack = getTestStack();
            new lib_1.Trail(stack, 'MyAmazingCloudTrail', {
                insightTypes: [
                    lib_1.InsightType.API_CALL_RATE,
                    lib_1.InsightType.API_CALL_RATE,
                ],
            });
            assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::CloudTrail::Trail', {
                InsightSelectors: [
                    {
                        InsightType: 'ApiCallRateInsight',
                    },
                    {
                        InsightType: 'ApiCallRateInsight',
                    },
                ],
            });
        });
        test('ALL properties', () => {
            const stack = getTestStack();
            new lib_1.Trail(stack, 'MyAmazingCloudTrail', {
                insightTypes: [
                    lib_1.InsightType.API_CALL_RATE,
                    lib_1.InsightType.API_ERROR_RATE,
                ],
            });
            assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::CloudTrail::Trail', {
                InsightSelectors: [
                    {
                        InsightType: 'ApiCallRateInsight',
                    },
                    {
                        InsightType: 'ApiErrorRateInsight',
                    },
                ],
            });
        });
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2xvdWR0cmFpbC50ZXN0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiY2xvdWR0cmFpbC50ZXN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsaURBQW1EO0FBQ25ELHFDQUFxQztBQUNyQyxxQ0FBcUM7QUFDckMsMkNBQTJDO0FBQzNDLDZDQUF5RDtBQUN6RCxtQ0FBbUM7QUFDbkMscUNBQXFDO0FBQ3JDLDhEQUEwRDtBQUMxRCxxQ0FBbUM7QUFDbkMsZ0NBQW1GO0FBRW5GLE1BQU0sOEJBQThCLEdBQUc7SUFDckMsY0FBYyxFQUFFO1FBQ2QsU0FBUyxFQUFFO1lBQ1Q7Z0JBQ0UsTUFBTSxFQUFFLE1BQU07Z0JBQ2QsU0FBUyxFQUFFO29CQUNULElBQUksRUFBRSxFQUFFLHFCQUFxQixFQUFFLE9BQU8sRUFBRTtpQkFDekM7Z0JBQ0QsTUFBTSxFQUFFLE1BQU07Z0JBQ2QsU0FBUyxFQUFFO29CQUNULEdBQUcsRUFBRSxHQUFHO2lCQUNUO2dCQUNELFFBQVEsRUFBRTtvQkFDUjt3QkFDRSxZQUFZLEVBQUU7NEJBQ1osK0JBQStCOzRCQUMvQixLQUFLO3lCQUNOO3FCQUNGO29CQUNEO3dCQUNFLFVBQVUsRUFBRTs0QkFDVixFQUFFOzRCQUNGLENBQUM7b0NBQ0MsWUFBWSxFQUFFO3dDQUNaLCtCQUErQjt3Q0FDL0IsS0FBSztxQ0FDTjtpQ0FDRjtnQ0FDRCxJQUFJLENBQUM7eUJBQ047cUJBQ0Y7aUJBQ0Y7YUFDRjtZQUNEO2dCQUNFLE1BQU0sRUFBRSxpQkFBaUI7Z0JBQ3pCLE1BQU0sRUFBRSxPQUFPO2dCQUNmLFNBQVMsRUFBRTtvQkFDVCxPQUFPLEVBQUUsMEJBQTBCO2lCQUNwQztnQkFDRCxRQUFRLEVBQUU7b0JBQ1IsWUFBWSxFQUFFO3dCQUNaLCtCQUErQjt3QkFDL0IsS0FBSztxQkFDTjtpQkFDRjthQUNGO1lBQ0Q7Z0JBQ0UsTUFBTSxFQUFFLGNBQWM7Z0JBQ3RCLFNBQVMsRUFBRTtvQkFDVCxZQUFZLEVBQUU7d0JBQ1os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LHFCQUFRLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDLHFCQUFxQixDQUFDLHdCQUF3QixFQUFFO2dCQUN4RSxnQkFBZ0IsRUFBRTtvQkFDaEI7d0JBQ0UsV0FBVyxFQUFFLG9CQUFvQjtxQkFDbEM7b0JBQ0Q7d0JBQ0UsV0FBVyxFQUFFLG9CQUFvQjtxQkFDbEM7aUJBQ0Y7YUFDRixDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztRQUNILElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxHQUFHLEVBQUU7WUFDMUIsTUFBTSxLQUFLLEdBQUcsWUFBWSxFQUFFLENBQUM7WUFDN0IsSUFBSSxXQUFLLENBQUMsS0FBSyxFQUFFLHFCQUFxQixFQUFFO2dCQUN0QyxZQUFZLEVBQUU7b0JBQ1osaUJBQVcsQ0FBQyxhQUFhO29CQUN6QixpQkFBVyxDQUFDLGNBQWM7aUJBQzNCO2FBQ0YsQ0FBQyxDQUFDO1lBQ0gscUJBQVEsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMscUJBQXFCLENBQUMsd0JBQXdCLEVBQUU7Z0JBQ3hFLGdCQUFnQixFQUFFO29CQUNoQjt3QkFDRSxXQUFXLEVBQUUsb0JBQW9CO3FCQUNsQztvQkFDRDt3QkFDRSxXQUFXLEVBQUUscUJBQXFCO3FCQUNuQztpQkFDRjthQUNGLENBQUMsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1hdGNoLCBUZW1wbGF0ZSB9IGZyb20gJy4uLy4uL2Fzc2VydGlvbnMnO1xuaW1wb3J0ICogYXMgaWFtIGZyb20gJy4uLy4uL2F3cy1pYW0nO1xuaW1wb3J0ICogYXMga21zIGZyb20gJy4uLy4uL2F3cy1rbXMnO1xuaW1wb3J0ICogYXMgbGFtYmRhIGZyb20gJy4uLy4uL2F3cy1sYW1iZGEnO1xuaW1wb3J0IHsgTG9nR3JvdXAsIFJldGVudGlvbkRheXMgfSBmcm9tICcuLi8uLi9hd3MtbG9ncyc7XG5pbXBvcnQgKiBhcyBzMyBmcm9tICcuLi8uLi9hd3MtczMnO1xuaW1wb3J0ICogYXMgc25zIGZyb20gJy4uLy4uL2F3cy1zbnMnO1xuaW1wb3J0IHsgdGVzdERlcHJlY2F0ZWQgfSBmcm9tICdAYXdzLWNkay9jZGstYnVpbGQtdG9vbHMnO1xuaW1wb3J0IHsgU3RhY2sgfSBmcm9tICcuLi8uLi9jb3JlJztcbmltcG9ydCB7IE1hbmFnZW1lbnRFdmVudFNvdXJjZXMsIFJlYWRXcml0ZVR5cGUsIFRyYWlsLCBJbnNpZ2h0VHlwZSB9IGZyb20gJy4uL2xpYic7XG5cbmNvbnN0IEV4cGVjdGVkQnVja2V0UG9saWN5UHJvcGVydGllcyA9IHtcbiAgUG9saWN5RG9jdW1lbnQ6IHtcbiAgICBTdGF0ZW1lbnQ6IFtcbiAgICAgIHtcbiAgICAgICAgQWN0aW9uOiAnczM6KicsXG4gICAgICAgIENvbmRpdGlvbjoge1xuICAgICAgICAgIEJvb2w6IHsgJ2F3czpTZWN1cmVUcmFuc3BvcnQnOiAnZmFsc2UnIH0sXG4gICAgICAgIH0sXG4gICAgICAgIEVmZmVjdDogJ0RlbnknLFxuICAgICAgICBQcmluY2lwYWw6IHtcbiAgICAgICAgICBBV1M6ICcqJyxcbiAgICAgICAgfSxcbiAgICAgICAgUmVzb3VyY2U6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICAnRm46OkdldEF0dCc6IFtcbiAgICAgICAgICAgICAgJ015QW1hemluZ0Nsb3VkVHJhaWxTM0E1ODBGRTI3JyxcbiAgICAgICAgICAgICAgJ0FybicsXG4gICAgICAgICAgICBdLFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgJ0ZuOjpKb2luJzogW1xuICAgICAgICAgICAgICAnJyxcbiAgICAgICAgICAgICAgW3tcbiAgICAgICAgICAgICAgICAnRm46OkdldEF0dCc6IFtcbiAgICAgICAgICAgICAgICAgICdNeUFtYXppbmdDbG91ZFRyYWlsUzNBNTgwRkUyNycsXG4gICAgICAgICAgICAgICAgICAnQXJuJyxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAnLyonXSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIEFjdGlvbjogJ3MzOkdldEJ1Y2tldEFjbCcsXG4gICAgICAgIEVmZmVjdDogJ0FsbG93JyxcbiAgICAgICAgUHJpbmNpcGFsOiB7XG4gICAgICAgICAgU2VydmljZTogJ2Nsb3VkdHJhaWwuYW1hem9uYXdzLmNvbScsXG4gICAgICAgIH0sXG4gICAgICAgIFJlc291cmNlOiB7XG4gICAgICAgICAgJ0ZuOjpHZXRBdHQnOiBbXG4gICAgICAgICAgICAnTXlBbWF6aW5nQ2xvdWRUcmFpbFMzQTU4MEZFMjcnLFxuICAgICAgICAgICAgJ0FybicsXG4gICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIEFjdGlvbjogJ3MzOlB1dE9iamVjdCcsXG4gICAgICAgIENvbmRpdGlvbjoge1xuICAgICAgICAgIFN0cmluZ0VxdWFsczoge1xuICAgICAgICAgICAgJ3MzOngtYW16LWFjbCc6ICdidWNrZXQtb3duZXItZnVsbC1jb250cm9sJyxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBFZmZlY3Q6ICdBbGxvdycsXG4gICAgICAgIFByaW5jaXBhbDoge1xuICAgICAgICAgIFNlcnZpY2U6ICdjbG91ZHRyYWlsLmFtYXpvbmF3cy5jb20nLFxuICAgICAgICB9LFxuICAgICAgICBSZXNvdXJjZToge1xuICAgICAgICAgICdGbjo6Sm9pbic6IFtcbiAgICAgICAgICAgICcnLFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgJ0ZuOjpHZXRBdHQnOiBbXG4gICAgICAgICAgICAgICAgICAnTXlBbWF6aW5nQ2xvdWRUcmFpbFMzQTU4MEZFMjcnLFxuICAgICAgICAgICAgICAgICAgJ0FybicsXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgJy9BV1NMb2dzLzEyMzQ1Njc4OTAxMi8qJyxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgXSxcbiAgICBWZXJzaW9uOiAnMjAxMi0xMC0xNycsXG4gIH0sXG59O1xuXG5jb25zdCBsb2dzUm9sZVBvbGljeU5hbWUgPSAnTXlBbWF6aW5nQ2xvdWRUcmFpbExvZ3NSb2xlRGVmYXVsdFBvbGljeTYxREM0OUU3JztcbmNvbnN0IGxvZ3NSb2xlTmFtZSA9ICdNeUFtYXppbmdDbG91ZFRyYWlsTG9nc1JvbGVGMkNDRjk3Nyc7XG5cbmZ1bmN0aW9uIGdldFRlc3RTdGFjaygpOiBTdGFjayB7XG4gIHJldHVybiBuZXcgU3RhY2sodW5kZWZpbmVkLCAnVGVzdFN0YWNrJywgeyBlbnY6IHsgYWNjb3VudDogJzEyMzQ1Njc4OTAxMicsIHJlZ2lvbjogJ3VzLWVhc3QtMScgfSB9KTtcbn1cblxuZGVzY3JpYmUoJ2Nsb3VkdHJhaWwnLCAoKSA9PiB7XG4gIGRlc2NyaWJlKCdjb25zdHJ1Y3RzIHRoZSBleHBlY3RlZCByZXNvdXJjZXMnLCAoKSA9PiB7XG4gICAgdGVzdCgnd2l0aCBubyBwcm9wZXJ0aWVzJywgKCkgPT4ge1xuICAgICAgY29uc3Qgc3RhY2sgPSBnZXRUZXN0U3RhY2soKTtcbiAgICAgIG5ldyBUcmFpbChzdGFjaywgJ015QW1hemluZ0Nsb3VkVHJhaWwnKTtcbiAgICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykucmVzb3VyY2VDb3VudElzKCdBV1M6OkNsb3VkVHJhaWw6OlRyYWlsJywgMSk7XG4gICAgICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLnJlc291cmNlQ291bnRJcygnQVdTOjpTMzo6QnVja2V0JywgMSk7XG4gICAgICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpTMzo6QnVja2V0UG9saWN5JywgRXhwZWN0ZWRCdWNrZXRQb2xpY3lQcm9wZXJ0aWVzKTtcbiAgICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykucmVzb3VyY2VDb3VudElzKCdBV1M6OkxvZ3M6OkxvZ0dyb3VwJywgMCk7XG4gICAgICBjb25zdCB0cmFpbDogYW55ID0gVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS50b0pTT04oKS5SZXNvdXJjZXMuTXlBbWF6aW5nQ2xvdWRUcmFpbDU0NTE2RThEO1xuICAgICAgZXhwZWN0KHRyYWlsLkRlcGVuZHNPbikudG9FcXVhbChbJ015QW1hemluZ0Nsb3VkVHJhaWxTM1BvbGljeTM5QzEyMEIwJ10pO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnd2l0aCBzM2J1Y2tldCcsICgpID0+IHtcbiAgICAgIGNvbnN0IHN0YWNrID0gZ2V0VGVzdFN0YWNrKCk7XG4gICAgICBjb25zdCBUcmFpbGJ1Y2tldCA9IG5ldyBzMy5CdWNrZXQoc3RhY2ssICdTMycpO1xuICAgICAgY29uc3QgY2xvdWRUcmFpbFByaW5jaXBhbCA9IG5ldyBpYW0uU2VydmljZVByaW5jaXBhbCgnY2xvdWR0cmFpbC5hbWF6b25hd3MuY29tJyk7XG4gICAgICBUcmFpbGJ1Y2tldC5hZGRUb1Jlc291cmNlUG9saWN5KG5ldyBpYW0uUG9saWN5U3RhdGVtZW50KHtcbiAgICAgICAgcmVzb3VyY2VzOiBbVHJhaWxidWNrZXQuYnVja2V0QXJuXSxcbiAgICAgICAgYWN0aW9uczogWydzMzpHZXRCdWNrZXRBY2wnXSxcbiAgICAgICAgcHJpbmNpcGFsczogW2Nsb3VkVHJhaWxQcmluY2lwYWxdLFxuICAgICAgfSkpO1xuXG4gICAgICBUcmFpbGJ1Y2tldC5hZGRUb1Jlc291cmNlUG9saWN5KG5ldyBpYW0uUG9saWN5U3RhdGVtZW50KHtcbiAgICAgICAgcmVzb3VyY2VzOiBbVHJhaWxidWNrZXQuYXJuRm9yT2JqZWN0cyhgQVdTTG9ncy8ke1N0YWNrLm9mKHN0YWNrKS5hY2NvdW50fS8qYCldLFxuICAgICAgICBhY3Rpb25zOiBbJ3MzOlB1dE9iamVjdCddLFxuICAgICAgICBwcmluY2lwYWxzOiBbY2xvdWRUcmFpbFByaW5jaXBhbF0sXG4gICAgICAgIGNvbmRpdGlvbnM6IHtcbiAgICAgICAgICBTdHJpbmdFcXVhbHM6IHsgJ3MzOngtYW16LWFjbCc6ICdidWNrZXQtb3duZXItZnVsbC1jb250cm9sJyB9LFxuICAgICAgICB9LFxuICAgICAgfSkpO1xuXG4gICAgICBuZXcgVHJhaWwoc3RhY2ssICdUcmFpbCcsIHsgYnVja2V0OiBUcmFpbGJ1Y2tldCB9KTtcblxuICAgICAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5yZXNvdXJjZUNvdW50SXMoJ0FXUzo6Q2xvdWRUcmFpbDo6VHJhaWwnLCAxKTtcbiAgICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykucmVzb3VyY2VDb3VudElzKCdBV1M6OlMzOjpCdWNrZXQnLCAxKTtcbiAgICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykucmVzb3VyY2VDb3VudElzKCdBV1M6OlMzOjpCdWNrZXRQb2xpY3knLCAxKTtcbiAgICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykucmVzb3VyY2VDb3VudElzKCdBV1M6OkxvZ3M6OkxvZ0dyb3VwJywgMCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCd3aXRoIHNucyB0b3BpYycsICgpID0+IHtcbiAgICAgIGNvbnN0IHN0YWNrID0gZ2V0VGVzdFN0YWNrKCk7XG4gICAgICBjb25zdCB0b3BpYyA9IG5ldyBzbnMuVG9waWMoc3RhY2ssICdUb3BpYycpO1xuXG5cbiAgICAgIG5ldyBUcmFpbChzdGFjaywgJ1RyYWlsJywgeyBzbnNUb3BpYzogdG9waWMgfSk7XG5cbiAgICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykucmVzb3VyY2VDb3VudElzKCdBV1M6OkNsb3VkVHJhaWw6OlRyYWlsJywgMSk7XG4gICAgICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLnJlc291cmNlQ291bnRJcygnQVdTOjpMb2dzOjpMb2dHcm91cCcsIDApO1xuICAgICAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6U05TOjpUb3BpY1BvbGljeScsIHtcbiAgICAgICAgUG9saWN5RG9jdW1lbnQ6IHtcbiAgICAgICAgICBTdGF0ZW1lbnQ6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgQWN0aW9uOiAnc25zOlB1Ymxpc2gnLFxuICAgICAgICAgICAgICBFZmZlY3Q6ICdBbGxvdycsXG4gICAgICAgICAgICAgIFByaW5jaXBhbDogeyBTZXJ2aWNlOiAnY2xvdWR0cmFpbC5hbWF6b25hd3MuY29tJyB9LFxuICAgICAgICAgICAgICBSZXNvdXJjZTogeyBSZWY6ICdUb3BpY0JGQzdBRjZFJyB9LFxuICAgICAgICAgICAgICBTaWQ6ICcwJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgICBWZXJzaW9uOiAnMjAxMi0xMC0xNycsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3dpdGggaW1wb3J0ZWQgczMgYnVja2V0JywgKCkgPT4ge1xuICAgICAgLy8gR0lWRU5cbiAgICAgIGNvbnN0IHN0YWNrID0gZ2V0VGVzdFN0YWNrKCk7XG4gICAgICBjb25zdCBidWNrZXQgPSBzMy5CdWNrZXQuZnJvbUJ1Y2tldE5hbWUoc3RhY2ssICdTMycsICdzb21lYnVja2V0Jyk7XG5cbiAgICAgIC8vIFdIRU5cbiAgICAgIG5ldyBUcmFpbChzdGFjaywgJ1RyYWlsJywgeyBidWNrZXQgfSk7XG5cbiAgICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkNsb3VkVHJhaWw6OlRyYWlsJywge1xuICAgICAgICBTM0J1Y2tldE5hbWU6ICdzb21lYnVja2V0JyxcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnd2l0aCBzM0tleVByZWZpeCcsICgpID0+IHtcbiAgICAgIC8vIEdJVkVOXG4gICAgICBjb25zdCBzdGFjayA9IGdldFRlc3RTdGFjaygpO1xuXG4gICAgICAvLyBXSEVOXG4gICAgICBuZXcgVHJhaWwoc3RhY2ssICdUcmFpbCcsIHsgczNLZXlQcmVmaXg6ICdzb21lcHJlZml4JyB9KTtcblxuICAgICAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5yZXNvdXJjZUNvdW50SXMoJ0FXUzo6Q2xvdWRUcmFpbDo6VHJhaWwnLCAxKTtcbiAgICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykucmVzb3VyY2VDb3VudElzKCdBV1M6OlMzOjpCdWNrZXQnLCAxKTtcbiAgICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OlMzOjpCdWNrZXRQb2xpY3knLCB7XG4gICAgICAgIEJ1Y2tldDogeyBSZWY6ICdUcmFpbFMzMDA3MUYxNzInIH0sXG4gICAgICAgIFBvbGljeURvY3VtZW50OiB7XG4gICAgICAgICAgU3RhdGVtZW50OiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIEFjdGlvbjogJ3MzOionLFxuICAgICAgICAgICAgICBDb25kaXRpb246IHtcbiAgICAgICAgICAgICAgICBCb29sOiB7XG4gICAgICAgICAgICAgICAgICAnYXdzOlNlY3VyZVRyYW5zcG9ydCc6ICdmYWxzZScsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgRWZmZWN0OiAnRGVueScsXG4gICAgICAgICAgICAgIFByaW5jaXBhbDoge1xuICAgICAgICAgICAgICAgIEFXUzogJyonLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBSZXNvdXJjZTogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICdGbjo6R2V0QXR0JzogW1xuICAgICAgICAgICAgICAgICAgICAnVHJhaWxTMzAwNzFGMTcyJyxcbiAgICAgICAgICAgICAgICAgICAgJ0FybicsXG4gICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgJ0ZuOjpKb2luJzogW1xuICAgICAgICAgICAgICAgICAgICAnJyxcbiAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdGbjo6R2V0QXR0JzogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnVHJhaWxTMzAwNzFGMTcyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ0FybicsXG4gICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgJy8qJyxcbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIEFjdGlvbjogJ3MzOkdldEJ1Y2tldEFjbCcsXG4gICAgICAgICAgICAgIEVmZmVjdDogJ0FsbG93JyxcbiAgICAgICAgICAgICAgUHJpbmNpcGFsOiB7IFNlcnZpY2U6ICdjbG91ZHRyYWlsLmFtYXpvbmF3cy5jb20nIH0sXG4gICAgICAgICAgICAgIFJlc291cmNlOiB7ICdGbjo6R2V0QXR0JzogWydUcmFpbFMzMDA3MUYxNzInLCAnQXJuJ10gfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIEFjdGlvbjogJ3MzOlB1dE9iamVjdCcsXG4gICAgICAgICAgICAgIENvbmRpdGlvbjoge1xuICAgICAgICAgICAgICAgIFN0cmluZ0VxdWFsczogeyAnczM6eC1hbXotYWNsJzogJ2J1Y2tldC1vd25lci1mdWxsLWNvbnRyb2wnIH0sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIEVmZmVjdDogJ0FsbG93JyxcbiAgICAgICAgICAgICAgUHJpbmNpcGFsOiB7IFNlcnZpY2U6ICdjbG91ZHRyYWlsLmFtYXpvbmF3cy5jb20nIH0sXG4gICAgICAgICAgICAgIFJlc291cmNlOiB7XG4gICAgICAgICAgICAgICAgJ0ZuOjpKb2luJzogW1xuICAgICAgICAgICAgICAgICAgJycsXG4gICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgIHsgJ0ZuOjpHZXRBdHQnOiBbJ1RyYWlsUzMwMDcxRjE3MicsICdBcm4nXSB9LFxuICAgICAgICAgICAgICAgICAgICAnL3NvbWVwcmVmaXgvQVdTTG9ncy8xMjM0NTY3ODkwMTIvKicsXG4gICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgICAgVmVyc2lvbjogJzIwMTItMTAtMTcnLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdlbmNyeXB0aW9uIGtleXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBzdGFjayA9IG5ldyBTdGFjaygpO1xuICAgICAgY29uc3Qga2V5ID0gbmV3IGttcy5LZXkoc3RhY2ssICdrZXknKTtcbiAgICAgIG5ldyBUcmFpbChzdGFjaywgJ0VuY3J5cHRpb25LZXlUcmFpbCcsIHtcbiAgICAgICAgdHJhaWxOYW1lOiAnRW5jcnlwdGlvbktleVRyYWlsJyxcbiAgICAgICAgZW5jcnlwdGlvbktleToga2V5LFxuICAgICAgfSk7XG4gICAgICBuZXcgVHJhaWwoc3RhY2ssICdLbXNLZXlUcmFpbCcsIHtcbiAgICAgICAgdHJhaWxOYW1lOiAnS21zS2V5VHJhaWwnLFxuICAgICAgICBlbmNyeXB0aW9uS2V5OiBrZXksXG4gICAgICB9KTtcbiAgICAgIG5ldyBUcmFpbChzdGFjaywgJ1VuZW5jcnlwdGVkVHJhaWwnLCB7XG4gICAgICAgIHRyYWlsTmFtZTogJ1VuZW5jcnlwdGVkVHJhaWwnLFxuICAgICAgfSk7XG5cbiAgICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkNsb3VkVHJhaWw6OlRyYWlsJywge1xuICAgICAgICBUcmFpbE5hbWU6ICdFbmNyeXB0aW9uS2V5VHJhaWwnLFxuICAgICAgICBLTVNLZXlJZDoge1xuICAgICAgICAgICdGbjo6R2V0QXR0JzogWydrZXlGRURENkVDMCcsICdBcm4nXSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6Q2xvdWRUcmFpbDo6VHJhaWwnLCB7XG4gICAgICAgIFRyYWlsTmFtZTogJ0ttc0tleVRyYWlsJyxcbiAgICAgICAgS01TS2V5SWQ6IHtcbiAgICAgICAgICAnRm46OkdldEF0dCc6IFsna2V5RkVERDZFQzAnLCAnQXJuJ10sXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkNsb3VkVHJhaWw6OlRyYWlsJywge1xuICAgICAgICBUcmFpbE5hbWU6ICdVbmVuY3J5cHRlZFRyYWlsJyxcbiAgICAgICAgS01TS2V5SWQ6IE1hdGNoLmFic2VudCgpLFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICB0ZXN0RGVwcmVjYXRlZCgnQm90aCBrbXNLZXkgYW5kIGVuY3J5cHRpb25LZXkgbXVzdCBub3QgYmUgc3BlY2lmaWVkJywgKCkgPT4ge1xuICAgICAgY29uc3Qgc3RhY2sgPSBuZXcgU3RhY2soKTtcbiAgICAgIGNvbnN0IGtleSA9IG5ldyBrbXMuS2V5KHN0YWNrLCAna2V5Jyk7XG5cbiAgICAgIGV4cGVjdCgoKSA9PiBuZXcgVHJhaWwoc3RhY2ssICdFcnJvclRyYWlsJywge1xuICAgICAgICB0cmFpbE5hbWU6ICdFcnJvclRyYWlsJyxcbiAgICAgICAgZW5jcnlwdGlvbktleToga2V5LFxuICAgICAgICBrbXNLZXk6IGtleSxcbiAgICAgIH0pKS50b1Rocm93KC9Cb3RoIGttc0tleSBhbmQgZW5jcnlwdGlvbktleSBtdXN0IG5vdCBiZSBzcGVjaWZpZWQvKTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKCd3aXRoIGNsb3VkIHdhdGNoIGxvZ3MnLCAoKSA9PiB7XG4gICAgICB0ZXN0KCdlbmFibGVkJywgKCkgPT4ge1xuICAgICAgICBjb25zdCBzdGFjayA9IGdldFRlc3RTdGFjaygpO1xuICAgICAgICBuZXcgVHJhaWwoc3RhY2ssICdNeUFtYXppbmdDbG91ZFRyYWlsJywge1xuICAgICAgICAgIHNlbmRUb0Nsb3VkV2F0Y2hMb2dzOiB0cnVlLFxuICAgICAgICB9KTtcblxuICAgICAgICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLnJlc291cmNlQ291bnRJcygnQVdTOjpDbG91ZFRyYWlsOjpUcmFpbCcsIDEpO1xuICAgICAgICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLnJlc291cmNlQ291bnRJcygnQVdTOjpTMzo6QnVja2V0JywgMSk7XG4gICAgICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OlMzOjpCdWNrZXRQb2xpY3knLCBFeHBlY3RlZEJ1Y2tldFBvbGljeVByb3BlcnRpZXMpO1xuICAgICAgICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLnJlc291cmNlQ291bnRJcygnQVdTOjpMb2dzOjpMb2dHcm91cCcsIDEpO1xuICAgICAgICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLnJlc291cmNlQ291bnRJcygnQVdTOjpJQU06OlJvbGUnLCAxKTtcbiAgICAgICAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6TG9nczo6TG9nR3JvdXAnLCB7IFJldGVudGlvbkluRGF5czogMzY1IH0pO1xuICAgICAgICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpJQU06OlBvbGljeScsIHtcbiAgICAgICAgICBQb2xpY3lEb2N1bWVudDoge1xuICAgICAgICAgICAgVmVyc2lvbjogJzIwMTItMTAtMTcnLFxuICAgICAgICAgICAgU3RhdGVtZW50OiBbe1xuICAgICAgICAgICAgICBFZmZlY3Q6ICdBbGxvdycsXG4gICAgICAgICAgICAgIEFjdGlvbjogWydsb2dzOlB1dExvZ0V2ZW50cycsICdsb2dzOkNyZWF0ZUxvZ1N0cmVhbSddLFxuICAgICAgICAgICAgICBSZXNvdXJjZToge1xuICAgICAgICAgICAgICAgICdGbjo6R2V0QXR0JzogWydNeUFtYXppbmdDbG91ZFRyYWlsTG9nR3JvdXAyQkU2N0Y4NycsICdBcm4nXSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH1dLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgUG9saWN5TmFtZTogbG9nc1JvbGVQb2xpY3lOYW1lLFxuICAgICAgICAgIFJvbGVzOiBbeyBSZWY6ICdNeUFtYXppbmdDbG91ZFRyYWlsTG9nc1JvbGVGMkNDRjk3NycgfV0sXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCB0cmFpbDogYW55ID0gVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS50b0pTT04oKS5SZXNvdXJjZXMuTXlBbWF6aW5nQ2xvdWRUcmFpbDU0NTE2RThEO1xuICAgICAgICBleHBlY3QodHJhaWwuRGVwZW5kc09uKS50b0VxdWFsKFtsb2dzUm9sZVBvbGljeU5hbWUsIGxvZ3NSb2xlTmFtZSwgJ015QW1hemluZ0Nsb3VkVHJhaWxTM1BvbGljeTM5QzEyMEIwJ10pO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoJ2VuYWJsZWQgYW5kIGN1c3RvbSByZXRlbnRpb24nLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHN0YWNrID0gZ2V0VGVzdFN0YWNrKCk7XG4gICAgICAgIG5ldyBUcmFpbChzdGFjaywgJ015QW1hemluZ0Nsb3VkVHJhaWwnLCB7XG4gICAgICAgICAgc2VuZFRvQ2xvdWRXYXRjaExvZ3M6IHRydWUsXG4gICAgICAgICAgY2xvdWRXYXRjaExvZ3NSZXRlbnRpb246IFJldGVudGlvbkRheXMuT05FX1dFRUssXG4gICAgICAgIH0pO1xuXG4gICAgICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykucmVzb3VyY2VDb3VudElzKCdBV1M6OkNsb3VkVHJhaWw6OlRyYWlsJywgMSk7XG4gICAgICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykucmVzb3VyY2VDb3VudElzKCdBV1M6OlMzOjpCdWNrZXQnLCAxKTtcbiAgICAgICAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6UzM6OkJ1Y2tldFBvbGljeScsIEV4cGVjdGVkQnVja2V0UG9saWN5UHJvcGVydGllcyk7XG4gICAgICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykucmVzb3VyY2VDb3VudElzKCdBV1M6OkxvZ3M6OkxvZ0dyb3VwJywgMSk7XG4gICAgICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykucmVzb3VyY2VDb3VudElzKCdBV1M6OklBTTo6Um9sZScsIDEpO1xuICAgICAgICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpMb2dzOjpMb2dHcm91cCcsIHtcbiAgICAgICAgICBSZXRlbnRpb25JbkRheXM6IDcsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCB0cmFpbDogYW55ID0gVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS50b0pTT04oKS5SZXNvdXJjZXMuTXlBbWF6aW5nQ2xvdWRUcmFpbDU0NTE2RThEO1xuICAgICAgICBleHBlY3QodHJhaWwuRGVwZW5kc09uKS50b0VxdWFsKFtsb2dzUm9sZVBvbGljeU5hbWUsIGxvZ3NSb2xlTmFtZSwgJ015QW1hemluZ0Nsb3VkVHJhaWxTM1BvbGljeTM5QzEyMEIwJ10pO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoJ2VuYWJsZWQgYW5kIHdpdGggY3VzdG9tIGxvZyBncm91cCcsICgpID0+IHtcbiAgICAgICAgY29uc3Qgc3RhY2sgPSBnZXRUZXN0U3RhY2soKTtcbiAgICAgICAgY29uc3QgY2xvdWRXYXRjaExvZ0dyb3VwID0gbmV3IExvZ0dyb3VwKHN0YWNrLCAnTXlMb2dHcm91cCcsIHtcbiAgICAgICAgICByZXRlbnRpb246IFJldGVudGlvbkRheXMuRklWRV9EQVlTLFxuICAgICAgICB9KTtcbiAgICAgICAgbmV3IFRyYWlsKHN0YWNrLCAnTXlBbWF6aW5nQ2xvdWRUcmFpbCcsIHtcbiAgICAgICAgICBzZW5kVG9DbG91ZFdhdGNoTG9nczogdHJ1ZSxcbiAgICAgICAgICBjbG91ZFdhdGNoTG9nc1JldGVudGlvbjogUmV0ZW50aW9uRGF5cy5PTkVfV0VFSyxcbiAgICAgICAgICBjbG91ZFdhdGNoTG9nR3JvdXAsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkxvZ3M6OkxvZ0dyb3VwJywge1xuICAgICAgICAgIFJldGVudGlvbkluRGF5czogNSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6Q2xvdWRUcmFpbDo6VHJhaWwnLCB7XG4gICAgICAgICAgQ2xvdWRXYXRjaExvZ3NMb2dHcm91cEFybjogc3RhY2sucmVzb2x2ZShjbG91ZFdhdGNoTG9nR3JvdXAubG9nR3JvdXBBcm4pLFxuICAgICAgICB9KTtcblxuICAgICAgICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpJQU06OlBvbGljeScsIHtcbiAgICAgICAgICBQb2xpY3lEb2N1bWVudDoge1xuICAgICAgICAgICAgU3RhdGVtZW50OiBbTWF0Y2gub2JqZWN0TGlrZSh7XG4gICAgICAgICAgICAgIFJlc291cmNlOiBzdGFjay5yZXNvbHZlKGNsb3VkV2F0Y2hMb2dHcm91cC5sb2dHcm91cEFybiksXG4gICAgICAgICAgICB9KV0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgdGVzdCgnZGlzYWJsZWQnLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHN0YWNrID0gZ2V0VGVzdFN0YWNrKCk7XG4gICAgICAgIGNvbnN0IHQgPSBuZXcgVHJhaWwoc3RhY2ssICdNeUFtYXppbmdDbG91ZFRyYWlsJywge1xuICAgICAgICAgIHNlbmRUb0Nsb3VkV2F0Y2hMb2dzOiBmYWxzZSxcbiAgICAgICAgICBjbG91ZFdhdGNoTG9nc1JldGVudGlvbjogUmV0ZW50aW9uRGF5cy5PTkVfV0VFSyxcbiAgICAgICAgfSk7XG4gICAgICAgIGV4cGVjdCh0LmxvZ0dyb3VwKS50b0JlVW5kZWZpbmVkKCk7XG4gICAgICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykucmVzb3VyY2VDb3VudElzKCdBV1M6OkxvZ3M6OkxvZ0dyb3VwJywgMCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKCd3aXRoIGV2ZW50IHNlbGVjdG9ycycsICgpID0+IHtcbiAgICAgIHRlc3QoJ2FsbCBzMyBldmVudHMnLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHN0YWNrID0gZ2V0VGVzdFN0YWNrKCk7XG5cbiAgICAgICAgY29uc3QgY2xvdWRUcmFpbCA9IG5ldyBUcmFpbChzdGFjaywgJ015QW1hemluZ0Nsb3VkVHJhaWwnKTtcbiAgICAgICAgY2xvdWRUcmFpbC5sb2dBbGxTM0RhdGFFdmVudHMoKTtcblxuICAgICAgICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpDbG91ZFRyYWlsOjpUcmFpbCcsIHtcbiAgICAgICAgICBFdmVudFNlbGVjdG9yczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBEYXRhUmVzb3VyY2VzOiBbe1xuICAgICAgICAgICAgICAgIFR5cGU6ICdBV1M6OlMzOjpPYmplY3QnLFxuICAgICAgICAgICAgICAgIFZhbHVlczogW1xuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAnRm46OkpvaW4nOiBbXG4gICAgICAgICAgICAgICAgICAgICAgJycsXG4gICAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2FybjonLFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBSZWY6ICdBV1M6OlBhcnRpdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgJzpzMzo6OicsXG4gICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAgIEluY2x1ZGVNYW5hZ2VtZW50RXZlbnRzOiBNYXRjaC5hYnNlbnQoKSxcbiAgICAgICAgICAgICAgUmVhZFdyaXRlVHlwZTogTWF0Y2guYWJzZW50KCksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoJ3NwZWNpZmljIHMzIGJ1Y2tldHMgYW5kIG9iamVjdHMnLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHN0YWNrID0gZ2V0VGVzdFN0YWNrKCk7XG4gICAgICAgIGNvbnN0IGJ1Y2tldCA9IG5ldyBzMy5CdWNrZXQoc3RhY2ssICd0ZXN0QnVja2V0JywgeyBidWNrZXROYW1lOiAndGVzdC1idWNrZXQnIH0pO1xuXG4gICAgICAgIGNvbnN0IGNsb3VkVHJhaWwgPSBuZXcgVHJhaWwoc3RhY2ssICdNeUFtYXppbmdDbG91ZFRyYWlsJyk7XG4gICAgICAgIGNsb3VkVHJhaWwuYWRkUzNFdmVudFNlbGVjdG9yKFt7IGJ1Y2tldCB9XSk7XG4gICAgICAgIGNsb3VkVHJhaWwuYWRkUzNFdmVudFNlbGVjdG9yKFt7XG4gICAgICAgICAgYnVja2V0LFxuICAgICAgICAgIG9iamVjdFByZWZpeDogJ3ByZWZpeC0xL3ByZWZpeC0yJyxcbiAgICAgICAgfV0pO1xuXG4gICAgICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkNsb3VkVHJhaWw6OlRyYWlsJywge1xuICAgICAgICAgIEV2ZW50U2VsZWN0b3JzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIERhdGFSZXNvdXJjZXM6IFt7XG4gICAgICAgICAgICAgICAgVHlwZTogJ0FXUzo6UzM6Ok9iamVjdCcsXG4gICAgICAgICAgICAgICAgVmFsdWVzOiBbe1xuICAgICAgICAgICAgICAgICAgJ0ZuOjpKb2luJzogW1xuICAgICAgICAgICAgICAgICAgICAnJyxcbiAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgIHsgJ0ZuOjpHZXRBdHQnOiBbJ3Rlc3RCdWNrZXRERjREN0QxQScsICdBcm4nXSB9LFxuICAgICAgICAgICAgICAgICAgICAgICcvJyxcbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgRGF0YVJlc291cmNlczogW3tcbiAgICAgICAgICAgICAgICBUeXBlOiAnQVdTOjpTMzo6T2JqZWN0JyxcbiAgICAgICAgICAgICAgICBWYWx1ZXM6IFt7XG4gICAgICAgICAgICAgICAgICAnRm46OkpvaW4nOiBbXG4gICAgICAgICAgICAgICAgICAgICcnLFxuICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgeyAnRm46OkdldEF0dCc6IFsndGVzdEJ1Y2tldERGNEQ3RDFBJywgJ0FybiddIH0sXG4gICAgICAgICAgICAgICAgICAgICAgJy9wcmVmaXgtMS9wcmVmaXgtMicsXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgdGVzdCgnbm8gczMgZXZlbnQgc2VsZWN0b3Igd2hlbiBsaXN0IGlzIGVtcHR5JywgKCkgPT4ge1xuICAgICAgICBjb25zdCBzdGFjayA9IGdldFRlc3RTdGFjaygpO1xuICAgICAgICBjb25zdCBjbG91ZFRyYWlsID0gbmV3IFRyYWlsKHN0YWNrLCAnTXlBbWF6aW5nQ2xvdWRUcmFpbCcpO1xuICAgICAgICBjbG91ZFRyYWlsLmFkZFMzRXZlbnRTZWxlY3RvcihbXSk7XG4gICAgICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkNsb3VkVHJhaWw6OlRyYWlsJywge1xuICAgICAgICAgIEV2ZW50U2VsZWN0b3JzOiBbXSxcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgdGVzdCgnd2l0aCBoYW5kLXNwZWNpZmllZCBwcm9wcycsICgpID0+IHtcbiAgICAgICAgY29uc3Qgc3RhY2sgPSBnZXRUZXN0U3RhY2soKTtcblxuICAgICAgICBjb25zdCBjbG91ZFRyYWlsID0gbmV3IFRyYWlsKHN0YWNrLCAnTXlBbWF6aW5nQ2xvdWRUcmFpbCcpO1xuICAgICAgICBjbG91ZFRyYWlsLmxvZ0FsbFMzRGF0YUV2ZW50cyh7IGluY2x1ZGVNYW5hZ2VtZW50RXZlbnRzOiBmYWxzZSwgcmVhZFdyaXRlVHlwZTogUmVhZFdyaXRlVHlwZS5SRUFEX09OTFkgfSk7XG5cbiAgICAgICAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6Q2xvdWRUcmFpbDo6VHJhaWwnLCB7XG4gICAgICAgICAgRXZlbnRTZWxlY3RvcnM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgRGF0YVJlc291cmNlczogW3tcbiAgICAgICAgICAgICAgICBUeXBlOiAnQVdTOjpTMzo6T2JqZWN0JyxcbiAgICAgICAgICAgICAgICBWYWx1ZXM6IFtcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgJ0ZuOjpKb2luJzogW1xuICAgICAgICAgICAgICAgICAgICAgICcnLFxuICAgICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICdhcm46JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgUmVmOiAnQVdTOjpQYXJ0aXRpb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICc6czM6OjonLFxuICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgICBJbmNsdWRlTWFuYWdlbWVudEV2ZW50czogZmFsc2UsXG4gICAgICAgICAgICAgIFJlYWRXcml0ZVR5cGU6ICdSZWFkT25seScsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoJ3dpdGggbWFuYWdlbWVudCBldmVudCcsICgpID0+IHtcbiAgICAgICAgY29uc3Qgc3RhY2sgPSBnZXRUZXN0U3RhY2soKTtcblxuICAgICAgICBuZXcgVHJhaWwoc3RhY2ssICdNeUFtYXppbmdDbG91ZFRyYWlsJywgeyBtYW5hZ2VtZW50RXZlbnRzOiBSZWFkV3JpdGVUeXBlLldSSVRFX09OTFkgfSk7XG5cbiAgICAgICAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6Q2xvdWRUcmFpbDo6VHJhaWwnLCB7XG4gICAgICAgICAgRXZlbnRTZWxlY3RvcnM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgSW5jbHVkZU1hbmFnZW1lbnRFdmVudHM6IHRydWUsXG4gICAgICAgICAgICAgIFJlYWRXcml0ZVR5cGU6ICdXcml0ZU9ubHknLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KCdleGNsdWRlIG1hbmFnZW1lbnQgZXZlbnRzJywgKCkgPT4ge1xuICAgICAgICBjb25zdCBzdGFjayA9IGdldFRlc3RTdGFjaygpO1xuICAgICAgICBjb25zdCBidWNrZXQgPSBuZXcgczMuQnVja2V0KHN0YWNrLCAndGVzdEJ1Y2tldCcsIHsgYnVja2V0TmFtZTogJ3Rlc3QtYnVja2V0JyB9KTtcbiAgICAgICAgY29uc3QgY2xvdWRUcmFpbCA9IG5ldyBUcmFpbChzdGFjaywgJ015QW1hemluZ0Nsb3VkVHJhaWwnKTtcbiAgICAgICAgY2xvdWRUcmFpbC5hZGRTM0V2ZW50U2VsZWN0b3IoW3sgYnVja2V0IH1dLCB7XG4gICAgICAgICAgZXhjbHVkZU1hbmFnZW1lbnRFdmVudFNvdXJjZXM6IFtcbiAgICAgICAgICAgIE1hbmFnZW1lbnRFdmVudFNvdXJjZXMuS01TLFxuICAgICAgICAgICAgTWFuYWdlbWVudEV2ZW50U291cmNlcy5SRFNfREFUQV9BUEksXG4gICAgICAgICAgXSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNsb3VkVHJhaWwuYWRkUzNFdmVudFNlbGVjdG9yKFt7IGJ1Y2tldCB9XSwge1xuICAgICAgICAgIGV4Y2x1ZGVNYW5hZ2VtZW50RXZlbnRTb3VyY2VzOiBbXSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6Q2xvdWRUcmFpbDo6VHJhaWwnLCB7XG4gICAgICAgICAgRXZlbnRTZWxlY3RvcnM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgRGF0YVJlc291cmNlczogW3tcbiAgICAgICAgICAgICAgICBUeXBlOiAnQVdTOjpTMzo6T2JqZWN0JyxcbiAgICAgICAgICAgICAgICBWYWx1ZXM6IFt7XG4gICAgICAgICAgICAgICAgICAnRm46OkpvaW4nOiBbXG4gICAgICAgICAgICAgICAgICAgICcnLFxuICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgeyAnRm46OkdldEF0dCc6IFsndGVzdEJ1Y2tldERGNEQ3RDFBJywgJ0FybiddIH0sXG4gICAgICAgICAgICAgICAgICAgICAgJy8nLFxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAgIEV4Y2x1ZGVNYW5hZ2VtZW50RXZlbnRTb3VyY2VzOiBbXG4gICAgICAgICAgICAgICAgJ2ttcy5hbWF6b25hd3MuY29tJyxcbiAgICAgICAgICAgICAgICAncmRzZGF0YS5hbWF6b25hd3MuY29tJyxcbiAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIERhdGFSZXNvdXJjZXM6IFt7XG4gICAgICAgICAgICAgICAgVHlwZTogJ0FXUzo6UzM6Ok9iamVjdCcsXG4gICAgICAgICAgICAgICAgVmFsdWVzOiBbe1xuICAgICAgICAgICAgICAgICAgJ0ZuOjpKb2luJzogW1xuICAgICAgICAgICAgICAgICAgICAnJyxcbiAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgIHsgJ0ZuOjpHZXRBdHQnOiBbJ3Rlc3RCdWNrZXRERjREN0QxQScsICdBcm4nXSB9LFxuICAgICAgICAgICAgICAgICAgICAgICcvJyxcbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgICBFeGNsdWRlTWFuYWdlbWVudEV2ZW50U291cmNlczogW10sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoJ2ZvciBMYW1iZGEgZnVuY3Rpb24gZGF0YSBldmVudCcsICgpID0+IHtcbiAgICAgICAgY29uc3Qgc3RhY2sgPSBnZXRUZXN0U3RhY2soKTtcbiAgICAgICAgY29uc3QgbGFtYmRhRnVuY3Rpb24gPSBuZXcgbGFtYmRhLkZ1bmN0aW9uKHN0YWNrLCAnTGFtYmRhRnVuY3Rpb24nLCB7XG4gICAgICAgICAgcnVudGltZTogbGFtYmRhLlJ1bnRpbWUuTk9ERUpTXzE0X1gsXG4gICAgICAgICAgaGFuZGxlcjogJ2hlbGxvLmhhbmRsZXInLFxuICAgICAgICAgIGNvZGU6IGxhbWJkYS5Db2RlLmZyb21JbmxpbmUoJ2V4cG9ydHMuaGFuZGxlciA9IHt9JyksXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGNsb3VkVHJhaWwgPSBuZXcgVHJhaWwoc3RhY2ssICdNeUFtYXppbmdDbG91ZFRyYWlsJyk7XG4gICAgICAgIGNsb3VkVHJhaWwuYWRkTGFtYmRhRXZlbnRTZWxlY3RvcihbbGFtYmRhRnVuY3Rpb25dKTtcblxuICAgICAgICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpDbG91ZFRyYWlsOjpUcmFpbCcsIHtcbiAgICAgICAgICBFdmVudFNlbGVjdG9yczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBEYXRhUmVzb3VyY2VzOiBbe1xuICAgICAgICAgICAgICAgIFR5cGU6ICdBV1M6OkxhbWJkYTo6RnVuY3Rpb24nLFxuICAgICAgICAgICAgICAgIFZhbHVlczogW3tcbiAgICAgICAgICAgICAgICAgICdGbjo6R2V0QXR0JzogWydMYW1iZGFGdW5jdGlvbkJGMjFFNDFGJywgJ0FybiddLFxuICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgdGVzdCgnZm9yIGFsbCBMYW1iZGEgZnVuY3Rpb24gZGF0YSBldmVudHMnLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHN0YWNrID0gZ2V0VGVzdFN0YWNrKCk7XG5cbiAgICAgICAgY29uc3QgY2xvdWRUcmFpbCA9IG5ldyBUcmFpbChzdGFjaywgJ015QW1hemluZ0Nsb3VkVHJhaWwnKTtcbiAgICAgICAgY2xvdWRUcmFpbC5sb2dBbGxMYW1iZGFEYXRhRXZlbnRzKCk7XG5cbiAgICAgICAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6Q2xvdWRUcmFpbDo6VHJhaWwnLCB7XG4gICAgICAgICAgRXZlbnRTZWxlY3RvcnM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgRGF0YVJlc291cmNlczogW3tcbiAgICAgICAgICAgICAgICBUeXBlOiAnQVdTOjpMYW1iZGE6OkZ1bmN0aW9uJyxcbiAgICAgICAgICAgICAgICBWYWx1ZXM6IFtcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgJ0ZuOjpKb2luJzogW1xuICAgICAgICAgICAgICAgICAgICAgICcnLFxuICAgICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICdhcm46JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgUmVmOiAnQVdTOjpQYXJ0aXRpb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICc6bGFtYmRhJyxcbiAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgdGVzdCgnbm90IHByb3ZpZGVkIGFuZCBtYW5hZ2VtZW50RXZlbnRzIHNldCB0byBOb25lIHRocm93cyBtaXNzaW5nIGV2ZW50IHNlbGVjdG9ycyBlcnJvcicsICgpID0+IHtcbiAgICAgICAgY29uc3Qgc3RhY2sgPSBnZXRUZXN0U3RhY2soKTtcblxuICAgICAgICBuZXcgVHJhaWwoc3RhY2ssICdNeUFtYXppbmdDbG91ZFRyYWlsJywge1xuICAgICAgICAgIG1hbmFnZW1lbnRFdmVudHM6IFJlYWRXcml0ZVR5cGUuTk9ORSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZXhwZWN0KCgpID0+IHtcbiAgICAgICAgICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spO1xuICAgICAgICB9KS50b1Rocm93RXJyb3IoL0F0IGxlYXN0IG9uZSBldmVudCBzZWxlY3RvciBtdXN0IGJlIGFkZGVkIHdoZW4gbWFuYWdlbWVudCBldmVudCByZWNvcmRpbmcgaXMgc2V0IHRvIE5vbmUvKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KCdkZWZhdWx0cyB0byBub3QgaW5jbHVkZSBtYW5hZ2VtZW50IGV2ZW50cyB3aGVuIG1hbmFnZW1lbnRFdmVudHMgc2V0IHRvIE5vbmUnLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHN0YWNrID0gZ2V0VGVzdFN0YWNrKCk7XG5cbiAgICAgICAgY29uc3QgY2xvdWRUcmFpbCA9IG5ldyBUcmFpbChzdGFjaywgJ015QW1hemluZ0Nsb3VkVHJhaWwnLCB7XG4gICAgICAgICAgbWFuYWdlbWVudEV2ZW50czogUmVhZFdyaXRlVHlwZS5OT05FLFxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBidWNrZXQgPSBuZXcgczMuQnVja2V0KHN0YWNrLCAndGVzdEJ1Y2tldCcsIHsgYnVja2V0TmFtZTogJ3Rlc3QtYnVja2V0JyB9KTtcbiAgICAgICAgY2xvdWRUcmFpbC5hZGRTM0V2ZW50U2VsZWN0b3IoW3sgYnVja2V0IH1dKTtcblxuICAgICAgICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpDbG91ZFRyYWlsOjpUcmFpbCcsIHtcbiAgICAgICAgICBFdmVudFNlbGVjdG9yczogW3tcbiAgICAgICAgICAgIERhdGFSZXNvdXJjZXM6IFt7XG4gICAgICAgICAgICAgIFR5cGU6ICdBV1M6OlMzOjpPYmplY3QnLFxuICAgICAgICAgICAgICBWYWx1ZXM6IFt7XG4gICAgICAgICAgICAgICAgJ0ZuOjpKb2luJzogW1xuICAgICAgICAgICAgICAgICAgJycsXG4gICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgIHsgJ0ZuOjpHZXRBdHQnOiBbJ3Rlc3RCdWNrZXRERjREN0QxQScsICdBcm4nXSB9LFxuICAgICAgICAgICAgICAgICAgICAnLycsXG4gICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICBJbmNsdWRlTWFuYWdlbWVudEV2ZW50czogZmFsc2UsXG4gICAgICAgICAgfV0sXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoJ2luY2x1ZGVNYW5hZ2VtZW50RXZlbnRzIGNhbiBiZSBvdmVycmlkZGVuIHdoZW4gbWFuYWdlbWVudEV2ZW50cyBzZXQgdG8gTm9uZScsICgpID0+IHtcbiAgICAgICAgY29uc3Qgc3RhY2sgPSBnZXRUZXN0U3RhY2soKTtcblxuICAgICAgICBjb25zdCBjbG91ZFRyYWlsID0gbmV3IFRyYWlsKHN0YWNrLCAnTXlBbWF6aW5nQ2xvdWRUcmFpbCcsIHtcbiAgICAgICAgICBtYW5hZ2VtZW50RXZlbnRzOiBSZWFkV3JpdGVUeXBlLk5PTkUsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGJ1Y2tldCA9IG5ldyBzMy5CdWNrZXQoc3RhY2ssICd0ZXN0QnVja2V0JywgeyBidWNrZXROYW1lOiAndGVzdC1idWNrZXQnIH0pO1xuICAgICAgICBjbG91ZFRyYWlsLmFkZFMzRXZlbnRTZWxlY3RvcihbeyBidWNrZXQgfV0sIHtcbiAgICAgICAgICBpbmNsdWRlTWFuYWdlbWVudEV2ZW50czogdHJ1ZSxcbiAgICAgICAgICByZWFkV3JpdGVUeXBlOiBSZWFkV3JpdGVUeXBlLldSSVRFX09OTFksXG4gICAgICAgIH0pO1xuXG4gICAgICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkNsb3VkVHJhaWw6OlRyYWlsJywge1xuICAgICAgICAgIEV2ZW50U2VsZWN0b3JzOiBbe1xuICAgICAgICAgICAgRGF0YVJlc291cmNlczogW3tcbiAgICAgICAgICAgICAgVHlwZTogJ0FXUzo6UzM6Ok9iamVjdCcsXG4gICAgICAgICAgICAgIFZhbHVlczogW3tcbiAgICAgICAgICAgICAgICAnRm46OkpvaW4nOiBbXG4gICAgICAgICAgICAgICAgICAnJyxcbiAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgeyAnRm46OkdldEF0dCc6IFsndGVzdEJ1Y2tldERGNEQ3RDFBJywgJ0FybiddIH0sXG4gICAgICAgICAgICAgICAgICAgICcvJyxcbiAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICB9XSxcbiAgICAgICAgICAgIEluY2x1ZGVNYW5hZ2VtZW50RXZlbnRzOiB0cnVlLFxuICAgICAgICAgICAgUmVhZFdyaXRlVHlwZTogJ1dyaXRlT25seScsXG4gICAgICAgICAgfV0sXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoJ2lzT3JnYW5pemF0aW9uVHJhaWwgaXMgcGFzc2VkIGNvcnJlY3RseScsICgpID0+IHtcbiAgICAgICAgY29uc3Qgc3RhY2sgPSBnZXRUZXN0U3RhY2soKTtcblxuICAgICAgICBuZXcgVHJhaWwoc3RhY2ssICdPcmdhbml6YXRpb25UcmFpbCcsIHtcbiAgICAgICAgICBpc09yZ2FuaXphdGlvblRyYWlsOiB0cnVlLFxuICAgICAgICB9KTtcblxuICAgICAgICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpDbG91ZFRyYWlsOjpUcmFpbCcsIHtcbiAgICAgICAgICBJc09yZ2FuaXphdGlvblRyYWlsOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KCdpc09yZ2FuaXphdGlvblRyYWlsIGRlZmF1bHRzIHRvIG5vdCBkZWZpbmVkJywgKCkgPT4ge1xuICAgICAgICBjb25zdCBzdGFjayA9IGdldFRlc3RTdGFjaygpO1xuXG4gICAgICAgIG5ldyBUcmFpbChzdGFjaywgJ09yZ2FuaXphdGlvblRyYWlsJyk7XG5cbiAgICAgICAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6Q2xvdWRUcmFpbDo6VHJhaWwnLCBNYXRjaC5vYmplY3RFcXVhbHMoe1xuICAgICAgICAgIElzTG9nZ2luZzogdHJ1ZSxcbiAgICAgICAgICBTM0J1Y2tldE5hbWU6IE1hdGNoLmFueVZhbHVlKCksXG4gICAgICAgICAgRW5hYmxlTG9nRmlsZVZhbGlkYXRpb246IHRydWUsXG4gICAgICAgICAgRXZlbnRTZWxlY3RvcnM6IFtdLFxuICAgICAgICAgIEluY2x1ZGVHbG9iYWxTZXJ2aWNlRXZlbnRzOiB0cnVlLFxuICAgICAgICAgIElzTXVsdGlSZWdpb25UcmFpbDogdHJ1ZSxcbiAgICAgICAgfSkpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdvbkV2ZW50JywgKCkgPT4ge1xuICAgIHRlc3QoJ2FkZCBhbiBldmVudCBydWxlJywgKCkgPT4ge1xuICAgICAgLy8gR0lWRU5cbiAgICAgIGNvbnN0IHN0YWNrID0gZ2V0VGVzdFN0YWNrKCk7XG5cbiAgICAgIC8vIFdIRU5cbiAgICAgIFRyYWlsLm9uRXZlbnQoc3RhY2ssICdEb0V2ZW50cycsIHtcbiAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgYmluZDogKCkgPT4gKHtcbiAgICAgICAgICAgIGlkOiAnJyxcbiAgICAgICAgICAgIGFybjogJ2FybicsXG4gICAgICAgICAgfSksXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gVEhFTlxuICAgICAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6RXZlbnRzOjpSdWxlJywge1xuICAgICAgICBFdmVudFBhdHRlcm46IHtcbiAgICAgICAgICAnZGV0YWlsLXR5cGUnOiBbXG4gICAgICAgICAgICAnQVdTIEFQSSBDYWxsIHZpYSBDbG91ZFRyYWlsJyxcbiAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgICBTdGF0ZTogJ0VOQUJMRUQnLFxuICAgICAgICBUYXJnZXRzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgQXJuOiAnYXJuJyxcbiAgICAgICAgICAgIElkOiAnVGFyZ2V0MCcsXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbiAgZGVzY3JpYmUoJ2luc2lnaHRzICcsICgpID0+IHtcbiAgICB0ZXN0KCdubyBwcm9wZXJ0aWVzJywgKCkgPT4ge1xuICAgICAgY29uc3Qgc3RhY2sgPSBnZXRUZXN0U3RhY2soKTtcbiAgICAgIG5ldyBUcmFpbChzdGFjaywgJ015QW1hemluZ0Nsb3VkVHJhaWwnLCB7XG4gICAgICAgIGluc2lnaHRUeXBlczogW10sXG4gICAgICB9KTtcbiAgICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkNsb3VkVHJhaWw6OlRyYWlsJywge1xuICAgICAgICBJbnNpZ2h0U2VsZWN0b3JzOiBbXSxcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHRlc3QoJ0FQSSBDYWxsIFJhdGUgcHJvcGVydGllcycsICgpID0+IHtcbiAgICAgIGNvbnN0IHN0YWNrID0gZ2V0VGVzdFN0YWNrKCk7XG4gICAgICBuZXcgVHJhaWwoc3RhY2ssICdNeUFtYXppbmdDbG91ZFRyYWlsJywge1xuICAgICAgICBpbnNpZ2h0VHlwZXM6IFtcbiAgICAgICAgICBJbnNpZ2h0VHlwZS5BUElfQ0FMTF9SQVRFLFxuICAgICAgICBdLFxuICAgICAgfSk7XG4gICAgICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpDbG91ZFRyYWlsOjpUcmFpbCcsIHtcbiAgICAgICAgSW5zaWdodFNlbGVjdG9yczogW3tcbiAgICAgICAgICBJbnNpZ2h0VHlwZTogJ0FwaUNhbGxSYXRlSW5zaWdodCcsXG4gICAgICAgIH1dLFxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgdGVzdCgnQVBJIEVycm9yIFJhdGUgcHJvcGVydGllcycsICgpID0+IHtcbiAgICAgIGNvbnN0IHN0YWNrID0gZ2V0VGVzdFN0YWNrKCk7XG4gICAgICBuZXcgVHJhaWwoc3RhY2ssICdNeUFtYXppbmdDbG91ZFRyYWlsJywge1xuICAgICAgICBpbnNpZ2h0VHlwZXM6IFtcbiAgICAgICAgICBJbnNpZ2h0VHlwZS5BUElfRVJST1JfUkFURSxcbiAgICAgICAgXSxcbiAgICAgIH0pO1xuICAgICAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6Q2xvdWRUcmFpbDo6VHJhaWwnLCB7XG4gICAgICAgIEluc2lnaHRTZWxlY3RvcnM6IFt7XG4gICAgICAgICAgSW5zaWdodFR5cGU6ICdBcGlFcnJvclJhdGVJbnNpZ2h0JyxcbiAgICAgICAgfV0sXG4gICAgICB9KTtcbiAgICB9KTtcbiAgICB0ZXN0KCdkdXBsaWNhdGUgcHJvcGVydGllcycsICgpID0+IHtcbiAgICAgIGNvbnN0IHN0YWNrID0gZ2V0VGVzdFN0YWNrKCk7XG4gICAgICBuZXcgVHJhaWwoc3RhY2ssICdNeUFtYXppbmdDbG91ZFRyYWlsJywge1xuICAgICAgICBpbnNpZ2h0VHlwZXM6IFtcbiAgICAgICAgICBJbnNpZ2h0VHlwZS5BUElfQ0FMTF9SQVRFLFxuICAgICAgICAgIEluc2lnaHRUeXBlLkFQSV9DQUxMX1JBVEUsXG4gICAgICAgIF0sXG4gICAgICB9KTtcbiAgICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkNsb3VkVHJhaWw6OlRyYWlsJywge1xuICAgICAgICBJbnNpZ2h0U2VsZWN0b3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgSW5zaWdodFR5cGU6ICdBcGlDYWxsUmF0ZUluc2lnaHQnLFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgSW5zaWdodFR5cGU6ICdBcGlDYWxsUmF0ZUluc2lnaHQnLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICB9KTtcbiAgICB9KTtcbiAgICB0ZXN0KCdBTEwgcHJvcGVydGllcycsICgpID0+IHtcbiAgICAgIGNvbnN0IHN0YWNrID0gZ2V0VGVzdFN0YWNrKCk7XG4gICAgICBuZXcgVHJhaWwoc3RhY2ssICdNeUFtYXppbmdDbG91ZFRyYWlsJywge1xuICAgICAgICBpbnNpZ2h0VHlwZXM6IFtcbiAgICAgICAgICBJbnNpZ2h0VHlwZS5BUElfQ0FMTF9SQVRFLFxuICAgICAgICAgIEluc2lnaHRUeXBlLkFQSV9FUlJPUl9SQVRFLFxuICAgICAgICBdLFxuICAgICAgfSk7XG4gICAgICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpDbG91ZFRyYWlsOjpUcmFpbCcsIHtcbiAgICAgICAgSW5zaWdodFNlbGVjdG9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIEluc2lnaHRUeXBlOiAnQXBpQ2FsbFJhdGVJbnNpZ2h0JyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIEluc2lnaHRUeXBlOiAnQXBpRXJyb3JSYXRlSW5zaWdodCcsXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbn0pOyJdfQ==