"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/* eslint-disable jest/expect-expect */
const assertions_1 = require("../../assertions");
const acm = require("../../aws-certificatemanager");
const aws_cloudwatch_1 = require("../../aws-cloudwatch");
const aws_ec2_1 = require("../../aws-ec2");
const iam = require("../../aws-iam");
const kms = require("../../aws-kms");
const logs = require("../../aws-logs");
const route53 = require("../../aws-route53");
const cdk_build_tools_1 = require("@aws-cdk/cdk-build-tools");
const core_1 = require("../../core");
const domain_1 = require("../lib/domain");
let app;
let stack;
beforeEach(() => {
    app = new core_1.App();
    stack = new core_1.Stack(app, 'Stack', {
        env: { account: '1234', region: 'testregion' },
    });
    jest.resetAllMocks();
});
const readActions = ['ESHttpGet', 'ESHttpHead'];
const writeActions = ['ESHttpDelete', 'ESHttpPost', 'ESHttpPut', 'ESHttpPatch'];
const readWriteActions = [
    ...readActions,
    ...writeActions,
];
(0, cdk_build_tools_1.testDeprecated)('connections throws if domain is placed inside a vpc', () => {
    expect(() => {
        new domain_1.Domain(stack, 'Domain', {
            version: domain_1.ElasticsearchVersion.V7_1,
        }).connections;
    }).toThrowError("Connections are only available on VPC enabled domains. Use the 'vpc' property to place a domain inside a VPC");
});
(0, cdk_build_tools_1.testDeprecated)('subnets and security groups can be provided when vpc is used', () => {
    const vpc = new aws_ec2_1.Vpc(stack, 'Vpc');
    const securityGroup = new aws_ec2_1.SecurityGroup(stack, 'CustomSecurityGroup', {
        vpc,
    });
    const domain = new domain_1.Domain(stack, 'Domain', {
        version: domain_1.ElasticsearchVersion.V7_10,
        vpc,
        vpcSubnets: [{ subnets: [vpc.privateSubnets[0]] }],
        securityGroups: [securityGroup],
    });
    expect(domain.connections.securityGroups[0].securityGroupId).toEqual(securityGroup.securityGroupId);
    assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::Elasticsearch::Domain', {
        VPCOptions: {
            SecurityGroupIds: [
                {
                    'Fn::GetAtt': [
                        'CustomSecurityGroupE5E500E5',
                        'GroupId',
                    ],
                },
            ],
            SubnetIds: [
                {
                    Ref: 'VpcPrivateSubnet1Subnet536B997A',
                },
            ],
        },
    });
});
(0, cdk_build_tools_1.testDeprecated)('default subnets and security group when vpc is used', () => {
    const vpc = new aws_ec2_1.Vpc(stack, 'Vpc');
    const domain = new domain_1.Domain(stack, 'Domain', {
        version: domain_1.ElasticsearchVersion.V7_10,
        vpc,
    });
    expect(stack.resolve(domain.connections.securityGroups[0].securityGroupId)).toEqual({ 'Fn::GetAtt': ['DomainSecurityGroup48AA5FD6', 'GroupId'] });
    assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::Elasticsearch::Domain', {
        VPCOptions: {
            SecurityGroupIds: [
                {
                    'Fn::GetAtt': [
                        'DomainSecurityGroup48AA5FD6',
                        'GroupId',
                    ],
                },
            ],
            SubnetIds: [
                {
                    Ref: 'VpcPrivateSubnet1Subnet536B997A',
                },
                {
                    Ref: 'VpcPrivateSubnet2Subnet3788AAA1',
                },
                {
                    Ref: 'VpcPrivateSubnet3SubnetF258B56E',
                },
            ],
        },
    });
});
(0, cdk_build_tools_1.testDeprecated)('default removalpolicy is retain', () => {
    new domain_1.Domain(stack, 'Domain', {
        version: domain_1.ElasticsearchVersion.V7_1,
    });
    assertions_1.Template.fromStack(stack).hasResource('AWS::Elasticsearch::Domain', {
        DeletionPolicy: 'Retain',
    });
});
(0, cdk_build_tools_1.testDeprecated)('grants kms permissions if needed', () => {
    const key = new kms.Key(stack, 'Key');
    new domain_1.Domain(stack, 'Domain', {
        version: domain_1.ElasticsearchVersion.V7_1,
        encryptionAtRest: {
            kmsKey: key,
        },
        // so that the access policy custom resource will be used.
        useUnsignedBasicAuth: true,
    });
    const expectedPolicy = {
        Statement: [
            {
                Action: [
                    'kms:List*',
                    'kms:Describe*',
                    'kms:CreateGrant',
                ],
                Effect: 'Allow',
                Resource: {
                    'Fn::GetAtt': [
                        'Key961B73FD',
                        'Arn',
                    ],
                },
            },
        ],
        Version: '2012-10-17',
    };
    const resources = assertions_1.Template.fromStack(stack).toJSON().Resources;
    expect(resources.AWS679f53fac002430cb0da5b7982bd2287ServiceRoleDefaultPolicyD28E1A5E.Properties.PolicyDocument).toStrictEqual(expectedPolicy);
});
(0, cdk_build_tools_1.testDeprecated)('minimal example renders correctly', () => {
    new domain_1.Domain(stack, 'Domain', { version: domain_1.ElasticsearchVersion.V7_1 });
    assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::Elasticsearch::Domain', {
        CognitoOptions: {
            Enabled: false,
        },
        EBSOptions: {
            EBSEnabled: true,
            VolumeSize: 10,
            VolumeType: 'gp2',
        },
        ElasticsearchClusterConfig: {
            DedicatedMasterEnabled: false,
            InstanceCount: 1,
            InstanceType: 'r5.large.elasticsearch',
            ZoneAwarenessEnabled: false,
        },
        ElasticsearchVersion: '7.1',
        EncryptionAtRestOptions: {
            Enabled: false,
        },
        LogPublishingOptions: {
            AUDIT_LOGS: assertions_1.Match.absent(),
            ES_APPLICATION_LOGS: assertions_1.Match.absent(),
            SEARCH_SLOW_LOGS: assertions_1.Match.absent(),
            INDEX_SLOW_LOGS: assertions_1.Match.absent(),
        },
        NodeToNodeEncryptionOptions: {
            Enabled: false,
        },
    });
});
(0, cdk_build_tools_1.testDeprecated)('can enable version upgrade update policy', () => {
    new domain_1.Domain(stack, 'Domain', {
        version: domain_1.ElasticsearchVersion.V7_1,
        enableVersionUpgrade: true,
    });
    assertions_1.Template.fromStack(stack).hasResource('AWS::Elasticsearch::Domain', {
        UpdatePolicy: {
            EnableVersionUpgrade: true,
        },
    });
});
(0, cdk_build_tools_1.testDeprecated)('can set a self-referencing custom policy', () => {
    const domain = new domain_1.Domain(stack, 'Domain', {
        version: domain_1.ElasticsearchVersion.V7_1,
    });
    domain.addAccessPolicies(new iam.PolicyStatement({
        actions: ['es:ESHttpPost', 'es:ESHttpPut'],
        effect: iam.Effect.ALLOW,
        principals: [new iam.AccountPrincipal('5678')],
        resources: [domain.domainArn, `${domain.domainArn}/*`],
    }));
    const expectedPolicy = {
        'Fn::Join': [
            '',
            [
                '{"action":"updateElasticsearchDomainConfig","service":"ES","parameters":{"DomainName":"',
                {
                    Ref: 'Domain66AC69E0',
                },
                '","AccessPolicies":"{\\"Statement\\":[{\\"Action\\":[\\"es:ESHttpPost\\",\\"es:ESHttpPut\\"],\\"Effect\\":\\"Allow\\",\\"Principal\\":{\\"AWS\\":\\"arn:',
                {
                    Ref: 'AWS::Partition',
                },
                ':iam::5678:root\\"},\\"Resource\\":[\\"',
                {
                    'Fn::GetAtt': [
                        'Domain66AC69E0',
                        'Arn',
                    ],
                },
                '\\",\\"',
                {
                    'Fn::GetAtt': [
                        'Domain66AC69E0',
                        'Arn',
                    ],
                },
                '/*\\"]}],\\"Version\\":\\"2012-10-17\\"}"},"outputPaths":["DomainConfig.ElasticsearchClusterConfig.AccessPolicies"],"physicalResourceId":{"id":"',
                {
                    Ref: 'Domain66AC69E0',
                },
                'AccessPolicy"}}',
            ],
        ],
    };
    assertions_1.Template.fromStack(stack).hasResourceProperties('Custom::ElasticsearchAccessPolicy', {
        ServiceToken: {
            'Fn::GetAtt': [
                'AWS679f53fac002430cb0da5b7982bd22872D164C4C',
                'Arn',
            ],
        },
        Create: expectedPolicy,
        Update: expectedPolicy,
    });
});
describe('UltraWarm instances', () => {
    (0, cdk_build_tools_1.testDeprecated)('can enable UltraWarm instances', () => {
        new domain_1.Domain(stack, 'Domain', {
            version: domain_1.ElasticsearchVersion.V7_1,
            capacity: {
                masterNodes: 2,
                warmNodes: 2,
            },
        });
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::Elasticsearch::Domain', {
            ElasticsearchClusterConfig: {
                DedicatedMasterEnabled: true,
                WarmEnabled: true,
                WarmCount: 2,
                WarmType: 'ultrawarm1.medium.elasticsearch',
            },
        });
    });
    (0, cdk_build_tools_1.testDeprecated)('can enable UltraWarm instances with specific instance type', () => {
        new domain_1.Domain(stack, 'Domain', {
            version: domain_1.ElasticsearchVersion.V7_1,
            capacity: {
                masterNodes: 2,
                warmNodes: 2,
                warmInstanceType: 'ultrawarm1.large.elasticsearch',
            },
        });
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::Elasticsearch::Domain', {
            ElasticsearchClusterConfig: {
                DedicatedMasterEnabled: true,
                WarmEnabled: true,
                WarmCount: 2,
                WarmType: 'ultrawarm1.large.elasticsearch',
            },
        });
    });
});
(0, cdk_build_tools_1.testDeprecated)('can use tokens in capacity configuration', () => {
    new domain_1.Domain(stack, 'Domain', {
        version: domain_1.ElasticsearchVersion.V7_10,
        capacity: {
            dataNodeInstanceType: core_1.Token.asString({ Ref: 'dataNodeInstanceType' }),
            dataNodes: core_1.Token.asNumber({ Ref: 'dataNodes' }),
            masterNodeInstanceType: core_1.Token.asString({ Ref: 'masterNodeInstanceType' }),
            masterNodes: core_1.Token.asNumber({ Ref: 'masterNodes' }),
            warmInstanceType: core_1.Token.asString({ Ref: 'warmInstanceType' }),
            warmNodes: core_1.Token.asNumber({ Ref: 'warmNodes' }),
        },
    });
    assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::Elasticsearch::Domain', {
        ElasticsearchClusterConfig: {
            InstanceCount: {
                Ref: 'dataNodes',
            },
            InstanceType: {
                Ref: 'dataNodeInstanceType',
            },
            DedicatedMasterEnabled: true,
            DedicatedMasterCount: {
                Ref: 'masterNodes',
            },
            DedicatedMasterType: {
                Ref: 'masterNodeInstanceType',
            },
            WarmEnabled: true,
            WarmCount: {
                Ref: 'warmNodes',
            },
            WarmType: {
                Ref: 'warmInstanceType',
            },
        },
    });
});
describe('log groups', () => {
    (0, cdk_build_tools_1.testDeprecated)('slowSearchLogEnabled should create a custom log group', () => {
        new domain_1.Domain(stack, 'Domain', {
            version: domain_1.ElasticsearchVersion.V7_4,
            logging: {
                slowSearchLogEnabled: true,
            },
        });
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::Elasticsearch::Domain', {
            LogPublishingOptions: {
                SEARCH_SLOW_LOGS: {
                    CloudWatchLogsLogGroupArn: {
                        'Fn::GetAtt': [
                            'DomainSlowSearchLogs5B35A97A',
                            'Arn',
                        ],
                    },
                    Enabled: true,
                },
                AUDIT_LOGS: assertions_1.Match.absent(),
                ES_APPLICATION_LOGS: assertions_1.Match.absent(),
                INDEX_SLOW_LOGS: assertions_1.Match.absent(),
            },
        });
    });
    (0, cdk_build_tools_1.testDeprecated)('slowIndexLogEnabled should create a custom log group', () => {
        new domain_1.Domain(stack, 'Domain', {
            version: domain_1.ElasticsearchVersion.V7_4,
            logging: {
                slowIndexLogEnabled: true,
            },
        });
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::Elasticsearch::Domain', {
            LogPublishingOptions: {
                INDEX_SLOW_LOGS: {
                    CloudWatchLogsLogGroupArn: {
                        'Fn::GetAtt': [
                            'DomainSlowIndexLogsFE2F1061',
                            'Arn',
                        ],
                    },
                    Enabled: true,
                },
                AUDIT_LOGS: assertions_1.Match.absent(),
                ES_APPLICATION_LOGS: assertions_1.Match.absent(),
                SEARCH_SLOW_LOGS: assertions_1.Match.absent(),
            },
        });
    });
    (0, cdk_build_tools_1.testDeprecated)('appLogEnabled should create a custom log group', () => {
        new domain_1.Domain(stack, 'Domain', {
            version: domain_1.ElasticsearchVersion.V7_4,
            logging: {
                appLogEnabled: true,
            },
        });
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::Elasticsearch::Domain', {
            LogPublishingOptions: {
                ES_APPLICATION_LOGS: {
                    CloudWatchLogsLogGroupArn: {
                        'Fn::GetAtt': [
                            'DomainAppLogs21698C1B',
                            'Arn',
                        ],
                    },
                    Enabled: true,
                },
                AUDIT_LOGS: assertions_1.Match.absent(),
                SEARCH_SLOW_LOGS: assertions_1.Match.absent(),
                INDEX_SLOW_LOGS: assertions_1.Match.absent(),
            },
        });
    });
    (0, cdk_build_tools_1.testDeprecated)('auditLogEnabled should create a custom log group', () => {
        new domain_1.Domain(stack, 'Domain', {
            version: domain_1.ElasticsearchVersion.V7_4,
            logging: {
                auditLogEnabled: true,
            },
            fineGrainedAccessControl: {
                masterUserName: 'username',
            },
            nodeToNodeEncryption: true,
            encryptionAtRest: {
                enabled: true,
            },
            enforceHttps: true,
        });
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::Elasticsearch::Domain', {
            LogPublishingOptions: {
                AUDIT_LOGS: {
                    CloudWatchLogsLogGroupArn: {
                        'Fn::GetAtt': [
                            'DomainAuditLogs608E0FA6',
                            'Arn',
                        ],
                    },
                    Enabled: true,
                },
                ES_APPLICATION_LOGS: assertions_1.Match.absent(),
                SEARCH_SLOW_LOGS: assertions_1.Match.absent(),
                INDEX_SLOW_LOGS: assertions_1.Match.absent(),
            },
        });
    });
    (0, cdk_build_tools_1.testDeprecated)('two domains with logging enabled can be created in same stack', () => {
        new domain_1.Domain(stack, 'Domain1', {
            version: domain_1.ElasticsearchVersion.V7_7,
            logging: {
                appLogEnabled: true,
                slowSearchLogEnabled: true,
                slowIndexLogEnabled: true,
            },
        });
        new domain_1.Domain(stack, 'Domain2', {
            version: domain_1.ElasticsearchVersion.V7_7,
            logging: {
                appLogEnabled: true,
                slowSearchLogEnabled: true,
                slowIndexLogEnabled: true,
            },
        });
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::Elasticsearch::Domain', {
            LogPublishingOptions: {
                ES_APPLICATION_LOGS: {
                    CloudWatchLogsLogGroupArn: {
                        'Fn::GetAtt': [
                            'Domain1AppLogs6E8D1D67',
                            'Arn',
                        ],
                    },
                    Enabled: true,
                },
                SEARCH_SLOW_LOGS: {
                    CloudWatchLogsLogGroupArn: {
                        'Fn::GetAtt': [
                            'Domain1SlowSearchLogs8F3B0506',
                            'Arn',
                        ],
                    },
                    Enabled: true,
                },
                INDEX_SLOW_LOGS: {
                    CloudWatchLogsLogGroupArn: {
                        'Fn::GetAtt': [
                            'Domain1SlowIndexLogs9354D098',
                            'Arn',
                        ],
                    },
                    Enabled: true,
                },
                AUDIT_LOGS: assertions_1.Match.absent(),
            },
        });
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::Elasticsearch::Domain', {
            LogPublishingOptions: {
                ES_APPLICATION_LOGS: {
                    CloudWatchLogsLogGroupArn: {
                        'Fn::GetAtt': [
                            'Domain2AppLogs810876E2',
                            'Arn',
                        ],
                    },
                    Enabled: true,
                },
                SEARCH_SLOW_LOGS: {
                    CloudWatchLogsLogGroupArn: {
                        'Fn::GetAtt': [
                            'Domain2SlowSearchLogs0C75F64B',
                            'Arn',
                        ],
                    },
                    Enabled: true,
                },
                INDEX_SLOW_LOGS: {
                    CloudWatchLogsLogGroupArn: {
                        'Fn::GetAtt': [
                            'Domain2SlowIndexLogs0CB900D0',
                            'Arn',
                        ],
                    },
                    Enabled: true,
                },
                AUDIT_LOGS: assertions_1.Match.absent(),
            },
        });
    });
    (0, cdk_build_tools_1.testDeprecated)('log group policy is uniquely named for each domain', () => {
        new domain_1.Domain(stack, 'Domain1', {
            version: domain_1.ElasticsearchVersion.V7_4,
            logging: {
                appLogEnabled: true,
            },
        });
        new domain_1.Domain(stack, 'Domain2', {
            version: domain_1.ElasticsearchVersion.V7_4,
            logging: {
                appLogEnabled: true,
            },
        });
        // Domain1
        assertions_1.Template.fromStack(stack).hasResourceProperties('Custom::CloudwatchLogResourcePolicy', {
            Create: {
                'Fn::Join': [
                    '',
                    [
                        '{"service":"CloudWatchLogs","action":"putResourcePolicy","parameters":{"policyName":"ESLogPolicyc836fd92f07ec41eb70c2f6f08dc4b43cfb7c25391","policyDocument":"{\\"Statement\\":[{\\"Action\\":[\\"logs:PutLogEvents\\",\\"logs:CreateLogStream\\"],\\"Effect\\":\\"Allow\\",\\"Principal\\":{\\"Service\\":\\"es.amazonaws.com\\"},\\"Resource\\":\\"',
                        {
                            'Fn::GetAtt': [
                                'Domain1AppLogs6E8D1D67',
                                'Arn',
                            ],
                        },
                        '\\"}],\\"Version\\":\\"2012-10-17\\"}"},"physicalResourceId":{"id":"ESLogGroupPolicyc836fd92f07ec41eb70c2f6f08dc4b43cfb7c25391"}}',
                    ],
                ],
            },
        });
        // Domain2
        assertions_1.Template.fromStack(stack).hasResourceProperties('Custom::CloudwatchLogResourcePolicy', {
            Create: {
                'Fn::Join': [
                    '',
                    [
                        '{"service":"CloudWatchLogs","action":"putResourcePolicy","parameters":{"policyName":"ESLogPolicyc8f05f015be3baf6ec1ee06cd1ee5cc8706ebbe5b2","policyDocument":"{\\"Statement\\":[{\\"Action\\":[\\"logs:PutLogEvents\\",\\"logs:CreateLogStream\\"],\\"Effect\\":\\"Allow\\",\\"Principal\\":{\\"Service\\":\\"es.amazonaws.com\\"},\\"Resource\\":\\"',
                        {
                            'Fn::GetAtt': [
                                'Domain2AppLogs810876E2',
                                'Arn',
                            ],
                        },
                        '\\"}],\\"Version\\":\\"2012-10-17\\"}"},"physicalResourceId":{"id":"ESLogGroupPolicyc8f05f015be3baf6ec1ee06cd1ee5cc8706ebbe5b2"}}',
                    ],
                ],
            },
        });
    });
    (0, cdk_build_tools_1.testDeprecated)('enabling audit logs throws without fine grained access control enabled', () => {
        expect(() => new domain_1.Domain(stack, 'Domain', {
            version: domain_1.ElasticsearchVersion.V6_7,
            logging: {
                auditLogEnabled: true,
            },
        })).toThrow(/Fine-grained access control is required when audit logs publishing is enabled\./);
    });
    (0, cdk_build_tools_1.testDeprecated)('slowSearchLogGroup should use a custom log group', () => {
        new domain_1.Domain(stack, 'Domain', {
            version: domain_1.ElasticsearchVersion.V7_4,
            logging: {
                slowSearchLogEnabled: true,
                slowSearchLogGroup: new logs.LogGroup(stack, 'SlowSearchLogs', {
                    retention: logs.RetentionDays.THREE_MONTHS,
                }),
            },
        });
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::Elasticsearch::Domain', {
            LogPublishingOptions: {
                SEARCH_SLOW_LOGS: {
                    CloudWatchLogsLogGroupArn: {
                        'Fn::GetAtt': [
                            'SlowSearchLogsE00DC2E7',
                            'Arn',
                        ],
                    },
                    Enabled: true,
                },
                AUDIT_LOGS: assertions_1.Match.absent(),
                ES_APPLICATION_LOGS: assertions_1.Match.absent(),
                INDEX_SLOW_LOGS: assertions_1.Match.absent(),
            },
        });
    });
    (0, cdk_build_tools_1.testDeprecated)('slowIndexLogEnabled should use a custom log group', () => {
        new domain_1.Domain(stack, 'Domain', {
            version: domain_1.ElasticsearchVersion.V7_4,
            logging: {
                slowIndexLogEnabled: true,
                slowIndexLogGroup: new logs.LogGroup(stack, 'SlowIndexLogs', {
                    retention: logs.RetentionDays.THREE_MONTHS,
                }),
            },
        });
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::Elasticsearch::Domain', {
            LogPublishingOptions: {
                INDEX_SLOW_LOGS: {
                    CloudWatchLogsLogGroupArn: {
                        'Fn::GetAtt': [
                            'SlowIndexLogsAD49DED0',
                            'Arn',
                        ],
                    },
                    Enabled: true,
                },
                AUDIT_LOGS: assertions_1.Match.absent(),
                ES_APPLICATION_LOGS: assertions_1.Match.absent(),
                SEARCH_SLOW_LOGS: assertions_1.Match.absent(),
            },
        });
    });
    (0, cdk_build_tools_1.testDeprecated)('appLogGroup should use a custom log group', () => {
        new domain_1.Domain(stack, 'Domain', {
            version: domain_1.ElasticsearchVersion.V7_4,
            logging: {
                appLogEnabled: true,
                appLogGroup: new logs.LogGroup(stack, 'AppLogs', {
                    retention: logs.RetentionDays.THREE_MONTHS,
                }),
            },
        });
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::Elasticsearch::Domain', {
            LogPublishingOptions: {
                ES_APPLICATION_LOGS: {
                    CloudWatchLogsLogGroupArn: {
                        'Fn::GetAtt': [
                            'AppLogsC5DF83A6',
                            'Arn',
                        ],
                    },
                    Enabled: true,
                },
                AUDIT_LOGS: assertions_1.Match.absent(),
                SEARCH_SLOW_LOGS: assertions_1.Match.absent(),
                INDEX_SLOW_LOGS: assertions_1.Match.absent(),
            },
        });
    });
    (0, cdk_build_tools_1.testDeprecated)('auditLOgGroup should use a custom log group', () => {
        new domain_1.Domain(stack, 'Domain', {
            version: domain_1.ElasticsearchVersion.V7_4,
            fineGrainedAccessControl: {
                masterUserName: 'username',
            },
            nodeToNodeEncryption: true,
            encryptionAtRest: {
                enabled: true,
            },
            enforceHttps: true,
            logging: {
                auditLogEnabled: true,
                auditLogGroup: new logs.LogGroup(stack, 'AuditLogs', {
                    retention: logs.RetentionDays.THREE_MONTHS,
                }),
            },
        });
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::Elasticsearch::Domain', {
            LogPublishingOptions: {
                AUDIT_LOGS: {
                    CloudWatchLogsLogGroupArn: {
                        'Fn::GetAtt': [
                            'AuditLogsB945E340',
                            'Arn',
                        ],
                    },
                    Enabled: true,
                },
                ES_APPLICATION_LOGS: assertions_1.Match.absent(),
                SEARCH_SLOW_LOGS: assertions_1.Match.absent(),
                INDEX_SLOW_LOGS: assertions_1.Match.absent(),
            },
        });
    });
});
describe('grants', () => {
    (0, cdk_build_tools_1.testDeprecated)('"grantRead" allows read actions associated with this domain resource', () => {
        testGrant(readActions, (p, d) => d.grantRead(p));
    });
    (0, cdk_build_tools_1.testDeprecated)('"grantWrite" allows write actions associated with this domain resource', () => {
        testGrant(writeActions, (p, d) => d.grantWrite(p));
    });
    (0, cdk_build_tools_1.testDeprecated)('"grantReadWrite" allows read and write actions associated with this domain resource', () => {
        testGrant(readWriteActions, (p, d) => d.grantReadWrite(p));
    });
    (0, cdk_build_tools_1.testDeprecated)('"grantIndexRead" allows read actions associated with an index in this domain resource', () => {
        testGrant(readActions, (p, d) => d.grantIndexRead('my-index', p), false, ['/my-index', '/my-index/*']);
    });
    (0, cdk_build_tools_1.testDeprecated)('"grantIndexWrite" allows write actions associated with an index in this domain resource', () => {
        testGrant(writeActions, (p, d) => d.grantIndexWrite('my-index', p), false, ['/my-index', '/my-index/*']);
    });
    (0, cdk_build_tools_1.testDeprecated)('"grantIndexReadWrite" allows read and write actions associated with an index in this domain resource', () => {
        testGrant(readWriteActions, (p, d) => d.grantIndexReadWrite('my-index', p), false, ['/my-index', '/my-index/*']);
    });
    (0, cdk_build_tools_1.testDeprecated)('"grantPathRead" allows read actions associated with a given path in this domain resource', () => {
        testGrant(readActions, (p, d) => d.grantPathRead('my-index/my-path', p), false, ['/my-index/my-path']);
    });
    (0, cdk_build_tools_1.testDeprecated)('"grantPathWrite" allows write actions associated with a given path in this domain resource', () => {
        testGrant(writeActions, (p, d) => d.grantPathWrite('my-index/my-path', p), false, ['/my-index/my-path']);
    });
    (0, cdk_build_tools_1.testDeprecated)('"grantPathReadWrite" allows read and write actions associated with a given path in this domain resource', () => {
        testGrant(readWriteActions, (p, d) => d.grantPathReadWrite('my-index/my-path', p), false, ['/my-index/my-path']);
    });
    (0, cdk_build_tools_1.testDeprecated)('"grant" for an imported domain', () => {
        const domainEndpoint = 'https://test-domain-2w2x2u3tifly-jcjotrt6f7otem4sqcwbch3c4u.testregion.es.amazonaws.com';
        const domain = domain_1.Domain.fromDomainEndpoint(stack, 'Domain', domainEndpoint);
        const user = new iam.User(stack, 'user');
        domain.grantReadWrite(user);
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::IAM::Policy', {
            PolicyDocument: {
                Statement: [
                    {
                        Action: [
                            'es:ESHttpGet',
                            'es:ESHttpHead',
                            'es:ESHttpDelete',
                            'es:ESHttpPost',
                            'es:ESHttpPut',
                            'es:ESHttpPatch',
                        ],
                        Effect: 'Allow',
                        Resource: [
                            {
                                'Fn::Join': [
                                    '',
                                    [
                                        'arn:',
                                        {
                                            Ref: 'AWS::Partition',
                                        },
                                        ':es:testregion:1234:domain/test-domain-2w2x2u3tifly',
                                    ],
                                ],
                            },
                            {
                                'Fn::Join': [
                                    '',
                                    [
                                        'arn:',
                                        {
                                            Ref: 'AWS::Partition',
                                        },
                                        ':es:testregion:1234:domain/test-domain-2w2x2u3tifly/*',
                                    ],
                                ],
                            },
                        ],
                    },
                ],
                Version: '2012-10-17',
            },
            PolicyName: 'userDefaultPolicy083DF682',
            Users: [
                {
                    Ref: 'user2C2B57AE',
                },
            ],
        });
    });
});
describe('metrics', () => {
    (0, cdk_build_tools_1.testDeprecated)('Can use metricClusterStatusRed on an Elasticsearch Domain', () => {
        testMetric((domain) => domain.metricClusterStatusRed(), 'ClusterStatus.red', aws_cloudwatch_1.Statistic.MAXIMUM);
    });
    (0, cdk_build_tools_1.testDeprecated)('Can use metricClusterStatusYellow on an Elasticsearch Domain', () => {
        testMetric((domain) => domain.metricClusterStatusYellow(), 'ClusterStatus.yellow', aws_cloudwatch_1.Statistic.MAXIMUM);
    });
    (0, cdk_build_tools_1.testDeprecated)('Can use metricFreeStorageSpace on an Elasticsearch Domain', () => {
        testMetric((domain) => domain.metricFreeStorageSpace(), 'FreeStorageSpace', aws_cloudwatch_1.Statistic.MINIMUM);
    });
    (0, cdk_build_tools_1.testDeprecated)('Can use metricClusterIndexWriteBlocked on an Elasticsearch Domain', () => {
        testMetric((domain) => domain.metricClusterIndexWritesBlocked(), 'ClusterIndexWritesBlocked', aws_cloudwatch_1.Statistic.MAXIMUM, core_1.Duration.minutes(1));
    });
    (0, cdk_build_tools_1.testDeprecated)('Can use metricNodes on an Elasticsearch Domain', () => {
        testMetric((domain) => domain.metricNodes(), 'Nodes', aws_cloudwatch_1.Statistic.MINIMUM, core_1.Duration.hours(1));
    });
    (0, cdk_build_tools_1.testDeprecated)('Can use metricAutomatedSnapshotFailure on an Elasticsearch Domain', () => {
        testMetric((domain) => domain.metricAutomatedSnapshotFailure(), 'AutomatedSnapshotFailure', aws_cloudwatch_1.Statistic.MAXIMUM);
    });
    (0, cdk_build_tools_1.testDeprecated)('Can use metricCPUUtilization on an Elasticsearch Domain', () => {
        testMetric((domain) => domain.metricCPUUtilization(), 'CPUUtilization', aws_cloudwatch_1.Statistic.MAXIMUM);
    });
    (0, cdk_build_tools_1.testDeprecated)('Can use metricJVMMemoryPressure on an Elasticsearch Domain', () => {
        testMetric((domain) => domain.metricJVMMemoryPressure(), 'JVMMemoryPressure', aws_cloudwatch_1.Statistic.MAXIMUM);
    });
    (0, cdk_build_tools_1.testDeprecated)('Can use metricMasterCPUUtilization on an Elasticsearch Domain', () => {
        testMetric((domain) => domain.metricMasterCPUUtilization(), 'MasterCPUUtilization', aws_cloudwatch_1.Statistic.MAXIMUM);
    });
    (0, cdk_build_tools_1.testDeprecated)('Can use metricMasterJVMMemoryPressure on an Elasticsearch Domain', () => {
        testMetric((domain) => domain.metricMasterJVMMemoryPressure(), 'MasterJVMMemoryPressure', aws_cloudwatch_1.Statistic.MAXIMUM);
    });
    (0, cdk_build_tools_1.testDeprecated)('Can use metricKMSKeyError on an Elasticsearch Domain', () => {
        testMetric((domain) => domain.metricKMSKeyError(), 'KMSKeyError', aws_cloudwatch_1.Statistic.MAXIMUM);
    });
    (0, cdk_build_tools_1.testDeprecated)('Can use metricKMSKeyInaccessible on an Elasticsearch Domain', () => {
        testMetric((domain) => domain.metricKMSKeyInaccessible(), 'KMSKeyInaccessible', aws_cloudwatch_1.Statistic.MAXIMUM);
    });
    (0, cdk_build_tools_1.testDeprecated)('Can use metricSearchableDocuments on an Elasticsearch Domain', () => {
        testMetric((domain) => domain.metricSearchableDocuments(), 'SearchableDocuments', aws_cloudwatch_1.Statistic.MAXIMUM);
    });
    (0, cdk_build_tools_1.testDeprecated)('Can use metricSearchLatency on an Elasticsearch Domain', () => {
        testMetric((domain) => domain.metricSearchLatency(), 'SearchLatency', 'p99');
    });
    (0, cdk_build_tools_1.testDeprecated)('Can use metricIndexingLatency on an Elasticsearch Domain', () => {
        testMetric((domain) => domain.metricIndexingLatency(), 'IndexingLatency', 'p99');
    });
});
describe('import', () => {
    (0, cdk_build_tools_1.testDeprecated)('static fromDomainEndpoint(endpoint) allows importing an external/existing domain', () => {
        const domainName = 'test-domain-2w2x2u3tifly';
        const domainEndpointWithoutHttps = `${domainName}-jcjotrt6f7otem4sqcwbch3c4u.testregion.es.amazonaws.com`;
        const domainEndpoint = `https://${domainEndpointWithoutHttps}`;
        const imported = domain_1.Domain.fromDomainEndpoint(stack, 'Domain', domainEndpoint);
        expect(imported.domainName).toEqual(domainName);
        expect(imported.domainArn).toMatch(RegExp(`es:testregion:1234:domain/${domainName}$`));
        expect(imported.domainEndpoint).toEqual(domainEndpointWithoutHttps);
        assertions_1.Template.fromStack(stack).resourceCountIs('AWS::Elasticsearch::Domain', 0);
    });
    (0, cdk_build_tools_1.testDeprecated)('static fromDomainAttributes(attributes) allows importing an external/existing domain', () => {
        const domainName = 'test-domain-2w2x2u3tifly';
        const domainArn = `arn:aws:es:testregion:1234:domain/${domainName}`;
        const domainEndpointWithoutHttps = `${domainName}-jcjotrt6f7otem4sqcwbch3c4u.testregion.es.amazonaws.com`;
        const domainEndpoint = `https://${domainEndpointWithoutHttps}`;
        const imported = domain_1.Domain.fromDomainAttributes(stack, 'Domain', {
            domainArn,
            domainEndpoint,
        });
        expect(imported.domainName).toEqual(domainName);
        expect(imported.domainArn).toEqual(domainArn);
        expect(imported.domainEndpoint).toEqual(domainEndpointWithoutHttps);
        assertions_1.Template.fromStack(stack).resourceCountIs('AWS::Elasticsearch::Domain', 0);
    });
    (0, cdk_build_tools_1.testDeprecated)('static fromDomainAttributes(attributes) allows importing with token arn and endpoint', () => {
        const domainArn = new core_1.CfnParameter(stack, 'domainArn', { type: 'String' }).valueAsString;
        const domainEndpoint = new core_1.CfnParameter(stack, 'domainEndpoint', { type: 'String' }).valueAsString;
        const imported = domain_1.Domain.fromDomainAttributes(stack, 'Domain', {
            domainArn,
            domainEndpoint,
        });
        const expectedDomainName = {
            'Fn::Select': [
                1,
                {
                    'Fn::Split': [
                        '/',
                        {
                            'Fn::Select': [
                                5,
                                {
                                    'Fn::Split': [
                                        ':',
                                        {
                                            Ref: 'domainArn',
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            ],
        };
        expect(stack.resolve(imported.domainName)).toEqual(expectedDomainName);
        expect(imported.domainArn).toEqual(domainArn);
        expect(imported.domainEndpoint).toEqual(domainEndpoint);
        assertions_1.Template.fromStack(stack).resourceCountIs('AWS::Elasticsearch::Domain', 0);
    });
});
describe('advanced security options', () => {
    const masterUserArn = 'arn:aws:iam::123456789012:user/JohnDoe';
    const masterUserName = 'JohnDoe';
    const password = 'password';
    const masterUserPassword = core_1.SecretValue.unsafePlainText(password);
    (0, cdk_build_tools_1.testDeprecated)('enable fine-grained access control with a master user ARN', () => {
        new domain_1.Domain(stack, 'Domain', {
            version: domain_1.ElasticsearchVersion.V7_1,
            fineGrainedAccessControl: {
                masterUserArn,
            },
            encryptionAtRest: {
                enabled: true,
            },
            nodeToNodeEncryption: true,
            enforceHttps: true,
        });
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::Elasticsearch::Domain', {
            AdvancedSecurityOptions: {
                Enabled: true,
                InternalUserDatabaseEnabled: false,
                MasterUserOptions: {
                    MasterUserARN: masterUserArn,
                },
            },
            EncryptionAtRestOptions: {
                Enabled: true,
            },
            NodeToNodeEncryptionOptions: {
                Enabled: true,
            },
            DomainEndpointOptions: {
                EnforceHTTPS: true,
            },
        });
    });
    (0, cdk_build_tools_1.testDeprecated)('enable fine-grained access control with a master user name and password', () => {
        new domain_1.Domain(stack, 'Domain', {
            version: domain_1.ElasticsearchVersion.V7_1,
            fineGrainedAccessControl: {
                masterUserName,
                masterUserPassword,
            },
            encryptionAtRest: {
                enabled: true,
            },
            nodeToNodeEncryption: true,
            enforceHttps: true,
        });
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::Elasticsearch::Domain', {
            AdvancedSecurityOptions: {
                Enabled: true,
                InternalUserDatabaseEnabled: true,
                MasterUserOptions: {
                    MasterUserName: masterUserName,
                    MasterUserPassword: password,
                },
            },
            EncryptionAtRestOptions: {
                Enabled: true,
            },
            NodeToNodeEncryptionOptions: {
                Enabled: true,
            },
            DomainEndpointOptions: {
                EnforceHTTPS: true,
            },
        });
    });
    (0, cdk_build_tools_1.testDeprecated)('enable fine-grained access control with a master user name and dynamically generated password', () => {
        new domain_1.Domain(stack, 'Domain', {
            version: domain_1.ElasticsearchVersion.V7_1,
            fineGrainedAccessControl: {
                masterUserName,
            },
            encryptionAtRest: {
                enabled: true,
            },
            nodeToNodeEncryption: true,
            enforceHttps: true,
        });
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::Elasticsearch::Domain', {
            AdvancedSecurityOptions: {
                Enabled: true,
                InternalUserDatabaseEnabled: true,
                MasterUserOptions: {
                    MasterUserName: masterUserName,
                    MasterUserPassword: {
                        'Fn::Join': [
                            '',
                            [
                                '{{resolve:secretsmanager:',
                                {
                                    Ref: 'DomainMasterUserBFAFA7D9',
                                },
                                ':SecretString:password::}}',
                            ],
                        ],
                    },
                },
            },
            EncryptionAtRestOptions: {
                Enabled: true,
            },
            NodeToNodeEncryptionOptions: {
                Enabled: true,
            },
            DomainEndpointOptions: {
                EnforceHTTPS: true,
            },
        });
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::SecretsManager::Secret', {
            GenerateSecretString: {
                GenerateStringKey: 'password',
            },
        });
    });
    (0, cdk_build_tools_1.testDeprecated)('enabling fine-grained access control throws with Elasticsearch < 6.7', () => {
        expect(() => new domain_1.Domain(stack, 'Domain', {
            version: domain_1.ElasticsearchVersion.V6_5,
            fineGrainedAccessControl: {
                masterUserArn,
            },
            encryptionAtRest: {
                enabled: true,
            },
            nodeToNodeEncryption: true,
            enforceHttps: true,
        })).toThrow(/Fine-grained access control requires Elasticsearch version 6\.7 or later/);
    });
    (0, cdk_build_tools_1.testDeprecated)('enabling fine-grained access control throws without node-to-node encryption enabled', () => {
        expect(() => new domain_1.Domain(stack, 'Domain', {
            version: domain_1.ElasticsearchVersion.V7_7,
            fineGrainedAccessControl: {
                masterUserArn,
            },
            encryptionAtRest: {
                enabled: true,
            },
            nodeToNodeEncryption: false,
            enforceHttps: true,
        })).toThrow(/Node-to-node encryption is required when fine-grained access control is enabled/);
    });
    (0, cdk_build_tools_1.testDeprecated)('enabling fine-grained access control throws without encryption-at-rest enabled', () => {
        expect(() => new domain_1.Domain(stack, 'Domain', {
            version: domain_1.ElasticsearchVersion.V7_7,
            fineGrainedAccessControl: {
                masterUserArn,
            },
            encryptionAtRest: {
                enabled: false,
            },
            nodeToNodeEncryption: true,
            enforceHttps: true,
        })).toThrow(/Encryption-at-rest is required when fine-grained access control is enabled/);
    });
    (0, cdk_build_tools_1.testDeprecated)('enabling fine-grained access control throws without enforceHttps enabled', () => {
        expect(() => new domain_1.Domain(stack, 'Domain', {
            version: domain_1.ElasticsearchVersion.V7_7,
            fineGrainedAccessControl: {
                masterUserArn,
            },
            encryptionAtRest: {
                enabled: true,
            },
            nodeToNodeEncryption: true,
            enforceHttps: false,
        })).toThrow(/Enforce HTTPS is required when fine-grained access control is enabled/);
    });
});
describe('custom endpoints', () => {
    const customDomainName = 'search.example.com';
    (0, cdk_build_tools_1.testDeprecated)('custom domain without hosted zone and default cert', () => {
        new domain_1.Domain(stack, 'Domain', {
            version: domain_1.ElasticsearchVersion.V7_1,
            nodeToNodeEncryption: true,
            enforceHttps: true,
            customEndpoint: {
                domainName: customDomainName,
            },
        });
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::Elasticsearch::Domain', {
            DomainEndpointOptions: {
                EnforceHTTPS: true,
                CustomEndpointEnabled: true,
                CustomEndpoint: customDomainName,
                CustomEndpointCertificateArn: {
                    Ref: 'DomainCustomEndpointCertificateD080A69E', // Auto-generated certificate
                },
            },
        });
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::CertificateManager::Certificate', {
            DomainName: customDomainName,
            ValidationMethod: 'EMAIL',
        });
    });
    (0, cdk_build_tools_1.testDeprecated)('custom domain with hosted zone and default cert', () => {
        const zone = new route53.HostedZone(stack, 'DummyZone', { zoneName: 'example.com' });
        new domain_1.Domain(stack, 'Domain', {
            version: domain_1.ElasticsearchVersion.V7_1,
            nodeToNodeEncryption: true,
            enforceHttps: true,
            customEndpoint: {
                domainName: customDomainName,
                hostedZone: zone,
            },
        });
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::Elasticsearch::Domain', {
            DomainEndpointOptions: {
                EnforceHTTPS: true,
                CustomEndpointEnabled: true,
                CustomEndpoint: customDomainName,
                CustomEndpointCertificateArn: {
                    Ref: 'DomainCustomEndpointCertificateD080A69E', // Auto-generated certificate
                },
            },
        });
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::CertificateManager::Certificate', {
            DomainName: customDomainName,
            DomainValidationOptions: [
                {
                    DomainName: customDomainName,
                    HostedZoneId: {
                        Ref: 'DummyZone03E0FE81',
                    },
                },
            ],
            ValidationMethod: 'DNS',
        });
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::Route53::RecordSet', {
            Name: 'search.example.com.',
            Type: 'CNAME',
            HostedZoneId: {
                Ref: 'DummyZone03E0FE81',
            },
            ResourceRecords: [
                {
                    'Fn::GetAtt': [
                        'Domain66AC69E0',
                        'DomainEndpoint',
                    ],
                },
            ],
        });
    });
    (0, cdk_build_tools_1.testDeprecated)('custom domain with hosted zone and given cert', () => {
        const zone = new route53.HostedZone(stack, 'DummyZone', {
            zoneName: 'example.com',
        });
        const certificate = new acm.Certificate(stack, 'DummyCert', {
            domainName: customDomainName,
        });
        new domain_1.Domain(stack, 'Domain', {
            version: domain_1.ElasticsearchVersion.V7_1,
            nodeToNodeEncryption: true,
            enforceHttps: true,
            customEndpoint: {
                domainName: customDomainName,
                hostedZone: zone,
                certificate,
            },
        });
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::Elasticsearch::Domain', {
            DomainEndpointOptions: {
                EnforceHTTPS: true,
                CustomEndpointEnabled: true,
                CustomEndpoint: customDomainName,
                CustomEndpointCertificateArn: {
                    Ref: 'DummyCertFA37670B',
                },
            },
        });
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::Route53::RecordSet', {
            Name: 'search.example.com.',
            Type: 'CNAME',
            HostedZoneId: {
                Ref: 'DummyZone03E0FE81',
            },
            ResourceRecords: [
                {
                    'Fn::GetAtt': [
                        'Domain66AC69E0',
                        'DomainEndpoint',
                    ],
                },
            ],
        });
    });
});
describe('custom error responses', () => {
    (0, cdk_build_tools_1.testDeprecated)('error when availabilityZoneCount does not match vpcOptions.subnets length', () => {
        const vpc = new aws_ec2_1.Vpc(stack, 'Vpc', {
            maxAzs: 1,
        });
        expect(() => new domain_1.Domain(stack, 'Domain', {
            version: domain_1.ElasticsearchVersion.V7_4,
            zoneAwareness: {
                enabled: true,
                availabilityZoneCount: 2,
            },
            vpc,
        })).toThrow(/you need to provide a subnet for each AZ you are using/);
    });
    (0, cdk_build_tools_1.testDeprecated)('error when master, data or Ultra Warm instance types do not end with .elasticsearch', () => {
        const error = /instance types must end with ".elasticsearch"/;
        expect(() => new domain_1.Domain(stack, 'Domain1', {
            version: domain_1.ElasticsearchVersion.V7_4,
            capacity: {
                masterNodeInstanceType: 'c5.large',
            },
        })).toThrow(error);
        expect(() => new domain_1.Domain(stack, 'Domain2', {
            version: domain_1.ElasticsearchVersion.V7_4,
            capacity: {
                dataNodeInstanceType: 'c5.2xlarge',
            },
        })).toThrow(error);
        expect(() => new domain_1.Domain(stack, 'Domain3', {
            version: domain_1.ElasticsearchVersion.V7_4,
            capacity: {
                warmInstanceType: 'ultrawarm1.medium',
            },
        })).toThrow(error);
    });
    (0, cdk_build_tools_1.testDeprecated)('error when Ultra Warm instance types do not start with ultrawarm', () => {
        const error = /UltraWarm node instance type must start with "ultrawarm"./;
        expect(() => new domain_1.Domain(stack, 'Domain1', {
            version: domain_1.ElasticsearchVersion.V7_4,
            capacity: {
                warmInstanceType: 't3.small.elasticsearch',
            },
        })).toThrow(error);
    });
    (0, cdk_build_tools_1.testDeprecated)('error when elasticsearchVersion is unsupported/unknown', () => {
        expect(() => new domain_1.Domain(stack, 'Domain1', {
            version: domain_1.ElasticsearchVersion.of('5.4'),
        })).toThrow(/Unknown Elasticsearch version: 5\.4/);
    });
    (0, cdk_build_tools_1.testDeprecated)('error when invalid domain name is given', () => {
        expect(() => new domain_1.Domain(stack, 'Domain1', {
            version: domain_1.ElasticsearchVersion.V7_4,
            domainName: 'InvalidName',
        })).toThrow(/Valid characters are a-z/);
        expect(() => new domain_1.Domain(stack, 'Domain2', {
            version: domain_1.ElasticsearchVersion.V7_4,
            domainName: 'a'.repeat(29),
        })).toThrow(/It must be between 3 and 28 characters/);
        expect(() => new domain_1.Domain(stack, 'Domain3', {
            version: domain_1.ElasticsearchVersion.V7_4,
            domainName: '123domain',
        })).toThrow(/It must start with a lowercase letter/);
    });
    (0, cdk_build_tools_1.testDeprecated)('error when error log publishing is enabled for elasticsearch version < 5.1', () => {
        const error = /Error logs publishing requires Elasticsearch version 5.1 or later/;
        expect(() => new domain_1.Domain(stack, 'Domain1', {
            version: domain_1.ElasticsearchVersion.V2_3,
            logging: {
                appLogEnabled: true,
            },
        })).toThrow(error);
    });
    (0, cdk_build_tools_1.testDeprecated)('error when encryption at rest is enabled for elasticsearch version < 5.1', () => {
        expect(() => new domain_1.Domain(stack, 'Domain1', {
            version: domain_1.ElasticsearchVersion.V2_3,
            encryptionAtRest: {
                enabled: true,
            },
        })).toThrow(/Encryption of data at rest requires Elasticsearch version 5.1 or later/);
    });
    (0, cdk_build_tools_1.testDeprecated)('error when cognito for kibana is enabled for elasticsearch version < 5.1', () => {
        const user = new iam.User(stack, 'user');
        expect(() => new domain_1.Domain(stack, 'Domain1', {
            version: domain_1.ElasticsearchVersion.V2_3,
            cognitoKibanaAuth: {
                identityPoolId: 'test-identity-pool-id',
                role: new iam.Role(stack, 'Role', { assumedBy: user }),
                userPoolId: 'test-user-pool-id',
            },
        })).toThrow(/Cognito authentication for Kibana requires Elasticsearch version 5.1 or later/);
    });
    (0, cdk_build_tools_1.testDeprecated)('error when C5, I3, M5, or R5 instance types are specified for elasticsearch version < 5.1', () => {
        const error = /C5, I3, M5, and R5 instance types require Elasticsearch version 5.1 or later/;
        expect(() => new domain_1.Domain(stack, 'Domain1', {
            version: domain_1.ElasticsearchVersion.V2_3,
            capacity: {
                masterNodeInstanceType: 'c5.medium.elasticsearch',
            },
        })).toThrow(error);
        expect(() => new domain_1.Domain(stack, 'Domain2', {
            version: domain_1.ElasticsearchVersion.V1_5,
            capacity: {
                dataNodeInstanceType: 'i3.2xlarge.elasticsearch',
            },
        })).toThrow(error);
        expect(() => new domain_1.Domain(stack, 'Domain3', {
            version: domain_1.ElasticsearchVersion.V1_5,
            capacity: {
                dataNodeInstanceType: 'm5.2xlarge.elasticsearch',
            },
        })).toThrow(error);
        expect(() => new domain_1.Domain(stack, 'Domain4', {
            version: domain_1.ElasticsearchVersion.V1_5,
            capacity: {
                masterNodeInstanceType: 'r5.2xlarge.elasticsearch',
            },
        })).toThrow(error);
    });
    (0, cdk_build_tools_1.testDeprecated)('error when node to node encryption is enabled for elasticsearch version < 6.0', () => {
        expect(() => new domain_1.Domain(stack, 'Domain1', {
            version: domain_1.ElasticsearchVersion.V5_6,
            nodeToNodeEncryption: true,
        })).toThrow(/Node-to-node encryption requires Elasticsearch version 6.0 or later/);
    });
    (0, cdk_build_tools_1.testDeprecated)('error when i3 or r6g instance types are specified with EBS enabled', () => {
        expect(() => new domain_1.Domain(stack, 'Domain1', {
            version: domain_1.ElasticsearchVersion.V7_4,
            capacity: {
                dataNodeInstanceType: 'i3.2xlarge.elasticsearch',
            },
            ebs: {
                volumeSize: 100,
                volumeType: aws_ec2_1.EbsDeviceVolumeType.GENERAL_PURPOSE_SSD,
            },
        })).toThrow(/I3 and R6GD instance types do not support EBS storage volumes/);
        expect(() => new domain_1.Domain(stack, 'Domain2', {
            version: domain_1.ElasticsearchVersion.V7_4,
            capacity: {
                dataNodeInstanceType: 'r6gd.large.elasticsearch',
            },
            ebs: {
                volumeSize: 100,
                volumeType: aws_ec2_1.EbsDeviceVolumeType.GENERAL_PURPOSE_SSD,
            },
        })).toThrow(/I3 and R6GD instance types do not support EBS storage volumes/);
    });
    (0, cdk_build_tools_1.testDeprecated)('error when m3, r3, or t2 instance types are specified with encryption at rest enabled', () => {
        const error = /M3, R3, and T2 instance types do not support encryption of data at rest/;
        expect(() => new domain_1.Domain(stack, 'Domain1', {
            version: domain_1.ElasticsearchVersion.V7_4,
            capacity: {
                masterNodeInstanceType: 'm3.2xlarge.elasticsearch',
            },
            encryptionAtRest: {
                enabled: true,
            },
        })).toThrow(error);
        expect(() => new domain_1.Domain(stack, 'Domain2', {
            version: domain_1.ElasticsearchVersion.V7_4,
            capacity: {
                dataNodeInstanceType: 'r3.2xlarge.elasticsearch',
            },
            encryptionAtRest: {
                enabled: true,
            },
        })).toThrow(error);
        expect(() => new domain_1.Domain(stack, 'Domain3', {
            version: domain_1.ElasticsearchVersion.V7_4,
            capacity: {
                masterNodeInstanceType: 't2.2xlarge.elasticsearch',
            },
            encryptionAtRest: {
                enabled: true,
            },
        })).toThrow(error);
    });
    (0, cdk_build_tools_1.testDeprecated)('error when t2.micro is specified with elasticsearch version > 2.3', () => {
        expect(() => new domain_1.Domain(stack, 'Domain1', {
            version: domain_1.ElasticsearchVersion.V6_7,
            capacity: {
                masterNodeInstanceType: 't2.micro.elasticsearch',
            },
        })).toThrow(/t2.micro.elasticsearch instance type supports only Elasticsearch 1.5 and 2.3/);
    });
    (0, cdk_build_tools_1.testDeprecated)('error when any instance type other than R3, I3 and R6GD are specified without EBS enabled', () => {
        expect(() => new domain_1.Domain(stack, 'Domain1', {
            version: domain_1.ElasticsearchVersion.V7_4,
            ebs: {
                enabled: false,
            },
            capacity: {
                masterNodeInstanceType: 'm5.large.elasticsearch',
            },
        })).toThrow(/EBS volumes are required when using instance types other than r3, i3 or r6gd/);
        expect(() => new domain_1.Domain(stack, 'Domain2', {
            version: domain_1.ElasticsearchVersion.V7_4,
            ebs: {
                enabled: false,
            },
            capacity: {
                dataNodeInstanceType: 'm5.large.elasticsearch',
            },
        })).toThrow(/EBS volumes are required when using instance types other than r3, i3 or r6gd/);
    });
    (0, cdk_build_tools_1.testDeprecated)('can use compatible master instance types that does not have local storage when data node type is i3 or r6gd', () => {
        new domain_1.Domain(stack, 'Domain1', {
            version: domain_1.ElasticsearchVersion.V7_4,
            ebs: {
                enabled: false,
            },
            capacity: {
                masterNodeInstanceType: 'c5.2xlarge.elasticsearch',
                dataNodeInstanceType: 'i3.2xlarge.elasticsearch',
            },
        });
        new domain_1.Domain(stack, 'Domain2', {
            version: domain_1.ElasticsearchVersion.V7_4,
            ebs: {
                enabled: false,
            },
            capacity: {
                masterNodes: 3,
                masterNodeInstanceType: 'c6g.large.elasticsearch',
                dataNodeInstanceType: 'r6gd.large.elasticsearch',
            },
        });
        // both configurations pass synth-time validation
        assertions_1.Template.fromStack(stack).resourceCountIs('AWS::Elasticsearch::Domain', 2);
    });
    (0, cdk_build_tools_1.testDeprecated)('error when availabilityZoneCount is not 2 or 3', () => {
        const vpc = new aws_ec2_1.Vpc(stack, 'Vpc');
        expect(() => new domain_1.Domain(stack, 'Domain1', {
            version: domain_1.ElasticsearchVersion.V7_4,
            vpc,
            zoneAwareness: {
                availabilityZoneCount: 4,
            },
        })).toThrow(/Invalid zone awareness configuration; availabilityZoneCount must be 2 or 3/);
    });
    (0, cdk_build_tools_1.testDeprecated)('error when UltraWarm instance is used and not supported by elasticsearchVersion', () => {
        expect(() => new domain_1.Domain(stack, 'Domain1', {
            version: domain_1.ElasticsearchVersion.V6_7,
            capacity: {
                masterNodes: 1,
                warmNodes: 1,
            },
        })).toThrow(/UltraWarm requires Elasticsearch 6\.8 or later/);
    });
    (0, cdk_build_tools_1.testDeprecated)('error when t2 or t3 instance types are specified with UltramWarm enabled', () => {
        const error = /T2 and T3 instance types do not support UltraWarm storage/;
        expect(() => new domain_1.Domain(stack, 'Domain1', {
            version: domain_1.ElasticsearchVersion.V7_4,
            capacity: {
                masterNodeInstanceType: 't2.2xlarge.elasticsearch',
                warmNodes: 1,
            },
        })).toThrow(error);
        expect(() => new domain_1.Domain(stack, 'Domain2', {
            version: domain_1.ElasticsearchVersion.V7_4,
            capacity: {
                masterNodeInstanceType: 't3.2xlarge.elasticsearch',
                warmNodes: 1,
            },
        })).toThrow(error);
    });
    (0, cdk_build_tools_1.testDeprecated)('error when UltraWarm instance is used and no dedicated master instance specified', () => {
        expect(() => new domain_1.Domain(stack, 'Domain1', {
            version: domain_1.ElasticsearchVersion.V7_4,
            capacity: {
                warmNodes: 1,
                masterNodes: 0,
            },
        })).toThrow(/Dedicated master node is required when UltraWarm storage is enabled/);
    });
});
(0, cdk_build_tools_1.testDeprecated)('can specify future version', () => {
    new domain_1.Domain(stack, 'Domain', { version: domain_1.ElasticsearchVersion.of('8.2') });
    assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::Elasticsearch::Domain', {
        ElasticsearchVersion: '8.2',
    });
});
describe('unsigned basic auth', () => {
    (0, cdk_build_tools_1.testDeprecated)('can create a domain with unsigned basic auth', () => {
        new domain_1.Domain(stack, 'Domain', {
            version: domain_1.ElasticsearchVersion.V7_7,
            useUnsignedBasicAuth: true,
        });
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::Elasticsearch::Domain', {
            AdvancedSecurityOptions: {
                Enabled: true,
                InternalUserDatabaseEnabled: true,
                MasterUserOptions: {
                    MasterUserName: 'admin',
                },
            },
            EncryptionAtRestOptions: {
                Enabled: true,
            },
            NodeToNodeEncryptionOptions: {
                Enabled: true,
            },
            DomainEndpointOptions: {
                EnforceHTTPS: true,
            },
        });
    });
    (0, cdk_build_tools_1.testDeprecated)('does not overwrite master user ARN configuration', () => {
        const masterUserArn = 'arn:aws:iam::123456789012:user/JohnDoe';
        new domain_1.Domain(stack, 'Domain', {
            version: domain_1.ElasticsearchVersion.V7_7,
            fineGrainedAccessControl: {
                masterUserArn,
            },
            useUnsignedBasicAuth: true,
        });
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::Elasticsearch::Domain', {
            AdvancedSecurityOptions: {
                Enabled: true,
                InternalUserDatabaseEnabled: false,
                MasterUserOptions: {
                    MasterUserARN: masterUserArn,
                },
            },
            EncryptionAtRestOptions: {
                Enabled: true,
            },
            NodeToNodeEncryptionOptions: {
                Enabled: true,
            },
            DomainEndpointOptions: {
                EnforceHTTPS: true,
            },
        });
    });
    (0, cdk_build_tools_1.testDeprecated)('does not overwrite master user name and password', () => {
        const masterUserName = 'JohnDoe';
        const password = 'password';
        const masterUserPassword = core_1.SecretValue.unsafePlainText(password);
        new domain_1.Domain(stack, 'Domain', {
            version: domain_1.ElasticsearchVersion.V7_1,
            fineGrainedAccessControl: {
                masterUserName,
                masterUserPassword,
            },
            useUnsignedBasicAuth: true,
        });
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::Elasticsearch::Domain', {
            AdvancedSecurityOptions: {
                Enabled: true,
                InternalUserDatabaseEnabled: true,
                MasterUserOptions: {
                    MasterUserName: masterUserName,
                    MasterUserPassword: password,
                },
            },
            EncryptionAtRestOptions: {
                Enabled: true,
            },
            NodeToNodeEncryptionOptions: {
                Enabled: true,
            },
            DomainEndpointOptions: {
                EnforceHTTPS: true,
            },
        });
    });
    (0, cdk_build_tools_1.testDeprecated)('fails to create a domain with unsigned basic auth when enforce HTTPS is disabled', () => {
        expect(() => new domain_1.Domain(stack, 'Domain', {
            version: domain_1.ElasticsearchVersion.V7_7,
            useUnsignedBasicAuth: true,
            enforceHttps: false,
        })).toThrow(/You cannot disable HTTPS and use unsigned basic auth/);
    });
    (0, cdk_build_tools_1.testDeprecated)('fails to create a domain with unsigned basic auth when node to node encryption is disabled', () => {
        expect(() => new domain_1.Domain(stack, 'Domain', {
            version: domain_1.ElasticsearchVersion.V7_7,
            useUnsignedBasicAuth: true,
            nodeToNodeEncryption: false,
        })).toThrow(/You cannot disable node to node encryption and use unsigned basic auth/);
    });
    (0, cdk_build_tools_1.testDeprecated)('fails to create a domain with unsigned basic auth when encryption at rest is disabled', () => {
        expect(() => new domain_1.Domain(stack, 'Domain', {
            version: domain_1.ElasticsearchVersion.V7_7,
            useUnsignedBasicAuth: true,
            encryptionAtRest: { enabled: false },
        })).toThrow(/You cannot disable encryption at rest and use unsigned basic auth/);
    });
    (0, cdk_build_tools_1.testDeprecated)('using unsigned basic auth throws with Elasticsearch < 6.7', () => {
        expect(() => new domain_1.Domain(stack, 'Domain', {
            version: domain_1.ElasticsearchVersion.V6_5,
            useUnsignedBasicAuth: true,
        })).toThrow(/Using unsigned basic auth requires Elasticsearch version 6\.7 or later./);
    });
});
describe('advanced options', () => {
    (0, cdk_build_tools_1.testDeprecated)('use advanced options', () => {
        new domain_1.Domain(stack, 'Domain', {
            version: domain_1.ElasticsearchVersion.V7_1,
            advancedOptions: {
                'rest.action.multi.allow_explicit_index': 'true',
                'indices.fielddata.cache.size': '50',
            },
        });
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::Elasticsearch::Domain', {
            AdvancedOptions: {
                'rest.action.multi.allow_explicit_index': 'true',
                'indices.fielddata.cache.size': '50',
            },
        });
    });
    (0, cdk_build_tools_1.testDeprecated)('advanced options absent by default', () => {
        new domain_1.Domain(stack, 'Domain', {
            version: domain_1.ElasticsearchVersion.V7_1,
        });
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::Elasticsearch::Domain', {
            AdvancedOptions: assertions_1.Match.absent(),
        });
    });
});
function testGrant(expectedActions, invocation, appliesToDomainRoot = true, paths = ['/*']) {
    const domain = new domain_1.Domain(stack, 'Domain', { version: domain_1.ElasticsearchVersion.V7_4 });
    const user = new iam.User(stack, 'user');
    invocation(user, domain);
    const action = expectedActions.length > 1 ? expectedActions.map(a => `es:${a}`) : `es:${expectedActions[0]}`;
    const domainArn = {
        'Fn::GetAtt': [
            'Domain66AC69E0',
            'Arn',
        ],
    };
    const resolvedPaths = paths.map(path => {
        return {
            'Fn::Join': [
                '',
                [
                    domainArn,
                    path,
                ],
            ],
        };
    });
    const resource = appliesToDomainRoot
        ? [domainArn, ...resolvedPaths]
        : resolvedPaths.length > 1
            ? resolvedPaths
            : resolvedPaths[0];
    assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::IAM::Policy', {
        PolicyDocument: {
            Statement: [
                {
                    Action: action,
                    Effect: 'Allow',
                    Resource: resource,
                },
            ],
            Version: '2012-10-17',
        },
        PolicyName: 'userDefaultPolicy083DF682',
        Users: [
            {
                Ref: 'user2C2B57AE',
            },
        ],
    });
}
function testMetric(invocation, metricName, statistic = aws_cloudwatch_1.Statistic.SUM, period = core_1.Duration.minutes(5)) {
    const domain = new domain_1.Domain(stack, 'Domain', { version: domain_1.ElasticsearchVersion.V7_4 });
    const metric = invocation(domain);
    expect(metric).toMatchObject({
        metricName,
        namespace: 'AWS/ES',
        period,
        statistic,
        dimensions: {
            ClientId: '1234',
        },
    });
    expect(metric.dimensions).toHaveProperty('DomainName');
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZG9tYWluLnRlc3QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJkb21haW4udGVzdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLHVDQUF1QztBQUN2QyxpREFBbUQ7QUFDbkQsb0RBQW9EO0FBQ3BELHlEQUF5RDtBQUN6RCwyQ0FBd0U7QUFDeEUscUNBQXFDO0FBQ3JDLHFDQUFxQztBQUNyQyx1Q0FBdUM7QUFDdkMsNkNBQTZDO0FBQzdDLDhEQUEwRDtBQUMxRCxxQ0FBb0Y7QUFFcEYsMENBQTZEO0FBRTdELElBQUksR0FBUSxDQUFDO0FBQ2IsSUFBSSxLQUFZLENBQUM7QUFFakIsVUFBVSxDQUFDLEdBQUcsRUFBRTtJQUNkLEdBQUcsR0FBRyxJQUFJLFVBQUcsRUFBRSxDQUFDO0lBQ2hCLEtBQUssR0FBRyxJQUFJLFlBQUssQ0FBQyxHQUFHLEVBQUUsT0FBTyxFQUFFO1FBQzlCLEdBQUcsRUFBRSxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLFlBQVksRUFBRTtLQUMvQyxDQUFDLENBQUM7SUFFSCxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7QUFDdkIsQ0FBQyxDQUFDLENBQUM7QUFFSCxNQUFNLFdBQVcsR0FBRyxDQUFDLFdBQVcsRUFBRSxZQUFZLENBQUMsQ0FBQztBQUNoRCxNQUFNLFlBQVksR0FBRyxDQUFDLGNBQWMsRUFBRSxZQUFZLEVBQUUsV0FBVyxFQUFFLGFBQWEsQ0FBQyxDQUFDO0FBQ2hGLE1BQU0sZ0JBQWdCLEdBQUc7SUFDdkIsR0FBRyxXQUFXO0lBQ2QsR0FBRyxZQUFZO0NBQ2hCLENBQUM7QUFFRixJQUFBLGdDQUFjLEVBQUMscURBQXFELEVBQUUsR0FBRyxFQUFFO0lBRXpFLE1BQU0sQ0FBQyxHQUFHLEVBQUU7UUFDVixJQUFJLGVBQU0sQ0FBQyxLQUFLLEVBQUUsUUFBUSxFQUFFO1lBQzFCLE9BQU8sRUFBRSw2QkFBb0IsQ0FBQyxJQUFJO1NBQ25DLENBQUMsQ0FBQyxXQUFXLENBQUM7SUFD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Q0YsQ0FBQyxDQUFDO0FBQ0wsQ0FBQztBQUVELFNBQVMsVUFBVSxDQUNqQixVQUFzQyxFQUN0QyxVQUFrQixFQUNsQixZQUFvQiwwQkFBUyxDQUFDLEdBQUcsRUFDakMsU0FBbUIsZUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7SUFFdEMsTUFBTSxNQUFNLEdBQUcsSUFBSSxlQUFNLENBQUMsS0FBSyxFQUFFLFFBQVEsRUFBRSxFQUFFLE9BQU8sRUFBRSw2QkFBb0IsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDO0lBRW5GLE1BQU0sTUFBTSxHQUFHLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUVsQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsYUFBYSxDQUFDO1FBQzNCLFVBQVU7UUFDVixTQUFTLEVBQUUsUUFBUTtRQUNuQixNQUFNO1FBQ04sU0FBUztRQUNULFVBQVUsRUFBRTtZQUNWLFFBQVEsRUFBRSxNQUFNO1NBQ2pCO0tBQ0YsQ0FBQyxDQUFDO0lBQ0gsTUFBTSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLENBQUM7QUFDekQsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIGplc3QvZXhwZWN0LWV4cGVjdCAqL1xuaW1wb3J0IHsgTWF0Y2gsIFRlbXBsYXRlIH0gZnJvbSAnLi4vLi4vYXNzZXJ0aW9ucyc7XG5pbXBvcnQgKiBhcyBhY20gZnJvbSAnLi4vLi4vYXdzLWNlcnRpZmljYXRlbWFuYWdlcic7XG5pbXBvcnQgeyBNZXRyaWMsIFN0YXRpc3RpYyB9IGZyb20gJy4uLy4uL2F3cy1jbG91ZHdhdGNoJztcbmltcG9ydCB7IFZwYywgRWJzRGV2aWNlVm9sdW1lVHlwZSwgU2VjdXJpdHlHcm91cCB9IGZyb20gJy4uLy4uL2F3cy1lYzInO1xuaW1wb3J0ICogYXMgaWFtIGZyb20gJy4uLy4uL2F3cy1pYW0nO1xuaW1wb3J0ICogYXMga21zIGZyb20gJy4uLy4uL2F3cy1rbXMnO1xuaW1wb3J0ICogYXMgbG9ncyBmcm9tICcuLi8uLi9hd3MtbG9ncyc7XG5pbXBvcnQgKiBhcyByb3V0ZTUzIGZyb20gJy4uLy4uL2F3cy1yb3V0ZTUzJztcbmltcG9ydCB7IHRlc3REZXByZWNhdGVkIH0gZnJvbSAnQGF3cy1jZGsvY2RrLWJ1aWxkLXRvb2xzJztcbmltcG9ydCB7IEFwcCwgU3RhY2ssIER1cmF0aW9uLCBTZWNyZXRWYWx1ZSwgQ2ZuUGFyYW1ldGVyLCBUb2tlbiB9IGZyb20gJy4uLy4uL2NvcmUnO1xuXG5pbXBvcnQgeyBEb21haW4sIEVsYXN0aWNzZWFyY2hWZXJzaW9uIH0gZnJvbSAnLi4vbGliL2RvbWFpbic7XG5cbmxldCBhcHA6IEFwcDtcbmxldCBzdGFjazogU3RhY2s7XG5cbmJlZm9yZUVhY2goKCkgPT4ge1xuICBhcHAgPSBuZXcgQXBwKCk7XG4gIHN0YWNrID0gbmV3IFN0YWNrKGFwcCwgJ1N0YWNrJywge1xuICAgIGVudjogeyBhY2NvdW50OiAnMTIzNCcsIHJlZ2lvbjogJ3Rlc3RyZWdpb24nIH0sXG4gIH0pO1xuXG4gIGplc3QucmVzZXRBbGxNb2NrcygpO1xufSk7XG5cbmNvbnN0IHJlYWRBY3Rpb25zID0gWydFU0h0dHBHZXQnLCAnRVNIdHRwSGVhZCddO1xuY29uc3Qgd3JpdGVBY3Rpb25zID0gWydFU0h0dHBEZWxldGUnLCAnRVNIdHRwUG9zdCcsICdFU0h0dHBQdXQnLCAnRVNIdHRwUGF0Y2gnXTtcbmNvbnN0IHJlYWRXcml0ZUFjdGlvbnMgPSBbXG4gIC4uLnJlYWRBY3Rpb25zLFxuICAuLi53cml0ZUFjdGlvbnMsXG5dO1xuXG50ZXN0RGVwcmVjYXRlZCgnY29ubmVjdGlvbnMgdGhyb3dzIGlmIGRvbWFpbiBpcyBwbGFjZWQgaW5zaWRlIGEgdnBjJywgKCkgPT4ge1xuXG4gIGV4cGVjdCgoKSA9PiB7XG4gICAgbmV3IERvbWFpbihzdGFjaywgJ0RvbWFpbicsIHtcbiAgICAgIHZlcnNpb246IEVsYXN0aWNzZWFyY2hWZXJzaW9uLlY3XzEsXG4gICAgfSkuY29ubmVjdGlvbnM7XG4gIH0pLnRvVGhyb3dFcnJvcihcIkNvbm5lY3Rpb25zIGFyZSBvbmx5IGF2YWlsYWJsZSBvbiBWUEMgZW5hYmxlZCBkb21haW5zLiBVc2UgdGhlICd2cGMnIHByb3BlcnR5IHRvIHBsYWNlIGEgZG9tYWluIGluc2lkZSBhIFZQQ1wiKTtcbn0pO1xuXG50ZXN0RGVwcmVjYXRlZCgnc3VibmV0cyBhbmQgc2VjdXJpdHkgZ3JvdXBzIGNhbiBiZSBwcm92aWRlZCB3aGVuIHZwYyBpcyB1c2VkJywgKCkgPT4ge1xuXG4gIGNvbnN0IHZwYyA9IG5ldyBWcGMoc3RhY2ssICdWcGMnKTtcbiAgY29uc3Qgc2VjdXJpdHlHcm91cCA9IG5ldyBTZWN1cml0eUdyb3VwKHN0YWNrLCAnQ3VzdG9tU2VjdXJpdHlHcm91cCcsIHtcbiAgICB2cGMsXG4gIH0pO1xuICBjb25zdCBkb21haW4gPSBuZXcgRG9tYWluKHN0YWNrLCAnRG9tYWluJywge1xuICAgIHZlcnNpb246IEVsYXN0aWNzZWFyY2hWZXJzaW9uLlY3XzEwLFxuICAgIHZwYyxcbiAgICB2cGNTdWJuZXRzOiBbeyBzdWJuZXRzOiBbdnBjLnByaXZhdGVTdWJuZXRzWzBdXSB9XSxcbiAgICBzZWN1cml0eUdyb3VwczogW3NlY3VyaXR5R3JvdXBdLFxuICB9KTtcblxuICBleHBlY3QoZG9tYWluLmNvbm5lY3Rpb25zLnNlY3VyaXR5R3JvdXBzWzBdLnNlY3VyaXR5R3JvdXBJZCkudG9FcXVhbChzZWN1cml0eUdyb3VwLnNlY3VyaXR5R3JvdXBJZCk7XG4gIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkVsYXN0aWNzZWFyY2g6OkRvbWFpbicsIHtcbiAgICBWUENPcHRpb25zOiB7XG4gICAgICBTZWN1cml0eUdyb3VwSWRzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAnRm46OkdldEF0dCc6IFtcbiAgICAgICAgICAgICdDdXN0b21TZWN1cml0eUdyb3VwRTVFNTAwRTUnLFxuICAgICAgICAgICAgJ0dyb3VwSWQnLFxuICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgICAgU3VibmV0SWRzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBSZWY6ICdWcGNQcml2YXRlU3VibmV0MVN1Ym5ldDUzNkI5OTdBJyxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfSxcbiAgfSk7XG59KTtcblxudGVzdERlcHJlY2F0ZWQoJ2RlZmF1bHQgc3VibmV0cyBhbmQgc2VjdXJpdHkgZ3JvdXAgd2hlbiB2cGMgaXMgdXNlZCcsICgpID0+IHtcblxuICBjb25zdCB2cGMgPSBuZXcgVnBjKHN0YWNrLCAnVnBjJyk7XG4gIGNvbnN0IGRvbWFpbiA9IG5ldyBEb21haW4oc3RhY2ssICdEb21haW4nLCB7XG4gICAgdmVyc2lvbjogRWxhc3RpY3NlYXJjaFZlcnNpb24uVjdfMTAsXG4gICAgdnBjLFxuICB9KTtcblxuICBleHBlY3Qoc3RhY2sucmVzb2x2ZShkb21haW4uY29ubmVjdGlvbnMuc2VjdXJpdHlHcm91cHNbMF0uc2VjdXJpdHlHcm91cElkKSkudG9FcXVhbCh7ICdGbjo6R2V0QXR0JzogWydEb21haW5TZWN1cml0eUdyb3VwNDhBQTVGRDYnLCAnR3JvdXBJZCddIH0pO1xuICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpFbGFzdGljc2VhcmNoOjpEb21haW4nLCB7XG4gICAgVlBDT3B0aW9uczoge1xuICAgICAgU2VjdXJpdHlHcm91cElkczogW1xuICAgICAgICB7XG4gICAgICAgICAgJ0ZuOjpHZXRBdHQnOiBbXG4gICAgICAgICAgICAnRG9tYWluU2VjdXJpdHlHcm91cDQ4QUE1RkQ2JyxcbiAgICAgICAgICAgICdHcm91cElkJyxcbiAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICAgIFN1Ym5ldElkczogW1xuICAgICAgICB7XG4gICAgICAgICAgUmVmOiAnVnBjUHJpdmF0ZVN1Ym5ldDFTdWJuZXQ1MzZCOTk3QScsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBSZWY6ICdWcGNQcml2YXRlU3VibmV0MlN1Ym5ldDM3ODhBQUExJyxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIFJlZjogJ1ZwY1ByaXZhdGVTdWJuZXQzU3VibmV0RjI1OEI1NkUnLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICB9LFxuICB9KTtcbn0pO1xuXG50ZXN0RGVwcmVjYXRlZCgnZGVmYXVsdCByZW1vdmFscG9saWN5IGlzIHJldGFpbicsICgpID0+IHtcbiAgbmV3IERvbWFpbihzdGFjaywgJ0RvbWFpbicsIHtcbiAgICB2ZXJzaW9uOiBFbGFzdGljc2VhcmNoVmVyc2lvbi5WN18xLFxuICB9KTtcblxuICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlKCdBV1M6OkVsYXN0aWNzZWFyY2g6OkRvbWFpbicsIHtcbiAgICBEZWxldGlvblBvbGljeTogJ1JldGFpbicsXG4gIH0pO1xufSk7XG5cbnRlc3REZXByZWNhdGVkKCdncmFudHMga21zIHBlcm1pc3Npb25zIGlmIG5lZWRlZCcsICgpID0+IHtcblxuICBjb25zdCBrZXkgPSBuZXcga21zLktleShzdGFjaywgJ0tleScpO1xuXG4gIG5ldyBEb21haW4oc3RhY2ssICdEb21haW4nLCB7XG4gICAgdmVyc2lvbjogRWxhc3RpY3NlYXJjaFZlcnNpb24uVjdfMSxcbiAgICBlbmNyeXB0aW9uQXRSZXN0OiB7XG4gICAgICBrbXNLZXk6IGtleSxcbiAgICB9LFxuICAgIC8vIHNvIHRoYXQgdGhlIGFjY2VzcyBwb2xpY3kgY3VzdG9tIHJlc291cmNlIHdpbGwgYmUgdXNlZC5cbiAgICB1c2VVbnNpZ25lZEJhc2ljQXV0aDogdHJ1ZSxcbiAgfSk7XG5cbiAgY29uc3QgZXhwZWN0ZWRQb2xpY3kgPSB7XG4gICAgU3RhdGVtZW50OiBbXG4gICAgICB7XG4gICAgICAgIEFjdGlvbjogW1xuICAgICAgICAgICdrbXM6TGlzdConLFxuICAgICAgICAgICdrbXM6RGVzY3JpYmUqJyxcbiAgICAgICAgICAna21zOkNyZWF0ZUdyYW50JyxcbiAgICAgICAgXSxcbiAgICAgICAgRWZmZWN0OiAnQWxsb3cnLFxuICAgICAgICBSZXNvdXJjZToge1xuICAgICAgICAgICdGbjo6R2V0QXR0JzogW1xuICAgICAgICAgICAgJ0tleTk2MUI3M0ZEJyxcbiAgICAgICAgICAgICdBcm4nLFxuICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIF0sXG4gICAgVmVyc2lvbjogJzIwMTItMTAtMTcnLFxuICB9O1xuXG4gIGNvbnN0IHJlc291cmNlcyA9IFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykudG9KU09OKCkuUmVzb3VyY2VzO1xuICBleHBlY3QocmVzb3VyY2VzLkFXUzY3OWY1M2ZhYzAwMjQzMGNiMGRhNWI3OTgyYmQyMjg3U2VydmljZVJvbGVEZWZhdWx0UG9saWN5RDI4RTFBNUUuUHJvcGVydGllcy5Qb2xpY3lEb2N1bWVudCkudG9TdHJpY3RFcXVhbChleHBlY3RlZFBvbGljeSk7XG5cbn0pO1xuXG50ZXN0RGVwcmVjYXRlZCgnbWluaW1hbCBleGFtcGxlIHJlbmRlcnMgY29ycmVjdGx5JywgKCkgPT4ge1xuICBuZXcgRG9tYWluKHN0YWNrLCAnRG9tYWluJywgeyB2ZXJzaW9uOiBFbGFzdGljc2VhcmNoVmVyc2lvbi5WN18xIH0pO1xuXG4gIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkVsYXN0aWNzZWFyY2g6OkRvbWFpbicsIHtcbiAgICBDb2duaXRvT3B0aW9uczoge1xuICAgICAgRW5hYmxlZDogZmFsc2UsXG4gICAgfSxcbiAgICBFQlNPcHRpb25zOiB7XG4gICAgICBFQlNFbmFibGVkOiB0cnVlLFxuICAgICAgVm9sdW1lU2l6ZTogMTAsXG4gICAgICBWb2x1bWVUeXBlOiAnZ3AyJyxcbiAgICB9LFxuICAgIEVsYXN0aWNzZWFyY2hDbHVzdGVyQ29uZmlnOiB7XG4gICAgICBEZWRpY2F0ZWRNYXN0ZXJFbmFibGVkOiBmYWxzZSxcbiAgICAgIEluc3RhbmNlQ291bnQ6IDEsXG4gICAgICBJbnN0YW5jZVR5cGU6ICdyNS5sYXJnZS5lbGFzdGljc2VhcmNoJyxcbiAgICAgIFpvbmVBd2FyZW5lc3NFbmFibGVkOiBmYWxzZSxcbiAgICB9LFxuICAgIEVsYXN0aWNzZWFyY2hWZXJzaW9uOiAnNy4xJyxcbiAgICBFbmNyeXB0aW9uQXRSZXN0T3B0aW9uczoge1xuICAgICAgRW5hYmxlZDogZmFsc2UsXG4gICAgfSxcbiAgICBMb2dQdWJsaXNoaW5nT3B0aW9uczoge1xuICAgICAgQVVESVRfTE9HUzogTWF0Y2guYWJzZW50KCksXG4gICAgICBFU19BUFBMSUNBVElPTl9MT0dTOiBNYXRjaC5hYnNlbnQoKSxcbiAgICAgIFNFQVJDSF9TTE9XX0xPR1M6IE1hdGNoLmFic2VudCgpLFxuICAgICAgSU5ERVhfU0xPV19MT0dTOiBNYXRjaC5hYnNlbnQoKSxcbiAgICB9LFxuICAgIE5vZGVUb05vZGVFbmNyeXB0aW9uT3B0aW9uczoge1xuICAgICAgRW5hYmxlZDogZmFsc2UsXG4gICAgfSxcbiAgfSk7XG59KTtcblxudGVzdERlcHJlY2F0ZWQoJ2NhbiBlbmFibGUgdmVyc2lvbiB1cGdyYWRlIHVwZGF0ZSBwb2xpY3knLCAoKSA9PiB7XG4gIG5ldyBEb21haW4oc3RhY2ssICdEb21haW4nLCB7XG4gICAgdmVyc2lvbjogRWxhc3RpY3NlYXJjaFZlcnNpb24uVjdfMSxcbiAgICBlbmFibGVWZXJzaW9uVXBncmFkZTogdHJ1ZSxcbiAgfSk7XG5cbiAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZSgnQVdTOjpFbGFzdGljc2VhcmNoOjpEb21haW4nLCB7XG4gICAgVXBkYXRlUG9saWN5OiB7XG4gICAgICBFbmFibGVWZXJzaW9uVXBncmFkZTogdHJ1ZSxcbiAgICB9LFxuICB9KTtcbn0pO1xuXG50ZXN0RGVwcmVjYXRlZCgnY2FuIHNldCBhIHNlbGYtcmVmZXJlbmNpbmcgY3VzdG9tIHBvbGljeScsICgpID0+IHtcbiAgY29uc3QgZG9tYWluID0gbmV3IERvbWFpbihzdGFjaywgJ0RvbWFpbicsIHtcbiAgICB2ZXJzaW9uOiBFbGFzdGljc2VhcmNoVmVyc2lvbi5WN18xLFxuICB9KTtcblxuICBkb21haW4uYWRkQWNjZXNzUG9saWNpZXMoXG4gICAgbmV3IGlhbS5Qb2xpY3lTdGF0ZW1lbnQoe1xuICAgICAgYWN0aW9uczogWydlczpFU0h0dHBQb3N0JywgJ2VzOkVTSHR0cFB1dCddLFxuICAgICAgZWZmZWN0OiBpYW0uRWZmZWN0LkFMTE9XLFxuICAgICAgcHJpbmNpcGFsczogW25ldyBpYW0uQWNjb3VudFByaW5jaXBhbCgnNTY3OCcpXSxcbiAgICAgIHJlc291cmNlczogW2RvbWFpbi5kb21haW5Bcm4sIGAke2RvbWFpbi5kb21haW5Bcm59LypgXSxcbiAgICB9KSxcbiAgKTtcblxuICBjb25zdCBleHBlY3RlZFBvbGljeSA9IHtcbiAgICAnRm46OkpvaW4nOiBbXG4gICAgICAnJyxcbiAgICAgIFtcbiAgICAgICAgJ3tcImFjdGlvblwiOlwidXBkYXRlRWxhc3RpY3NlYXJjaERvbWFpbkNvbmZpZ1wiLFwic2VydmljZVwiOlwiRVNcIixcInBhcmFtZXRlcnNcIjp7XCJEb21haW5OYW1lXCI6XCInLFxuICAgICAgICB7XG4gICAgICAgICAgUmVmOiAnRG9tYWluNjZBQzY5RTAnLFxuICAgICAgICB9LFxuICAgICAgICAnXCIsXCJBY2Nlc3NQb2xpY2llc1wiOlwie1xcXFxcIlN0YXRlbWVudFxcXFxcIjpbe1xcXFxcIkFjdGlvblxcXFxcIjpbXFxcXFwiZXM6RVNIdHRwUG9zdFxcXFxcIixcXFxcXCJlczpFU0h0dHBQdXRcXFxcXCJdLFxcXFxcIkVmZmVjdFxcXFxcIjpcXFxcXCJBbGxvd1xcXFxcIixcXFxcXCJQcmluY2lwYWxcXFxcXCI6e1xcXFxcIkFXU1xcXFxcIjpcXFxcXCJhcm46JyxcbiAgICAgICAge1xuICAgICAgICAgIFJlZjogJ0FXUzo6UGFydGl0aW9uJyxcbiAgICAgICAgfSxcbiAgICAgICAgJzppYW06OjU2Nzg6cm9vdFxcXFxcIn0sXFxcXFwiUmVzb3VyY2VcXFxcXCI6W1xcXFxcIicsXG4gICAgICAgIHtcbiAgICAgICAgICAnRm46OkdldEF0dCc6IFtcbiAgICAgICAgICAgICdEb21haW42NkFDNjlFMCcsXG4gICAgICAgICAgICAnQXJuJyxcbiAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgICAnXFxcXFwiLFxcXFxcIicsXG4gICAgICAgIHtcbiAgICAgICAgICAnRm46OkdldEF0dCc6IFtcbiAgICAgICAgICAgICdEb21haW42NkFDNjlFMCcsXG4gICAgICAgICAgICAnQXJuJyxcbiAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgICAnLypcXFxcXCJdfV0sXFxcXFwiVmVyc2lvblxcXFxcIjpcXFxcXCIyMDEyLTEwLTE3XFxcXFwifVwifSxcIm91dHB1dFBhdGhzXCI6W1wiRG9tYWluQ29uZmlnLkVsYXN0aWNzZWFyY2hDbHVzdGVyQ29uZmlnLkFjY2Vzc1BvbGljaWVzXCJdLFwicGh5c2ljYWxSZXNvdXJjZUlkXCI6e1wiaWRcIjpcIicsXG4gICAgICAgIHtcbiAgICAgICAgICBSZWY6ICdEb21haW42NkFDNjlFMCcsXG4gICAgICAgIH0sXG4gICAgICAgICdBY2Nlc3NQb2xpY3lcIn19JyxcbiAgICAgIF0sXG4gICAgXSxcbiAgfTtcbiAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0N1c3RvbTo6RWxhc3RpY3NlYXJjaEFjY2Vzc1BvbGljeScsIHtcbiAgICBTZXJ2aWNlVG9rZW46IHtcbiAgICAgICdGbjo6R2V0QXR0JzogW1xuICAgICAgICAnQVdTNjc5ZjUzZmFjMDAyNDMwY2IwZGE1Yjc5ODJiZDIyODcyRDE2NEM0QycsXG4gICAgICAgICdBcm4nLFxuICAgICAgXSxcbiAgICB9LFxuICAgIENyZWF0ZTogZXhwZWN0ZWRQb2xpY3ksXG4gICAgVXBkYXRlOiBleHBlY3RlZFBvbGljeSxcbiAgfSk7XG59KTtcblxuXG5kZXNjcmliZSgnVWx0cmFXYXJtIGluc3RhbmNlcycsICgpID0+IHtcblxuICB0ZXN0RGVwcmVjYXRlZCgnY2FuIGVuYWJsZSBVbHRyYVdhcm0gaW5zdGFuY2VzJywgKCkgPT4ge1xuICAgIG5ldyBEb21haW4oc3RhY2ssICdEb21haW4nLCB7XG4gICAgICB2ZXJzaW9uOiBFbGFzdGljc2VhcmNoVmVyc2lvbi5WN18xLFxuICAgICAgY2FwYWNpdHk6IHtcbiAgICAgICAgbWFzdGVyTm9kZXM6IDIsXG4gICAgICAgIHdhcm1Ob2RlczogMixcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpFbGFzdGljc2VhcmNoOjpEb21haW4nLCB7XG4gICAgICBFbGFzdGljc2VhcmNoQ2x1c3RlckNvbmZpZzoge1xuICAgICAgICBEZWRpY2F0ZWRNYXN0ZXJFbmFibGVkOiB0cnVlLFxuICAgICAgICBXYXJtRW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgV2FybUNvdW50OiAyLFxuICAgICAgICBXYXJtVHlwZTogJ3VsdHJhd2FybTEubWVkaXVtLmVsYXN0aWNzZWFyY2gnLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfSk7XG5cbiAgdGVzdERlcHJlY2F0ZWQoJ2NhbiBlbmFibGUgVWx0cmFXYXJtIGluc3RhbmNlcyB3aXRoIHNwZWNpZmljIGluc3RhbmNlIHR5cGUnLCAoKSA9PiB7XG4gICAgbmV3IERvbWFpbihzdGFjaywgJ0RvbWFpbicsIHtcbiAgICAgIHZlcnNpb246IEVsYXN0aWNzZWFyY2hWZXJzaW9uLlY3XzEsXG4gICAgICBjYXBhY2l0eToge1xuICAgICAgICBtYXN0ZXJOb2RlczogMixcbiAgICAgICAgd2FybU5vZGVzOiAyLFxuICAgICAgICB3YXJtSW5zdGFuY2VUeXBlOiAndWx0cmF3YXJtMS5sYXJnZS5lbGFzdGljc2VhcmNoJyxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpFbGFzdGljc2VhcmNoOjpEb21haW4nLCB7XG4gICAgICBFbGFzdGljc2VhcmNoQ2x1c3RlckNvbmZpZzoge1xuICAgICAgICBEZWRpY2F0ZWRNYXN0ZXJFbmFibGVkOiB0cnVlLFxuICAgICAgICBXYXJtRW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgV2FybUNvdW50OiAyLFxuICAgICAgICBXYXJtVHlwZTogJ3VsdHJhd2FybTEubGFyZ2UuZWxhc3RpY3NlYXJjaCcsXG4gICAgICB9LFxuICAgIH0pO1xuICB9KTtcblxufSk7XG5cbnRlc3REZXByZWNhdGVkKCdjYW4gdXNlIHRva2VucyBpbiBjYXBhY2l0eSBjb25maWd1cmF0aW9uJywgKCkgPT4ge1xuICBuZXcgRG9tYWluKHN0YWNrLCAnRG9tYWluJywge1xuICAgIHZlcnNpb246IEVsYXN0aWNzZWFyY2hWZXJzaW9uLlY3XzEwLFxuICAgIGNhcGFjaXR5OiB7XG4gICAgICBkYXRhTm9kZUluc3RhbmNlVHlwZTogVG9rZW4uYXNTdHJpbmcoeyBSZWY6ICdkYXRhTm9kZUluc3RhbmNlVHlwZScgfSksXG4gICAgICBkYXRhTm9kZXM6IFRva2VuLmFzTnVtYmVyKHsgUmVmOiAnZGF0YU5vZGVzJyB9KSxcbiAgICAgIG1hc3Rlck5vZGVJbnN0YW5jZVR5cGU6IFRva2VuLmFzU3RyaW5nKHsgUmVmOiAnbWFzdGVyTm9kZUluc3RhbmNlVHlwZScgfSksXG4gICAgICBtYXN0ZXJOb2RlczogVG9rZW4uYXNOdW1iZXIoeyBSZWY6ICdtYXN0ZXJOb2RlcycgfSksXG4gICAgICB3YXJtSW5zdGFuY2VUeXBlOiBUb2tlbi5hc1N0cmluZyh7IFJlZjogJ3dhcm1JbnN0YW5jZVR5cGUnIH0pLFxuICAgICAgd2FybU5vZGVzOiBUb2tlbi5hc051bWJlcih7IFJlZjogJ3dhcm1Ob2RlcycgfSksXG4gICAgfSxcbiAgfSk7XG5cbiAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6RWxhc3RpY3NlYXJjaDo6RG9tYWluJywge1xuICAgIEVsYXN0aWNzZWFyY2hDbHVzdGVyQ29uZmlnOiB7XG4gICAgICBJbnN0YW5jZUNvdW50OiB7XG4gICAgICAgIFJlZjogJ2RhdGFOb2RlcycsXG4gICAgICB9LFxuICAgICAgSW5zdGFuY2VUeXBlOiB7XG4gICAgICAgIFJlZjogJ2RhdGFOb2RlSW5zdGFuY2VUeXBlJyxcbiAgICAgIH0sXG4gICAgICBEZWRpY2F0ZWRNYXN0ZXJFbmFibGVkOiB0cnVlLFxuICAgICAgRGVkaWNhdGVkTWFzdGVyQ291bnQ6IHtcbiAgICAgICAgUmVmOiAnbWFzdGVyTm9kZXMnLFxuICAgICAgfSxcbiAgICAgIERlZGljYXRlZE1hc3RlclR5cGU6IHtcbiAgICAgICAgUmVmOiAnbWFzdGVyTm9kZUluc3RhbmNlVHlwZScsXG4gICAgICB9LFxuICAgICAgV2FybUVuYWJsZWQ6IHRydWUsXG4gICAgICBXYXJtQ291bnQ6IHtcbiAgICAgICAgUmVmOiAnd2FybU5vZGVzJyxcbiAgICAgIH0sXG4gICAgICBXYXJtVHlwZToge1xuICAgICAgICBSZWY6ICd3YXJtSW5zdGFuY2VUeXBlJyxcbiAgICAgIH0sXG4gICAgfSxcbiAgfSk7XG59KTtcblxuZGVzY3JpYmUoJ2xvZyBncm91cHMnLCAoKSA9PiB7XG5cbiAgdGVzdERlcHJlY2F0ZWQoJ3Nsb3dTZWFyY2hMb2dFbmFibGVkIHNob3VsZCBjcmVhdGUgYSBjdXN0b20gbG9nIGdyb3VwJywgKCkgPT4ge1xuICAgIG5ldyBEb21haW4oc3RhY2ssICdEb21haW4nLCB7XG4gICAgICB2ZXJzaW9uOiBFbGFzdGljc2VhcmNoVmVyc2lvbi5WN180LFxuICAgICAgbG9nZ2luZzoge1xuICAgICAgICBzbG93U2VhcmNoTG9nRW5hYmxlZDogdHJ1ZSxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpFbGFzdGljc2VhcmNoOjpEb21haW4nLCB7XG4gICAgICBMb2dQdWJsaXNoaW5nT3B0aW9uczoge1xuICAgICAgICBTRUFSQ0hfU0xPV19MT0dTOiB7XG4gICAgICAgICAgQ2xvdWRXYXRjaExvZ3NMb2dHcm91cEFybjoge1xuICAgICAgICAgICAgJ0ZuOjpHZXRBdHQnOiBbXG4gICAgICAgICAgICAgICdEb21haW5TbG93U2VhcmNoTG9nczVCMzVBOTdBJyxcbiAgICAgICAgICAgICAgJ0FybicsXG4gICAgICAgICAgICBdLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgRW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgICAgQVVESVRfTE9HUzogTWF0Y2guYWJzZW50KCksXG4gICAgICAgIEVTX0FQUExJQ0FUSU9OX0xPR1M6IE1hdGNoLmFic2VudCgpLFxuICAgICAgICBJTkRFWF9TTE9XX0xPR1M6IE1hdGNoLmFic2VudCgpLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfSk7XG5cbiAgdGVzdERlcHJlY2F0ZWQoJ3Nsb3dJbmRleExvZ0VuYWJsZWQgc2hvdWxkIGNyZWF0ZSBhIGN1c3RvbSBsb2cgZ3JvdXAnLCAoKSA9PiB7XG4gICAgbmV3IERvbWFpbihzdGFjaywgJ0RvbWFpbicsIHtcbiAgICAgIHZlcnNpb246IEVsYXN0aWNzZWFyY2hWZXJzaW9uLlY3XzQsXG4gICAgICBsb2dnaW5nOiB7XG4gICAgICAgIHNsb3dJbmRleExvZ0VuYWJsZWQ6IHRydWUsXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6RWxhc3RpY3NlYXJjaDo6RG9tYWluJywge1xuICAgICAgTG9nUHVibGlzaGluZ09wdGlvbnM6IHtcbiAgICAgICAgSU5ERVhfU0xPV19MT0dTOiB7XG4gICAgICAgICAgQ2xvdWRXYXRjaExvZ3NMb2dHcm91cEFybjoge1xuICAgICAgICAgICAgJ0ZuOjpHZXRBdHQnOiBbXG4gICAgICAgICAgICAgICdEb21haW5TbG93SW5kZXhMb2dzRkUyRjEwNjEnLFxuICAgICAgICAgICAgICAnQXJuJyxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgfSxcbiAgICAgICAgICBFbmFibGVkOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgICBBVURJVF9MT0dTOiBNYXRjaC5hYnNlbnQoKSxcbiAgICAgICAgRVNfQVBQTElDQVRJT05fTE9HUzogTWF0Y2guYWJzZW50KCksXG4gICAgICAgIFNFQVJDSF9TTE9XX0xPR1M6IE1hdGNoLmFic2VudCgpLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfSk7XG5cbiAgdGVzdERlcHJlY2F0ZWQoJ2FwcExvZ0VuYWJsZWQgc2hvdWxkIGNyZWF0ZSBhIGN1c3RvbSBsb2cgZ3JvdXAnLCAoKSA9PiB7XG4gICAgbmV3IERvbWFpbihzdGFjaywgJ0RvbWFpbicsIHtcbiAgICAgIHZlcnNpb246IEVsYXN0aWNzZWFyY2hWZXJzaW9uLlY3XzQsXG4gICAgICBsb2dnaW5nOiB7XG4gICAgICAgIGFwcExvZ0VuYWJsZWQ6IHRydWUsXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6RWxhc3RpY3NlYXJjaDo6RG9tYWluJywge1xuICAgICAgTG9nUHVibGlzaGluZ09wdGlvbnM6IHtcbiAgICAgICAgRVNfQVBQTElDQVRJT05fTE9HUzoge1xuICAgICAgICAgIENsb3VkV2F0Y2hMb2dzTG9nR3JvdXBBcm46IHtcbiAgICAgICAgICAgICdGbjo6R2V0QXR0JzogW1xuICAgICAgICAgICAgICAnRG9tYWluQXBwTG9nczIxNjk4QzFCJyxcbiAgICAgICAgICAgICAgJ0FybicsXG4gICAgICAgICAgICBdLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgRW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgICAgQVVESVRfTE9HUzogTWF0Y2guYWJzZW50KCksXG4gICAgICAgIFNFQVJDSF9TTE9XX0xPR1M6IE1hdGNoLmFic2VudCgpLFxuICAgICAgICBJTkRFWF9TTE9XX0xPR1M6IE1hdGNoLmFic2VudCgpLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfSk7XG5cbiAgdGVzdERlcHJlY2F0ZWQoJ2F1ZGl0TG9nRW5hYmxlZCBzaG91bGQgY3JlYXRlIGEgY3VzdG9tIGxvZyBncm91cCcsICgpID0+IHtcbiAgICBuZXcgRG9tYWluKHN0YWNrLCAnRG9tYWluJywge1xuICAgICAgdmVyc2lvbjogRWxhc3RpY3NlYXJjaFZlcnNpb24uVjdfNCxcbiAgICAgIGxvZ2dpbmc6IHtcbiAgICAgICAgYXVkaXRMb2dFbmFibGVkOiB0cnVlLFxuICAgICAgfSxcbiAgICAgIGZpbmVHcmFpbmVkQWNjZXNzQ29udHJvbDoge1xuICAgICAgICBtYXN0ZXJVc2VyTmFtZTogJ3VzZXJuYW1lJyxcbiAgICAgIH0sXG4gICAgICBub2RlVG9Ob2RlRW5jcnlwdGlvbjogdHJ1ZSxcbiAgICAgIGVuY3J5cHRpb25BdFJlc3Q6IHtcbiAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgIH0sXG4gICAgICBlbmZvcmNlSHR0cHM6IHRydWUsXG4gICAgfSk7XG5cbiAgICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpFbGFzdGljc2VhcmNoOjpEb21haW4nLCB7XG4gICAgICBMb2dQdWJsaXNoaW5nT3B0aW9uczoge1xuICAgICAgICBBVURJVF9MT0dTOiB7XG4gICAgICAgICAgQ2xvdWRXYXRjaExvZ3NMb2dHcm91cEFybjoge1xuICAgICAgICAgICAgJ0ZuOjpHZXRBdHQnOiBbXG4gICAgICAgICAgICAgICdEb21haW5BdWRpdExvZ3M2MDhFMEZBNicsXG4gICAgICAgICAgICAgICdBcm4nLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIEVuYWJsZWQ6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICAgIEVTX0FQUExJQ0FUSU9OX0xPR1M6IE1hdGNoLmFic2VudCgpLFxuICAgICAgICBTRUFSQ0hfU0xPV19MT0dTOiBNYXRjaC5hYnNlbnQoKSxcbiAgICAgICAgSU5ERVhfU0xPV19MT0dTOiBNYXRjaC5hYnNlbnQoKSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH0pO1xuXG4gIHRlc3REZXByZWNhdGVkKCd0d28gZG9tYWlucyB3aXRoIGxvZ2dpbmcgZW5hYmxlZCBjYW4gYmUgY3JlYXRlZCBpbiBzYW1lIHN0YWNrJywgKCkgPT4ge1xuICAgIG5ldyBEb21haW4oc3RhY2ssICdEb21haW4xJywge1xuICAgICAgdmVyc2lvbjogRWxhc3RpY3NlYXJjaFZlcnNpb24uVjdfNyxcbiAgICAgIGxvZ2dpbmc6IHtcbiAgICAgICAgYXBwTG9nRW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgc2xvd1NlYXJjaExvZ0VuYWJsZWQ6IHRydWUsXG4gICAgICAgIHNsb3dJbmRleExvZ0VuYWJsZWQ6IHRydWUsXG4gICAgICB9LFxuICAgIH0pO1xuICAgIG5ldyBEb21haW4oc3RhY2ssICdEb21haW4yJywge1xuICAgICAgdmVyc2lvbjogRWxhc3RpY3NlYXJjaFZlcnNpb24uVjdfNyxcbiAgICAgIGxvZ2dpbmc6IHtcbiAgICAgICAgYXBwTG9nRW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgc2xvd1NlYXJjaExvZ0VuYWJsZWQ6IHRydWUsXG4gICAgICAgIHNsb3dJbmRleExvZ0VuYWJsZWQ6IHRydWUsXG4gICAgICB9LFxuICAgIH0pO1xuICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkVsYXN0aWNzZWFyY2g6OkRvbWFpbicsIHtcbiAgICAgIExvZ1B1Ymxpc2hpbmdPcHRpb25zOiB7XG4gICAgICAgIEVTX0FQUExJQ0FUSU9OX0xPR1M6IHtcbiAgICAgICAgICBDbG91ZFdhdGNoTG9nc0xvZ0dyb3VwQXJuOiB7XG4gICAgICAgICAgICAnRm46OkdldEF0dCc6IFtcbiAgICAgICAgICAgICAgJ0RvbWFpbjFBcHBMb2dzNkU4RDFENjcnLFxuICAgICAgICAgICAgICAnQXJuJyxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgfSxcbiAgICAgICAgICBFbmFibGVkOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgICBTRUFSQ0hfU0xPV19MT0dTOiB7XG4gICAgICAgICAgQ2xvdWRXYXRjaExvZ3NMb2dHcm91cEFybjoge1xuICAgICAgICAgICAgJ0ZuOjpHZXRBdHQnOiBbXG4gICAgICAgICAgICAgICdEb21haW4xU2xvd1NlYXJjaExvZ3M4RjNCMDUwNicsXG4gICAgICAgICAgICAgICdBcm4nLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIEVuYWJsZWQ6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICAgIElOREVYX1NMT1dfTE9HUzoge1xuICAgICAgICAgIENsb3VkV2F0Y2hMb2dzTG9nR3JvdXBBcm46IHtcbiAgICAgICAgICAgICdGbjo6R2V0QXR0JzogW1xuICAgICAgICAgICAgICAnRG9tYWluMVNsb3dJbmRleExvZ3M5MzU0RDA5OCcsXG4gICAgICAgICAgICAgICdBcm4nLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIEVuYWJsZWQ6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICAgIEFVRElUX0xPR1M6IE1hdGNoLmFic2VudCgpLFxuICAgICAgfSxcbiAgICB9KTtcbiAgICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpFbGFzdGljc2VhcmNoOjpEb21haW4nLCB7XG4gICAgICBMb2dQdWJsaXNoaW5nT3B0aW9uczoge1xuICAgICAgICBFU19BUFBMSUNBVElPTl9MT0dTOiB7XG4gICAgICAgICAgQ2xvdWRXYXRjaExvZ3NMb2dHcm91cEFybjoge1xuICAgICAgICAgICAgJ0ZuOjpHZXRBdHQnOiBbXG4gICAgICAgICAgICAgICdEb21haW4yQXBwTG9nczgxMDg3NkUyJyxcbiAgICAgICAgICAgICAgJ0FybicsXG4gICAgICAgICAgICBdLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgRW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgICAgU0VBUkNIX1NMT1dfTE9HUzoge1xuICAgICAgICAgIENsb3VkV2F0Y2hMb2dzTG9nR3JvdXBBcm46IHtcbiAgICAgICAgICAgICdGbjo6R2V0QXR0JzogW1xuICAgICAgICAgICAgICAnRG9tYWluMlNsb3dTZWFyY2hMb2dzMEM3NUY2NEInLFxuICAgICAgICAgICAgICAnQXJuJyxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgfSxcbiAgICAgICAgICBFbmFibGVkOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgICBJTkRFWF9TTE9XX0xPR1M6IHtcbiAgICAgICAgICBDbG91ZFdhdGNoTG9nc0xvZ0dyb3VwQXJuOiB7XG4gICAgICAgICAgICAnRm46OkdldEF0dCc6IFtcbiAgICAgICAgICAgICAgJ0RvbWFpbjJTbG93SW5kZXhMb2dzMENCOTAwRDAnLFxuICAgICAgICAgICAgICAnQXJuJyxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgfSxcbiAgICAgICAgICBFbmFibGVkOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgICBBVURJVF9MT0dTOiBNYXRjaC5hYnNlbnQoKSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH0pO1xuXG4gIHRlc3REZXByZWNhdGVkKCdsb2cgZ3JvdXAgcG9saWN5IGlzIHVuaXF1ZWx5IG5hbWVkIGZvciBlYWNoIGRvbWFpbicsICgpID0+IHtcbiAgICBuZXcgRG9tYWluKHN0YWNrLCAnRG9tYWluMScsIHtcbiAgICAgIHZlcnNpb246IEVsYXN0aWNzZWFyY2hWZXJzaW9uLlY3XzQsXG4gICAgICBsb2dnaW5nOiB7XG4gICAgICAgIGFwcExvZ0VuYWJsZWQ6IHRydWUsXG4gICAgICB9LFxuICAgIH0pO1xuICAgIG5ldyBEb21haW4oc3RhY2ssICdEb21haW4yJywge1xuICAgICAgdmVyc2lvbjogRWxhc3RpY3NlYXJjaFZlcnNpb24uVjdfNCxcbiAgICAgIGxvZ2dpbmc6IHtcbiAgICAgICAgYXBwTG9nRW5hYmxlZDogdHJ1ZSxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvLyBEb21haW4xXG4gICAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0N1c3RvbTo6Q2xvdWR3YXRjaExvZ1Jlc291cmNlUG9saWN5Jywge1xuICAgICAgQ3JlYXRlOiB7XG4gICAgICAgICdGbjo6Sm9pbic6IFtcbiAgICAgICAgICAnJyxcbiAgICAgICAgICBbXG4gICAgICAgICAgICAne1wic2VydmljZVwiOlwiQ2xvdWRXYXRjaExvZ3NcIixcImFjdGlvblwiOlwicHV0UmVzb3VyY2VQb2xpY3lcIixcInBhcmFtZXRlcnNcIjp7XCJwb2xpY3lOYW1lXCI6XCJFU0xvZ1BvbGljeWM4MzZmZDkyZjA3ZWM0MWViNzBjMmY2ZjA4ZGM0YjQzY2ZiN2MyNTM5MVwiLFwicG9saWN5RG9jdW1lbnRcIjpcIntcXFxcXCJTdGF0ZW1lbnRcXFxcXCI6W3tcXFxcXCJBY3Rpb25cXFxcXCI6W1xcXFxcImxvZ3M6UHV0TG9nRXZlbnRzXFxcXFwiLFxcXFxcImxvZ3M6Q3JlYXRlTG9nU3RyZWFtXFxcXFwiXSxcXFxcXCJFZmZlY3RcXFxcXCI6XFxcXFwiQWxsb3dcXFxcXCIsXFxcXFwiUHJpbmNpcGFsXFxcXFwiOntcXFxcXCJTZXJ2aWNlXFxcXFwiOlxcXFxcImVzLmFtYXpvbmF3cy5jb21cXFxcXCJ9LFxcXFxcIlJlc291cmNlXFxcXFwiOlxcXFxcIicsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICdGbjo6R2V0QXR0JzogW1xuICAgICAgICAgICAgICAgICdEb21haW4xQXBwTG9nczZFOEQxRDY3JyxcbiAgICAgICAgICAgICAgICAnQXJuJyxcbiAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnXFxcXFwifV0sXFxcXFwiVmVyc2lvblxcXFxcIjpcXFxcXCIyMDEyLTEwLTE3XFxcXFwifVwifSxcInBoeXNpY2FsUmVzb3VyY2VJZFwiOntcImlkXCI6XCJFU0xvZ0dyb3VwUG9saWN5YzgzNmZkOTJmMDdlYzQxZWI3MGMyZjZmMDhkYzRiNDNjZmI3YzI1MzkxXCJ9fScsXG4gICAgICAgICAgXSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgLy8gRG9tYWluMlxuICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdDdXN0b206OkNsb3Vkd2F0Y2hMb2dSZXNvdXJjZVBvbGljeScsIHtcbiAgICAgIENyZWF0ZToge1xuICAgICAgICAnRm46OkpvaW4nOiBbXG4gICAgICAgICAgJycsXG4gICAgICAgICAgW1xuICAgICAgICAgICAgJ3tcInNlcnZpY2VcIjpcIkNsb3VkV2F0Y2hMb2dzXCIsXCJhY3Rpb25cIjpcInB1dFJlc291cmNlUG9saWN5XCIsXCJwYXJhbWV0ZXJzXCI6e1wicG9saWN5TmFtZVwiOlwiRVNMb2dQb2xpY3ljOGYwNWYwMTViZTNiYWY2ZWMxZWUwNmNkMWVlNWNjODcwNmViYmU1YjJcIixcInBvbGljeURvY3VtZW50XCI6XCJ7XFxcXFwiU3RhdGVtZW50XFxcXFwiOlt7XFxcXFwiQWN0aW9uXFxcXFwiOltcXFxcXCJsb2dzOlB1dExvZ0V2ZW50c1xcXFxcIixcXFxcXCJsb2dzOkNyZWF0ZUxvZ1N0cmVhbVxcXFxcIl0sXFxcXFwiRWZmZWN0XFxcXFwiOlxcXFxcIkFsbG93XFxcXFwiLFxcXFxcIlByaW5jaXBhbFxcXFxcIjp7XFxcXFwiU2VydmljZVxcXFxcIjpcXFxcXCJlcy5hbWF6b25hd3MuY29tXFxcXFwifSxcXFxcXCJSZXNvdXJjZVxcXFxcIjpcXFxcXCInLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAnRm46OkdldEF0dCc6IFtcbiAgICAgICAgICAgICAgICAnRG9tYWluMkFwcExvZ3M4MTA4NzZFMicsXG4gICAgICAgICAgICAgICAgJ0FybicsXG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJ1xcXFxcIn1dLFxcXFxcIlZlcnNpb25cXFxcXCI6XFxcXFwiMjAxMi0xMC0xN1xcXFxcIn1cIn0sXCJwaHlzaWNhbFJlc291cmNlSWRcIjp7XCJpZFwiOlwiRVNMb2dHcm91cFBvbGljeWM4ZjA1ZjAxNWJlM2JhZjZlYzFlZTA2Y2QxZWU1Y2M4NzA2ZWJiZTViMlwifX0nLFxuICAgICAgICAgIF0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgIH0pO1xuICB9KTtcblxuICB0ZXN0RGVwcmVjYXRlZCgnZW5hYmxpbmcgYXVkaXQgbG9ncyB0aHJvd3Mgd2l0aG91dCBmaW5lIGdyYWluZWQgYWNjZXNzIGNvbnRyb2wgZW5hYmxlZCcsICgpID0+IHtcbiAgICBleHBlY3QoKCkgPT4gbmV3IERvbWFpbihzdGFjaywgJ0RvbWFpbicsIHtcbiAgICAgIHZlcnNpb246IEVsYXN0aWNzZWFyY2hWZXJzaW9uLlY2XzcsXG4gICAgICBsb2dnaW5nOiB7XG4gICAgICAgIGF1ZGl0TG9nRW5hYmxlZDogdHJ1ZSxcbiAgICAgIH0sXG4gICAgfSkpLnRvVGhyb3coL0ZpbmUtZ3JhaW5lZCBhY2Nlc3MgY29udHJvbCBpcyByZXF1aXJlZCB3aGVuIGF1ZGl0IGxvZ3MgcHVibGlzaGluZyBpcyBlbmFibGVkXFwuLyk7XG4gIH0pO1xuXG4gIHRlc3REZXByZWNhdGVkKCdzbG93U2VhcmNoTG9nR3JvdXAgc2hvdWxkIHVzZSBhIGN1c3RvbSBsb2cgZ3JvdXAnLCAoKSA9PiB7XG4gICAgbmV3IERvbWFpbihzdGFjaywgJ0RvbWFpbicsIHtcbiAgICAgIHZlcnNpb246IEVsYXN0aWNzZWFyY2hWZXJzaW9uLlY3XzQsXG4gICAgICBsb2dnaW5nOiB7XG4gICAgICAgIHNsb3dTZWFyY2hMb2dFbmFibGVkOiB0cnVlLFxuICAgICAgICBzbG93U2VhcmNoTG9nR3JvdXA6IG5ldyBsb2dzLkxvZ0dyb3VwKHN0YWNrLCAnU2xvd1NlYXJjaExvZ3MnLCB7XG4gICAgICAgICAgcmV0ZW50aW9uOiBsb2dzLlJldGVudGlvbkRheXMuVEhSRUVfTU9OVEhTLFxuICAgICAgICB9KSxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpFbGFzdGljc2VhcmNoOjpEb21haW4nLCB7XG4gICAgICBMb2dQdWJsaXNoaW5nT3B0aW9uczoge1xuICAgICAgICBTRUFSQ0hfU0xPV19MT0dTOiB7XG4gICAgICAgICAgQ2xvdWRXYXRjaExvZ3NMb2dHcm91cEFybjoge1xuICAgICAgICAgICAgJ0ZuOjpHZXRBdHQnOiBbXG4gICAgICAgICAgICAgICdTbG93U2VhcmNoTG9nc0UwMERDMkU3JyxcbiAgICAgICAgICAgICAgJ0FybicsXG4gICAgICAgICAgICBdLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgRW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgICAgQVVESVRfTE9HUzogTWF0Y2guYWJzZW50KCksXG4gICAgICAgIEVTX0FQUExJQ0FUSU9OX0xPR1M6IE1hdGNoLmFic2VudCgpLFxuICAgICAgICBJTkRFWF9TTE9XX0xPR1M6IE1hdGNoLmFic2VudCgpLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfSk7XG5cbiAgdGVzdERlcHJlY2F0ZWQoJ3Nsb3dJbmRleExvZ0VuYWJsZWQgc2hvdWxkIHVzZSBhIGN1c3RvbSBsb2cgZ3JvdXAnLCAoKSA9PiB7XG4gICAgbmV3IERvbWFpbihzdGFjaywgJ0RvbWFpbicsIHtcbiAgICAgIHZlcnNpb246IEVsYXN0aWNzZWFyY2hWZXJzaW9uLlY3XzQsXG4gICAgICBsb2dnaW5nOiB7XG4gICAgICAgIHNsb3dJbmRleExvZ0VuYWJsZWQ6IHRydWUsXG4gICAgICAgIHNsb3dJbmRleExvZ0dyb3VwOiBuZXcgbG9ncy5Mb2dHcm91cChzdGFjaywgJ1Nsb3dJbmRleExvZ3MnLCB7XG4gICAgICAgICAgcmV0ZW50aW9uOiBsb2dzLlJldGVudGlvbkRheXMuVEhSRUVfTU9OVEhTLFxuICAgICAgICB9KSxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpFbGFzdGljc2VhcmNoOjpEb21haW4nLCB7XG4gICAgICBMb2dQdWJsaXNoaW5nT3B0aW9uczoge1xuICAgICAgICBJTkRFWF9TTE9XX0xPR1M6IHtcbiAgICAgICAgICBDbG91ZFdhdGNoTG9nc0xvZ0dyb3VwQXJuOiB7XG4gICAgICAgICAgICAnRm46OkdldEF0dCc6IFtcbiAgICAgICAgICAgICAgJ1Nsb3dJbmRleExvZ3NBRDQ5REVEMCcsXG4gICAgICAgICAgICAgICdBcm4nLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIEVuYWJsZWQ6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICAgIEFVRElUX0xPR1M6IE1hdGNoLmFic2VudCgpLFxuICAgICAgICBFU19BUFBMSUNBVElPTl9MT0dTOiBNYXRjaC5hYnNlbnQoKSxcbiAgICAgICAgU0VBUkNIX1NMT1dfTE9HUzogTWF0Y2guYWJzZW50KCksXG4gICAgICB9LFxuICAgIH0pO1xuICB9KTtcblxuICB0ZXN0RGVwcmVjYXRlZCgnYXBwTG9nR3JvdXAgc2hvdWxkIHVzZSBhIGN1c3RvbSBsb2cgZ3JvdXAnLCAoKSA9PiB7XG4gICAgbmV3IERvbWFpbihzdGFjaywgJ0RvbWFpbicsIHtcbiAgICAgIHZlcnNpb246IEVsYXN0aWNzZWFyY2hWZXJzaW9uLlY3XzQsXG4gICAgICBsb2dnaW5nOiB7XG4gICAgICAgIGFwcExvZ0VuYWJsZWQ6IHRydWUsXG4gICAgICAgIGFwcExvZ0dyb3VwOiBuZXcgbG9ncy5Mb2dHcm91cChzdGFjaywgJ0FwcExvZ3MnLCB7XG4gICAgICAgICAgcmV0ZW50aW9uOiBsb2dzLlJldGVudGlvbkRheXMuVEhSRUVfTU9OVEhTLFxuICAgICAgICB9KSxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpFbGFzdGljc2VhcmNoOjpEb21haW4nLCB7XG4gICAgICBMb2dQdWJsaXNoaW5nT3B0aW9uczoge1xuICAgICAgICBFU19BUFBMSUNBVElPTl9MT0dTOiB7XG4gICAgICAgICAgQ2xvdWRXYXRjaExvZ3NMb2dHcm91cEFybjoge1xuICAgICAgICAgICAgJ0ZuOjpHZXRBdHQnOiBbXG4gICAgICAgICAgICAgICdBcHBMb2dzQzVERjgzQTYnLFxuICAgICAgICAgICAgICAnQXJuJyxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgfSxcbiAgICAgICAgICBFbmFibGVkOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgICBBVURJVF9MT0dTOiBNYXRjaC5hYnNlbnQoKSxcbiAgICAgICAgU0VBUkNIX1NMT1dfTE9HUzogTWF0Y2guYWJzZW50KCksXG4gICAgICAgIElOREVYX1NMT1dfTE9HUzogTWF0Y2guYWJzZW50KCksXG4gICAgICB9LFxuICAgIH0pO1xuICB9KTtcblxuICB0ZXN0RGVwcmVjYXRlZCgnYXVkaXRMT2dHcm91cCBzaG91bGQgdXNlIGEgY3VzdG9tIGxvZyBncm91cCcsICgpID0+IHtcbiAgICBuZXcgRG9tYWluKHN0YWNrLCAnRG9tYWluJywge1xuICAgICAgdmVyc2lvbjogRWxhc3RpY3NlYXJjaFZlcnNpb24uVjdfNCxcbiAgICAgIGZpbmVHcmFpbmVkQWNjZXNzQ29udHJvbDoge1xuICAgICAgICBtYXN0ZXJVc2VyTmFtZTogJ3VzZXJuYW1lJyxcbiAgICAgIH0sXG4gICAgICBub2RlVG9Ob2RlRW5jcnlwdGlvbjogdHJ1ZSxcbiAgICAgIGVuY3J5cHRpb25BdFJlc3Q6IHtcbiAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgIH0sXG4gICAgICBlbmZvcmNlSHR0cHM6IHRydWUsXG4gICAgICBsb2dnaW5nOiB7XG4gICAgICAgIGF1ZGl0TG9nRW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgYXVkaXRMb2dHcm91cDogbmV3IGxvZ3MuTG9nR3JvdXAoc3RhY2ssICdBdWRpdExvZ3MnLCB7XG4gICAgICAgICAgcmV0ZW50aW9uOiBsb2dzLlJldGVudGlvbkRheXMuVEhSRUVfTU9OVEhTLFxuICAgICAgICB9KSxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpFbGFzdGljc2VhcmNoOjpEb21haW4nLCB7XG4gICAgICBMb2dQdWJsaXNoaW5nT3B0aW9uczoge1xuICAgICAgICBBVURJVF9MT0dTOiB7XG4gICAgICAgICAgQ2xvdWRXYXRjaExvZ3NMb2dHcm91cEFybjoge1xuICAgICAgICAgICAgJ0ZuOjpHZXRBdHQnOiBbXG4gICAgICAgICAgICAgICdBdWRpdExvZ3NCOTQ1RTM0MCcsXG4gICAgICAgICAgICAgICdBcm4nLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIEVuYWJsZWQ6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICAgIEVTX0FQUExJQ0FUSU9OX0xPR1M6IE1hdGNoLmFic2VudCgpLFxuICAgICAgICBTRUFSQ0hfU0xPV19MT0dTOiBNYXRjaC5hYnNlbnQoKSxcbiAgICAgICAgSU5ERVhfU0xPV19MT0dTOiBNYXRjaC5hYnNlbnQoKSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH0pO1xuXG59KTtcblxuZGVzY3JpYmUoJ2dyYW50cycsICgpID0+IHtcblxuICB0ZXN0RGVwcmVjYXRlZCgnXCJncmFudFJlYWRcIiBhbGxvd3MgcmVhZCBhY3Rpb25zIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGRvbWFpbiByZXNvdXJjZScsICgpID0+IHtcbiAgICB0ZXN0R3JhbnQocmVhZEFjdGlvbnMsIChwLCBkKSA9PiBkLmdyYW50UmVhZChwKSk7XG4gIH0pO1xuXG4gIHRlc3REZXByZWNhdGVkKCdcImdyYW50V3JpdGVcIiBhbGxvd3Mgd3JpdGUgYWN0aW9ucyBhc3NvY2lhdGVkIHdpdGggdGhpcyBkb21haW4gcmVzb3VyY2UnLCAoKSA9PiB7XG4gICAgdGVzdEdyYW50KHdyaXRlQWN0aW9ucywgKHAsIGQpID0+IGQuZ3JhbnRXcml0ZShwKSk7XG4gIH0pO1xuXG4gIHRlc3REZXByZWNhdGVkKCdcImdyYW50UmVhZFdyaXRlXCIgYWxsb3dzIHJlYWQgYW5kIHdyaXRlIGFjdGlvbnMgYXNzb2NpYXRlZCB3aXRoIHRoaXMgZG9tYWluIHJlc291cmNlJywgKCkgPT4ge1xuICAgIHRlc3RHcmFudChyZWFkV3JpdGVBY3Rpb25zLCAocCwgZCkgPT4gZC5ncmFudFJlYWRXcml0ZShwKSk7XG4gIH0pO1xuXG4gIHRlc3REZXByZWNhdGVkKCdcImdyYW50SW5kZXhSZWFkXCIgYWxsb3dzIHJlYWQgYWN0aW9ucyBhc3NvY2lhdGVkIHdpdGggYW4gaW5kZXggaW4gdGhpcyBkb21haW4gcmVzb3VyY2UnLCAoKSA9PiB7XG4gICAgdGVzdEdyYW50KFxuICAgICAgcmVhZEFjdGlvbnMsXG4gICAgICAocCwgZCkgPT4gZC5ncmFudEluZGV4UmVhZCgnbXktaW5kZXgnLCBwKSxcbiAgICAgIGZhbHNlLFxuICAgICAgWycvbXktaW5kZXgnLCAnL215LWluZGV4LyonXSxcbiAgICApO1xuICB9KTtcblxuICB0ZXN0RGVwcmVjYXRlZCgnXCJncmFudEluZGV4V3JpdGVcIiBhbGxvd3Mgd3JpdGUgYWN0aW9ucyBhc3NvY2lhdGVkIHdpdGggYW4gaW5kZXggaW4gdGhpcyBkb21haW4gcmVzb3VyY2UnLCAoKSA9PiB7XG4gICAgdGVzdEdyYW50KFxuICAgICAgd3JpdGVBY3Rpb25zLFxuICAgICAgKHAsIGQpID0+IGQuZ3JhbnRJbmRleFdyaXRlKCdteS1pbmRleCcsIHApLFxuICAgICAgZmFsc2UsXG4gICAgICBbJy9teS1pbmRleCcsICcvbXktaW5kZXgvKiddLFxuICAgICk7XG4gIH0pO1xuXG4gIHRlc3REZXByZWNhdGVkKCdcImdyYW50SW5kZXhSZWFkV3JpdGVcIiBhbGxvd3MgcmVhZCBhbmQgd3JpdGUgYWN0aW9ucyBhc3NvY2lhdGVkIHdpdGggYW4gaW5kZXggaW4gdGhpcyBkb21haW4gcmVzb3VyY2UnLCAoKSA9PiB7XG4gICAgdGVzdEdyYW50KFxuICAgICAgcmVhZFdyaXRlQWN0aW9ucyxcbiAgICAgIChwLCBkKSA9PiBkLmdyYW50SW5kZXhSZWFkV3JpdGUoJ215LWluZGV4JywgcCksXG4gICAgICBmYWxzZSxcbiAgICAgIFsnL215LWluZGV4JywgJy9teS1pbmRleC8qJ10sXG4gICAgKTtcbiAgfSk7XG5cbiAgdGVzdERlcHJlY2F0ZWQoJ1wiZ3JhbnRQYXRoUmVhZFwiIGFsbG93cyByZWFkIGFjdGlvbnMgYXNzb2NpYXRlZCB3aXRoIGEgZ2l2ZW4gcGF0aCBpbiB0aGlzIGRvbWFpbiByZXNvdXJjZScsICgpID0+IHtcbiAgICB0ZXN0R3JhbnQoXG4gICAgICByZWFkQWN0aW9ucyxcbiAgICAgIChwLCBkKSA9PiBkLmdyYW50UGF0aFJlYWQoJ215LWluZGV4L215LXBhdGgnLCBwKSxcbiAgICAgIGZhbHNlLFxuICAgICAgWycvbXktaW5kZXgvbXktcGF0aCddLFxuICAgICk7XG4gIH0pO1xuXG4gIHRlc3REZXByZWNhdGVkKCdcImdyYW50UGF0aFdyaXRlXCIgYWxsb3dzIHdyaXRlIGFjdGlvbnMgYXNzb2NpYXRlZCB3aXRoIGEgZ2l2ZW4gcGF0aCBpbiB0aGlzIGRvbWFpbiByZXNvdXJjZScsICgpID0+IHtcbiAgICB0ZXN0R3JhbnQoXG4gICAgICB3cml0ZUFjdGlvbnMsXG4gICAgICAocCwgZCkgPT4gZC5ncmFudFBhdGhXcml0ZSgnbXktaW5kZXgvbXktcGF0aCcsIHApLFxuICAgICAgZmFsc2UsXG4gICAgICBbJy9teS1pbmRleC9teS1wYXRoJ10sXG4gICAgKTtcbiAgfSk7XG5cbiAgdGVzdERlcHJlY2F0ZWQoJ1wiZ3JhbnRQYXRoUmVhZFdyaXRlXCIgYWxsb3dzIHJlYWQgYW5kIHdyaXRlIGFjdGlvbnMgYXNzb2NpYXRlZCB3aXRoIGEgZ2l2ZW4gcGF0aCBpbiB0aGlzIGRvbWFpbiByZXNvdXJjZScsICgpID0+IHtcbiAgICB0ZXN0R3JhbnQoXG4gICAgICByZWFkV3JpdGVBY3Rpb25zLFxuICAgICAgKHAsIGQpID0+IGQuZ3JhbnRQYXRoUmVhZFdyaXRlKCdteS1pbmRleC9teS1wYXRoJywgcCksXG4gICAgICBmYWxzZSxcbiAgICAgIFsnL215LWluZGV4L215LXBhdGgnXSxcbiAgICApO1xuICB9KTtcblxuICB0ZXN0RGVwcmVjYXRlZCgnXCJncmFudFwiIGZvciBhbiBpbXBvcnRlZCBkb21haW4nLCAoKSA9PiB7XG4gICAgY29uc3QgZG9tYWluRW5kcG9pbnQgPSAnaHR0cHM6Ly90ZXN0LWRvbWFpbi0ydzJ4MnUzdGlmbHktamNqb3RydDZmN290ZW00c3Fjd2JjaDNjNHUudGVzdHJlZ2lvbi5lcy5hbWF6b25hd3MuY29tJztcbiAgICBjb25zdCBkb21haW4gPSBEb21haW4uZnJvbURvbWFpbkVuZHBvaW50KHN0YWNrLCAnRG9tYWluJywgZG9tYWluRW5kcG9pbnQpO1xuICAgIGNvbnN0IHVzZXIgPSBuZXcgaWFtLlVzZXIoc3RhY2ssICd1c2VyJyk7XG5cbiAgICBkb21haW4uZ3JhbnRSZWFkV3JpdGUodXNlcik7XG5cbiAgICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpJQU06OlBvbGljeScsIHtcbiAgICAgIFBvbGljeURvY3VtZW50OiB7XG4gICAgICAgIFN0YXRlbWVudDogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIEFjdGlvbjogW1xuICAgICAgICAgICAgICAnZXM6RVNIdHRwR2V0JyxcbiAgICAgICAgICAgICAgJ2VzOkVTSHR0cEhlYWQnLFxuICAgICAgICAgICAgICAnZXM6RVNIdHRwRGVsZXRlJyxcbiAgICAgICAgICAgICAgJ2VzOkVTSHR0cFBvc3QnLFxuICAgICAgICAgICAgICAnZXM6RVNIdHRwUHV0JyxcbiAgICAgICAgICAgICAgJ2VzOkVTSHR0cFBhdGNoJyxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBFZmZlY3Q6ICdBbGxvdycsXG4gICAgICAgICAgICBSZXNvdXJjZTogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgJ0ZuOjpKb2luJzogW1xuICAgICAgICAgICAgICAgICAgJycsXG4gICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICdhcm46JyxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIFJlZjogJ0FXUzo6UGFydGl0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgJzplczp0ZXN0cmVnaW9uOjEyMzQ6ZG9tYWluL3Rlc3QtZG9tYWluLTJ3MngydTN0aWZseScsXG4gICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAnRm46OkpvaW4nOiBbXG4gICAgICAgICAgICAgICAgICAnJyxcbiAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgJ2FybjonLFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgUmVmOiAnQVdTOjpQYXJ0aXRpb24nLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAnOmVzOnRlc3RyZWdpb246MTIzNDpkb21haW4vdGVzdC1kb21haW4tMncyeDJ1M3RpZmx5LyonLFxuICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgICBWZXJzaW9uOiAnMjAxMi0xMC0xNycsXG4gICAgICB9LFxuICAgICAgUG9saWN5TmFtZTogJ3VzZXJEZWZhdWx0UG9saWN5MDgzREY2ODInLFxuICAgICAgVXNlcnM6IFtcbiAgICAgICAge1xuICAgICAgICAgIFJlZjogJ3VzZXIyQzJCNTdBRScsXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgIH0pO1xuICB9KTtcblxufSk7XG5cbmRlc2NyaWJlKCdtZXRyaWNzJywgKCkgPT4ge1xuXG4gIHRlc3REZXByZWNhdGVkKCdDYW4gdXNlIG1ldHJpY0NsdXN0ZXJTdGF0dXNSZWQgb24gYW4gRWxhc3RpY3NlYXJjaCBEb21haW4nLCAoKSA9PiB7XG4gICAgdGVzdE1ldHJpYyhcbiAgICAgIChkb21haW4pID0+IGRvbWFpbi5tZXRyaWNDbHVzdGVyU3RhdHVzUmVkKCksXG4gICAgICAnQ2x1c3RlclN0YXR1cy5yZWQnLFxuICAgICAgU3RhdGlzdGljLk1BWElNVU0sXG4gICAgKTtcbiAgfSk7XG5cbiAgdGVzdERlcHJlY2F0ZWQoJ0NhbiB1c2UgbWV0cmljQ2x1c3RlclN0YXR1c1llbGxvdyBvbiBhbiBFbGFzdGljc2VhcmNoIERvbWFpbicsICgpID0+IHtcbiAgICB0ZXN0TWV0cmljKFxuICAgICAgKGRvbWFpbikgPT4gZG9tYWluLm1ldHJpY0NsdXN0ZXJTdGF0dXNZZWxsb3coKSxcbiAgICAgICdDbHVzdGVyU3RhdHVzLnllbGxvdycsXG4gICAgICBTdGF0aXN0aWMuTUFYSU1VTSxcbiAgICApO1xuICB9KTtcblxuICB0ZXN0RGVwcmVjYXRlZCgnQ2FuIHVzZSBtZXRyaWNGcmVlU3RvcmFnZVNwYWNlIG9uIGFuIEVsYXN0aWNzZWFyY2ggRG9tYWluJywgKCkgPT4ge1xuICAgIHRlc3RNZXRyaWMoXG4gICAgICAoZG9tYWluKSA9PiBkb21haW4ubWV0cmljRnJlZVN0b3JhZ2VTcGFjZSgpLFxuICAgICAgJ0ZyZWVTdG9yYWdlU3BhY2UnLFxuICAgICAgU3RhdGlzdGljLk1JTklNVU0sXG4gICAgKTtcbiAgfSk7XG5cbiAgdGVzdERlcHJlY2F0ZWQoJ0NhbiB1c2UgbWV0cmljQ2x1c3RlckluZGV4V3JpdGVCbG9ja2VkIG9uIGFuIEVsYXN0aWNzZWFyY2ggRG9tYWluJywgKCkgPT4ge1xuICAgIHRlc3RNZXRyaWMoXG4gICAgICAoZG9tYWluKSA9PiBkb21haW4ubWV0cmljQ2x1c3RlckluZGV4V3JpdGVzQmxvY2tlZCgpLFxuICAgICAgJ0NsdXN0ZXJJbmRleFdyaXRlc0Jsb2NrZWQnLFxuICAgICAgU3RhdGlzdGljLk1BWElNVU0sXG4gICAgICBEdXJhdGlvbi5taW51dGVzKDEpLFxuICAgICk7XG4gIH0pO1xuXG4gIHRlc3REZXByZWNhdGVkKCdDYW4gdXNlIG1ldHJpY05vZGVzIG9uIGFuIEVsYXN0aWNzZWFyY2ggRG9tYWluJywgKCkgPT4ge1xuICAgIHRlc3RNZXRyaWMoXG4gICAgICAoZG9tYWluKSA9PiBkb21haW4ubWV0cmljTm9kZXMoKSxcbiAgICAgICdOb2RlcycsXG4gICAgICBTdGF0aXN0aWMuTUlOSU1VTSxcbiAgICAgIER1cmF0aW9uLmhvdXJzKDEpLFxuICAgICk7XG4gIH0pO1xuXG4gIHRlc3REZXByZWNhdGVkKCdDYW4gdXNlIG1ldHJpY0F1dG9tYXRlZFNuYXBzaG90RmFpbHVyZSBvbiBhbiBFbGFzdGljc2VhcmNoIERvbWFpbicsICgpID0+IHtcbiAgICB0ZXN0TWV0cmljKFxuICAgICAgKGRvbWFpbikgPT4gZG9tYWluLm1ldHJpY0F1dG9tYXRlZFNuYXBzaG90RmFpbHVyZSgpLFxuICAgICAgJ0F1dG9tYXRlZFNuYXBzaG90RmFpbHVyZScsXG4gICAgICBTdGF0aXN0aWMuTUFYSU1VTSxcbiAgICApO1xuICB9KTtcblxuICB0ZXN0RGVwcmVjYXRlZCgnQ2FuIHVzZSBtZXRyaWNDUFVVdGlsaXphdGlvbiBvbiBhbiBFbGFzdGljc2VhcmNoIERvbWFpbicsICgpID0+IHtcbiAgICB0ZXN0TWV0cmljKFxuICAgICAgKGRvbWFpbikgPT4gZG9tYWluLm1ldHJpY0NQVVV0aWxpemF0aW9uKCksXG4gICAgICAnQ1BVVXRpbGl6YXRpb24nLFxuICAgICAgU3RhdGlzdGljLk1BWElNVU0sXG4gICAgKTtcbiAgfSk7XG5cbiAgdGVzdERlcHJlY2F0ZWQoJ0NhbiB1c2UgbWV0cmljSlZNTWVtb3J5UHJlc3N1cmUgb24gYW4gRWxhc3RpY3NlYXJjaCBEb21haW4nLCAoKSA9PiB7XG4gICAgdGVzdE1ldHJpYyhcbiAgICAgIChkb21haW4pID0+IGRvbWFpbi5tZXRyaWNKVk1NZW1vcnlQcmVzc3VyZSgpLFxuICAgICAgJ0pWTU1lbW9yeVByZXNzdXJlJyxcbiAgICAgIFN0YXRpc3RpYy5NQVhJTVVNLFxuICAgICk7XG4gIH0pO1xuXG4gIHRlc3REZXByZWNhdGVkKCdDYW4gdXNlIG1ldHJpY01hc3RlckNQVVV0aWxpemF0aW9uIG9uIGFuIEVsYXN0aWNzZWFyY2ggRG9tYWluJywgKCkgPT4ge1xuICAgIHRlc3RNZXRyaWMoXG4gICAgICAoZG9tYWluKSA9PiBkb21haW4ubWV0cmljTWFzdGVyQ1BVVXRpbGl6YXRpb24oKSxcbiAgICAgICdNYXN0ZXJDUFVVdGlsaXphdGlvbicsXG4gICAgICBTdGF0aXN0aWMuTUFYSU1VTSxcbiAgICApO1xuICB9KTtcblxuICB0ZXN0RGVwcmVjYXRlZCgnQ2FuIHVzZSBtZXRyaWNNYXN0ZXJKVk1NZW1vcnlQcmVzc3VyZSBvbiBhbiBFbGFzdGljc2VhcmNoIERvbWFpbicsICgpID0+IHtcbiAgICB0ZXN0TWV0cmljKFxuICAgICAgKGRvbWFpbikgPT4gZG9tYWluLm1ldHJpY01hc3RlckpWTU1lbW9yeVByZXNzdXJlKCksXG4gICAgICAnTWFzdGVySlZNTWVtb3J5UHJlc3N1cmUnLFxuICAgICAgU3RhdGlzdGljLk1BWElNVU0sXG4gICAgKTtcbiAgfSk7XG5cbiAgdGVzdERlcHJlY2F0ZWQoJ0NhbiB1c2UgbWV0cmljS01TS2V5RXJyb3Igb24gYW4gRWxhc3RpY3NlYXJjaCBEb21haW4nLCAoKSA9PiB7XG4gICAgdGVzdE1ldHJpYyhcbiAgICAgIChkb21haW4pID0+IGRvbWFpbi5tZXRyaWNLTVNLZXlFcnJvcigpLFxuICAgICAgJ0tNU0tleUVycm9yJyxcbiAgICAgIFN0YXRpc3RpYy5NQVhJTVVNLFxuICAgICk7XG4gIH0pO1xuXG4gIHRlc3REZXByZWNhdGVkKCdDYW4gdXNlIG1ldHJpY0tNU0tleUluYWNjZXNzaWJsZSBvbiBhbiBFbGFzdGljc2VhcmNoIERvbWFpbicsICgpID0+IHtcbiAgICB0ZXN0TWV0cmljKFxuICAgICAgKGRvbWFpbikgPT4gZG9tYWluLm1ldHJpY0tNU0tleUluYWNjZXNzaWJsZSgpLFxuICAgICAgJ0tNU0tleUluYWNjZXNzaWJsZScsXG4gICAgICBTdGF0aXN0aWMuTUFYSU1VTSxcbiAgICApO1xuICB9KTtcblxuICB0ZXN0RGVwcmVjYXRlZCgnQ2FuIHVzZSBtZXRyaWNTZWFyY2hhYmxlRG9jdW1lbnRzIG9uIGFuIEVsYXN0aWNzZWFyY2ggRG9tYWluJywgKCkgPT4ge1xuICAgIHRlc3RNZXRyaWMoXG4gICAgICAoZG9tYWluKSA9PiBkb21haW4ubWV0cmljU2VhcmNoYWJsZURvY3VtZW50cygpLFxuICAgICAgJ1NlYXJjaGFibGVEb2N1bWVudHMnLFxuICAgICAgU3RhdGlzdGljLk1BWElNVU0sXG4gICAgKTtcbiAgfSk7XG5cbiAgdGVzdERlcHJlY2F0ZWQoJ0NhbiB1c2UgbWV0cmljU2VhcmNoTGF0ZW5jeSBvbiBhbiBFbGFzdGljc2VhcmNoIERvbWFpbicsICgpID0+IHtcbiAgICB0ZXN0TWV0cmljKFxuICAgICAgKGRvbWFpbikgPT4gZG9tYWluLm1ldHJpY1NlYXJjaExhdGVuY3koKSxcbiAgICAgICdTZWFyY2hMYXRlbmN5JyxcbiAgICAgICdwOTknLFxuICAgICk7XG4gIH0pO1xuXG4gIHRlc3REZXByZWNhdGVkKCdDYW4gdXNlIG1ldHJpY0luZGV4aW5nTGF0ZW5jeSBvbiBhbiBFbGFzdGljc2VhcmNoIERvbWFpbicsICgpID0+IHtcbiAgICB0ZXN0TWV0cmljKFxuICAgICAgKGRvbWFpbikgPT4gZG9tYWluLm1ldHJpY0luZGV4aW5nTGF0ZW5jeSgpLFxuICAgICAgJ0luZGV4aW5nTGF0ZW5jeScsXG4gICAgICAncDk5JyxcbiAgICApO1xuICB9KTtcblxufSk7XG5cbmRlc2NyaWJlKCdpbXBvcnQnLCAoKSA9PiB7XG5cbiAgdGVzdERlcHJlY2F0ZWQoJ3N0YXRpYyBmcm9tRG9tYWluRW5kcG9pbnQoZW5kcG9pbnQpIGFsbG93cyBpbXBvcnRpbmcgYW4gZXh0ZXJuYWwvZXhpc3RpbmcgZG9tYWluJywgKCkgPT4ge1xuICAgIGNvbnN0IGRvbWFpbk5hbWUgPSAndGVzdC1kb21haW4tMncyeDJ1M3RpZmx5JztcbiAgICBjb25zdCBkb21haW5FbmRwb2ludFdpdGhvdXRIdHRwcyA9IGAke2RvbWFpbk5hbWV9LWpjam90cnQ2ZjdvdGVtNHNxY3diY2gzYzR1LnRlc3RyZWdpb24uZXMuYW1hem9uYXdzLmNvbWA7XG4gICAgY29uc3QgZG9tYWluRW5kcG9pbnQgPSBgaHR0cHM6Ly8ke2RvbWFpbkVuZHBvaW50V2l0aG91dEh0dHBzfWA7XG4gICAgY29uc3QgaW1wb3J0ZWQgPSBEb21haW4uZnJvbURvbWFpbkVuZHBvaW50KHN0YWNrLCAnRG9tYWluJywgZG9tYWluRW5kcG9pbnQpO1xuXG4gICAgZXhwZWN0KGltcG9ydGVkLmRvbWFpbk5hbWUpLnRvRXF1YWwoZG9tYWluTmFtZSk7XG4gICAgZXhwZWN0KGltcG9ydGVkLmRvbWFpbkFybikudG9NYXRjaChSZWdFeHAoYGVzOnRlc3RyZWdpb246MTIzNDpkb21haW4vJHtkb21haW5OYW1lfSRgKSk7XG4gICAgZXhwZWN0KGltcG9ydGVkLmRvbWFpbkVuZHBvaW50KS50b0VxdWFsKGRvbWFpbkVuZHBvaW50V2l0aG91dEh0dHBzKTtcblxuICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykucmVzb3VyY2VDb3VudElzKCdBV1M6OkVsYXN0aWNzZWFyY2g6OkRvbWFpbicsIDApO1xuICB9KTtcblxuICB0ZXN0RGVwcmVjYXRlZCgnc3RhdGljIGZyb21Eb21haW5BdHRyaWJ1dGVzKGF0dHJpYnV0ZXMpIGFsbG93cyBpbXBvcnRpbmcgYW4gZXh0ZXJuYWwvZXhpc3RpbmcgZG9tYWluJywgKCkgPT4ge1xuICAgIGNvbnN0IGRvbWFpbk5hbWUgPSAndGVzdC1kb21haW4tMncyeDJ1M3RpZmx5JztcbiAgICBjb25zdCBkb21haW5Bcm4gPSBgYXJuOmF3czplczp0ZXN0cmVnaW9uOjEyMzQ6ZG9tYWluLyR7ZG9tYWluTmFtZX1gO1xuICAgIGNvbnN0IGRvbWFpbkVuZHBvaW50V2l0aG91dEh0dHBzID0gYCR7ZG9tYWluTmFtZX0tamNqb3RydDZmN290ZW00c3Fjd2JjaDNjNHUudGVzdHJlZ2lvbi5lcy5hbWF6b25hd3MuY29tYDtcbiAgICBjb25zdCBkb21haW5FbmRwb2ludCA9IGBodHRwczovLyR7ZG9tYWluRW5kcG9pbnRXaXRob3V0SHR0cHN9YDtcbiAgICBjb25zdCBpbXBvcnRlZCA9IERvbWFpbi5mcm9tRG9tYWluQXR0cmlidXRlcyhzdGFjaywgJ0RvbWFpbicsIHtcbiAgICAgIGRvbWFpbkFybixcbiAgICAgIGRvbWFpbkVuZHBvaW50LFxuICAgIH0pO1xuXG4gICAgZXhwZWN0KGltcG9ydGVkLmRvbWFpbk5hbWUpLnRvRXF1YWwoZG9tYWluTmFtZSk7XG4gICAgZXhwZWN0KGltcG9ydGVkLmRvbWFpbkFybikudG9FcXVhbChkb21haW5Bcm4pO1xuICAgIGV4cGVjdChpbXBvcnRlZC5kb21haW5FbmRwb2ludCkudG9FcXVhbChkb21haW5FbmRwb2ludFdpdGhvdXRIdHRwcyk7XG5cbiAgICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLnJlc291cmNlQ291bnRJcygnQVdTOjpFbGFzdGljc2VhcmNoOjpEb21haW4nLCAwKTtcbiAgfSk7XG5cbiAgdGVzdERlcHJlY2F0ZWQoJ3N0YXRpYyBmcm9tRG9tYWluQXR0cmlidXRlcyhhdHRyaWJ1dGVzKSBhbGxvd3MgaW1wb3J0aW5nIHdpdGggdG9rZW4gYXJuIGFuZCBlbmRwb2ludCcsICgpID0+IHtcbiAgICBjb25zdCBkb21haW5Bcm4gPSBuZXcgQ2ZuUGFyYW1ldGVyKHN0YWNrLCAnZG9tYWluQXJuJywgeyB0eXBlOiAnU3RyaW5nJyB9KS52YWx1ZUFzU3RyaW5nO1xuICAgIGNvbnN0IGRvbWFpbkVuZHBvaW50ID0gbmV3IENmblBhcmFtZXRlcihzdGFjaywgJ2RvbWFpbkVuZHBvaW50JywgeyB0eXBlOiAnU3RyaW5nJyB9KS52YWx1ZUFzU3RyaW5nO1xuICAgIGNvbnN0IGltcG9ydGVkID0gRG9tYWluLmZyb21Eb21haW5BdHRyaWJ1dGVzKHN0YWNrLCAnRG9tYWluJywge1xuICAgICAgZG9tYWluQXJuLFxuICAgICAgZG9tYWluRW5kcG9pbnQsXG4gICAgfSk7XG4gICAgY29uc3QgZXhwZWN0ZWREb21haW5OYW1lID0ge1xuICAgICAgJ0ZuOjpTZWxlY3QnOiBbXG4gICAgICAgIDEsXG4gICAgICAgIHtcbiAgICAgICAgICAnRm46OlNwbGl0JzogW1xuICAgICAgICAgICAgJy8nLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAnRm46OlNlbGVjdCc6IFtcbiAgICAgICAgICAgICAgICA1LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICdGbjo6U3BsaXQnOiBbXG4gICAgICAgICAgICAgICAgICAgICc6JyxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIFJlZjogJ2RvbWFpbkFybicsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgIH07XG5cbiAgICBleHBlY3Qoc3RhY2sucmVzb2x2ZShpbXBvcnRlZC5kb21haW5OYW1lKSkudG9FcXVhbChleHBlY3RlZERvbWFpbk5hbWUpO1xuICAgIGV4cGVjdChpbXBvcnRlZC5kb21haW5Bcm4pLnRvRXF1YWwoZG9tYWluQXJuKTtcbiAgICBleHBlY3QoaW1wb3J0ZWQuZG9tYWluRW5kcG9pbnQpLnRvRXF1YWwoZG9tYWluRW5kcG9pbnQpO1xuXG4gICAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5yZXNvdXJjZUNvdW50SXMoJ0FXUzo6RWxhc3RpY3NlYXJjaDo6RG9tYWluJywgMCk7XG4gIH0pO1xufSk7XG5cbmRlc2NyaWJlKCdhZHZhbmNlZCBzZWN1cml0eSBvcHRpb25zJywgKCkgPT4ge1xuICBjb25zdCBtYXN0ZXJVc2VyQXJuID0gJ2Fybjphd3M6aWFtOjoxMjM0NTY3ODkwMTI6dXNlci9Kb2huRG9lJztcbiAgY29uc3QgbWFzdGVyVXNlck5hbWUgPSAnSm9obkRvZSc7XG4gIGNvbnN0IHBhc3N3b3JkID0gJ3Bhc3N3b3JkJztcbiAgY29uc3QgbWFzdGVyVXNlclBhc3N3b3JkID0gU2VjcmV0VmFsdWUudW5zYWZlUGxhaW5UZXh0KHBhc3N3b3JkKTtcblxuICB0ZXN0RGVwcmVjYXRlZCgnZW5hYmxlIGZpbmUtZ3JhaW5lZCBhY2Nlc3MgY29udHJvbCB3aXRoIGEgbWFzdGVyIHVzZXIgQVJOJywgKCkgPT4ge1xuICAgIG5ldyBEb21haW4oc3RhY2ssICdEb21haW4nLCB7XG4gICAgICB2ZXJzaW9uOiBFbGFzdGljc2VhcmNoVmVyc2lvbi5WN18xLFxuICAgICAgZmluZUdyYWluZWRBY2Nlc3NDb250cm9sOiB7XG4gICAgICAgIG1hc3RlclVzZXJBcm4sXG4gICAgICB9LFxuICAgICAgZW5jcnlwdGlvbkF0UmVzdDoge1xuICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgfSxcbiAgICAgIG5vZGVUb05vZGVFbmNyeXB0aW9uOiB0cnVlLFxuICAgICAgZW5mb3JjZUh0dHBzOiB0cnVlLFxuICAgIH0pO1xuXG4gICAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6RWxhc3RpY3NlYXJjaDo6RG9tYWluJywge1xuICAgICAgQWR2YW5jZWRTZWN1cml0eU9wdGlvbnM6IHtcbiAgICAgICAgRW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgSW50ZXJuYWxVc2VyRGF0YWJhc2VFbmFibGVkOiBmYWxzZSxcbiAgICAgICAgTWFzdGVyVXNlck9wdGlvbnM6IHtcbiAgICAgICAgICBNYXN0ZXJVc2VyQVJOOiBtYXN0ZXJVc2VyQXJuLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIEVuY3J5cHRpb25BdFJlc3RPcHRpb25zOiB7XG4gICAgICAgIEVuYWJsZWQ6IHRydWUsXG4gICAgICB9LFxuICAgICAgTm9kZVRvTm9kZUVuY3J5cHRpb25PcHRpb25zOiB7XG4gICAgICAgIEVuYWJsZWQ6IHRydWUsXG4gICAgICB9LFxuICAgICAgRG9tYWluRW5kcG9pbnRPcHRpb25zOiB7XG4gICAgICAgIEVuZm9yY2VIVFRQUzogdHJ1ZSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH0pO1xuXG4gIHRlc3REZXByZWNhdGVkKCdlbmFibGUgZmluZS1ncmFpbmVkIGFjY2VzcyBjb250cm9sIHdpdGggYSBtYXN0ZXIgdXNlciBuYW1lIGFuZCBwYXNzd29yZCcsICgpID0+IHtcbiAgICBuZXcgRG9tYWluKHN0YWNrLCAnRG9tYWluJywge1xuICAgICAgdmVyc2lvbjogRWxhc3RpY3NlYXJjaFZlcnNpb24uVjdfMSxcbiAgICAgIGZpbmVHcmFpbmVkQWNjZXNzQ29udHJvbDoge1xuICAgICAgICBtYXN0ZXJVc2VyTmFtZSxcbiAgICAgICAgbWFzdGVyVXNlclBhc3N3b3JkLFxuICAgICAgfSxcbiAgICAgIGVuY3J5cHRpb25BdFJlc3Q6IHtcbiAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgIH0sXG4gICAgICBub2RlVG9Ob2RlRW5jcnlwdGlvbjogdHJ1ZSxcbiAgICAgIGVuZm9yY2VIdHRwczogdHJ1ZSxcbiAgICB9KTtcblxuICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkVsYXN0aWNzZWFyY2g6OkRvbWFpbicsIHtcbiAgICAgIEFkdmFuY2VkU2VjdXJpdHlPcHRpb25zOiB7XG4gICAgICAgIEVuYWJsZWQ6IHRydWUsXG4gICAgICAgIEludGVybmFsVXNlckRhdGFiYXNlRW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgTWFzdGVyVXNlck9wdGlvbnM6IHtcbiAgICAgICAgICBNYXN0ZXJVc2VyTmFtZTogbWFzdGVyVXNlck5hbWUsXG4gICAgICAgICAgTWFzdGVyVXNlclBhc3N3b3JkOiBwYXNzd29yZCxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBFbmNyeXB0aW9uQXRSZXN0T3B0aW9uczoge1xuICAgICAgICBFbmFibGVkOiB0cnVlLFxuICAgICAgfSxcbiAgICAgIE5vZGVUb05vZGVFbmNyeXB0aW9uT3B0aW9uczoge1xuICAgICAgICBFbmFibGVkOiB0cnVlLFxuICAgICAgfSxcbiAgICAgIERvbWFpbkVuZHBvaW50T3B0aW9uczoge1xuICAgICAgICBFbmZvcmNlSFRUUFM6IHRydWUsXG4gICAgICB9LFxuICAgIH0pO1xuICB9KTtcblxuICB0ZXN0RGVwcmVjYXRlZCgnZW5hYmxlIGZpbmUtZ3JhaW5lZCBhY2Nlc3MgY29udHJvbCB3aXRoIGEgbWFzdGVyIHVzZXIgbmFtZSBhbmQgZHluYW1pY2FsbHkgZ2VuZXJhdGVkIHBhc3N3b3JkJywgKCkgPT4ge1xuICAgIG5ldyBEb21haW4oc3RhY2ssICdEb21haW4nLCB7XG4gICAgICB2ZXJzaW9uOiBFbGFzdGljc2VhcmNoVmVyc2lvbi5WN18xLFxuICAgICAgZmluZUdyYWluZWRBY2Nlc3NDb250cm9sOiB7XG4gICAgICAgIG1hc3RlclVzZXJOYW1lLFxuICAgICAgfSxcbiAgICAgIGVuY3J5cHRpb25BdFJlc3Q6IHtcbiAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgIH0sXG4gICAgICBub2RlVG9Ob2RlRW5jcnlwdGlvbjogdHJ1ZSxcbiAgICAgIGVuZm9yY2VIdHRwczogdHJ1ZSxcbiAgICB9KTtcblxuICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkVsYXN0aWNzZWFyY2g6OkRvbWFpbicsIHtcbiAgICAgIEFkdmFuY2VkU2VjdXJpdHlPcHRpb25zOiB7XG4gICAgICAgIEVuYWJsZWQ6IHRydWUsXG4gICAgICAgIEludGVybmFsVXNlckRhdGFiYXNlRW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgTWFzdGVyVXNlck9wdGlvbnM6IHtcbiAgICAgICAgICBNYXN0ZXJVc2VyTmFtZTogbWFzdGVyVXNlck5hbWUsXG4gICAgICAgICAgTWFzdGVyVXNlclBhc3N3b3JkOiB7XG4gICAgICAgICAgICAnRm46OkpvaW4nOiBbXG4gICAgICAgICAgICAgICcnLFxuICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgJ3t7cmVzb2x2ZTpzZWNyZXRzbWFuYWdlcjonLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIFJlZjogJ0RvbWFpbk1hc3RlclVzZXJCRkFGQTdEOScsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnOlNlY3JldFN0cmluZzpwYXNzd29yZDo6fX0nLFxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIEVuY3J5cHRpb25BdFJlc3RPcHRpb25zOiB7XG4gICAgICAgIEVuYWJsZWQ6IHRydWUsXG4gICAgICB9LFxuICAgICAgTm9kZVRvTm9kZUVuY3J5cHRpb25PcHRpb25zOiB7XG4gICAgICAgIEVuYWJsZWQ6IHRydWUsXG4gICAgICB9LFxuICAgICAgRG9tYWluRW5kcG9pbnRPcHRpb25zOiB7XG4gICAgICAgIEVuZm9yY2VIVFRQUzogdHJ1ZSxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpTZWNyZXRzTWFuYWdlcjo6U2VjcmV0Jywge1xuICAgICAgR2VuZXJhdGVTZWNyZXRTdHJpbmc6IHtcbiAgICAgICAgR2VuZXJhdGVTdHJpbmdLZXk6ICdwYXNzd29yZCcsXG4gICAgICB9LFxuICAgIH0pO1xuICB9KTtcblxuICB0ZXN0RGVwcmVjYXRlZCgnZW5hYmxpbmcgZmluZS1ncmFpbmVkIGFjY2VzcyBjb250cm9sIHRocm93cyB3aXRoIEVsYXN0aWNzZWFyY2ggPCA2LjcnLCAoKSA9PiB7XG4gICAgZXhwZWN0KCgpID0+IG5ldyBEb21haW4oc3RhY2ssICdEb21haW4nLCB7XG4gICAgICB2ZXJzaW9uOiBFbGFzdGljc2VhcmNoVmVyc2lvbi5WNl81LFxuICAgICAgZmluZUdyYWluZWRBY2Nlc3NDb250cm9sOiB7XG4gICAgICAgIG1hc3RlclVzZXJBcm4sXG4gICAgICB9LFxuICAgICAgZW5jcnlwdGlvbkF0UmVzdDoge1xuICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgfSxcbiAgICAgIG5vZGVUb05vZGVFbmNyeXB0aW9uOiB0cnVlLFxuICAgICAgZW5mb3JjZUh0dHBzOiB0cnVlLFxuICAgIH0pKS50b1Rocm93KC9GaW5lLWdyYWluZWQgYWNjZXNzIGNvbnRyb2wgcmVxdWlyZXMgRWxhc3RpY3NlYXJjaCB2ZXJzaW9uIDZcXC43IG9yIGxhdGVyLyk7XG4gIH0pO1xuXG4gIHRlc3REZXByZWNhdGVkKCdlbmFibGluZyBmaW5lLWdyYWluZWQgYWNjZXNzIGNvbnRyb2wgdGhyb3dzIHdpdGhvdXQgbm9kZS10by1ub2RlIGVuY3J5cHRpb24gZW5hYmxlZCcsICgpID0+IHtcbiAgICBleHBlY3QoKCkgPT4gbmV3IERvbWFpbihzdGFjaywgJ0RvbWFpbicsIHtcbiAgICAgIHZlcnNpb246IEVsYXN0aWNzZWFyY2hWZXJzaW9uLlY3XzcsXG4gICAgICBmaW5lR3JhaW5lZEFjY2Vzc0NvbnRyb2w6IHtcbiAgICAgICAgbWFzdGVyVXNlckFybixcbiAgICAgIH0sXG4gICAgICBlbmNyeXB0aW9uQXRSZXN0OiB7XG4gICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICB9LFxuICAgICAgbm9kZVRvTm9kZUVuY3J5cHRpb246IGZhbHNlLFxuICAgICAgZW5mb3JjZUh0dHBzOiB0cnVlLFxuICAgIH0pKS50b1Rocm93KC9Ob2RlLXRvLW5vZGUgZW5jcnlwdGlvbiBpcyByZXF1aXJlZCB3aGVuIGZpbmUtZ3JhaW5lZCBhY2Nlc3MgY29udHJvbCBpcyBlbmFibGVkLyk7XG4gIH0pO1xuXG4gIHRlc3REZXByZWNhdGVkKCdlbmFibGluZyBmaW5lLWdyYWluZWQgYWNjZXNzIGNvbnRyb2wgdGhyb3dzIHdpdGhvdXQgZW5jcnlwdGlvbi1hdC1yZXN0IGVuYWJsZWQnLCAoKSA9PiB7XG4gICAgZXhwZWN0KCgpID0+IG5ldyBEb21haW4oc3RhY2ssICdEb21haW4nLCB7XG4gICAgICB2ZXJzaW9uOiBFbGFzdGljc2VhcmNoVmVyc2lvbi5WN183LFxuICAgICAgZmluZUdyYWluZWRBY2Nlc3NDb250cm9sOiB7XG4gICAgICAgIG1hc3RlclVzZXJBcm4sXG4gICAgICB9LFxuICAgICAgZW5jcnlwdGlvbkF0UmVzdDoge1xuICAgICAgICBlbmFibGVkOiBmYWxzZSxcbiAgICAgIH0sXG4gICAgICBub2RlVG9Ob2RlRW5jcnlwdGlvbjogdHJ1ZSxcbiAgICAgIGVuZm9yY2VIdHRwczogdHJ1ZSxcbiAgICB9KSkudG9UaHJvdygvRW5jcnlwdGlvbi1hdC1yZXN0IGlzIHJlcXVpcmVkIHdoZW4gZmluZS1ncmFpbmVkIGFjY2VzcyBjb250cm9sIGlzIGVuYWJsZWQvKTtcbiAgfSk7XG5cbiAgdGVzdERlcHJlY2F0ZWQoJ2VuYWJsaW5nIGZpbmUtZ3JhaW5lZCBhY2Nlc3MgY29udHJvbCB0aHJvd3Mgd2l0aG91dCBlbmZvcmNlSHR0cHMgZW5hYmxlZCcsICgpID0+IHtcbiAgICBleHBlY3QoKCkgPT4gbmV3IERvbWFpbihzdGFjaywgJ0RvbWFpbicsIHtcbiAgICAgIHZlcnNpb246IEVsYXN0aWNzZWFyY2hWZXJzaW9uLlY3XzcsXG4gICAgICBmaW5lR3JhaW5lZEFjY2Vzc0NvbnRyb2w6IHtcbiAgICAgICAgbWFzdGVyVXNlckFybixcbiAgICAgIH0sXG4gICAgICBlbmNyeXB0aW9uQXRSZXN0OiB7XG4gICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICB9LFxuICAgICAgbm9kZVRvTm9kZUVuY3J5cHRpb246IHRydWUsXG4gICAgICBlbmZvcmNlSHR0cHM6IGZhbHNlLFxuICAgIH0pKS50b1Rocm93KC9FbmZvcmNlIEhUVFBTIGlzIHJlcXVpcmVkIHdoZW4gZmluZS1ncmFpbmVkIGFjY2VzcyBjb250cm9sIGlzIGVuYWJsZWQvKTtcbiAgfSk7XG59KTtcblxuZGVzY3JpYmUoJ2N1c3RvbSBlbmRwb2ludHMnLCAoKSA9PiB7XG4gIGNvbnN0IGN1c3RvbURvbWFpbk5hbWUgPSAnc2VhcmNoLmV4YW1wbGUuY29tJztcblxuICB0ZXN0RGVwcmVjYXRlZCgnY3VzdG9tIGRvbWFpbiB3aXRob3V0IGhvc3RlZCB6b25lIGFuZCBkZWZhdWx0IGNlcnQnLCAoKSA9PiB7XG4gICAgbmV3IERvbWFpbihzdGFjaywgJ0RvbWFpbicsIHtcbiAgICAgIHZlcnNpb246IEVsYXN0aWNzZWFyY2hWZXJzaW9uLlY3XzEsXG4gICAgICBub2RlVG9Ob2RlRW5jcnlwdGlvbjogdHJ1ZSxcbiAgICAgIGVuZm9yY2VIdHRwczogdHJ1ZSxcbiAgICAgIGN1c3RvbUVuZHBvaW50OiB7XG4gICAgICAgIGRvbWFpbk5hbWU6IGN1c3RvbURvbWFpbk5hbWUsXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6RWxhc3RpY3NlYXJjaDo6RG9tYWluJywge1xuICAgICAgRG9tYWluRW5kcG9pbnRPcHRpb25zOiB7XG4gICAgICAgIEVuZm9yY2VIVFRQUzogdHJ1ZSxcbiAgICAgICAgQ3VzdG9tRW5kcG9pbnRFbmFibGVkOiB0cnVlLFxuICAgICAgICBDdXN0b21FbmRwb2ludDogY3VzdG9tRG9tYWluTmFtZSxcbiAgICAgICAgQ3VzdG9tRW5kcG9pbnRDZXJ0aWZpY2F0ZUFybjoge1xuICAgICAgICAgIFJlZjogJ0RvbWFpbkN1c3RvbUVuZHBvaW50Q2VydGlmaWNhdGVEMDgwQTY5RScsIC8vIEF1dG8tZ2VuZXJhdGVkIGNlcnRpZmljYXRlXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0pO1xuICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkNlcnRpZmljYXRlTWFuYWdlcjo6Q2VydGlmaWNhdGUnLCB7XG4gICAgICBEb21haW5OYW1lOiBjdXN0b21Eb21haW5OYW1lLFxuICAgICAgVmFsaWRhdGlvbk1ldGhvZDogJ0VNQUlMJyxcbiAgICB9KTtcbiAgfSk7XG5cbiAgdGVzdERlcHJlY2F0ZWQoJ2N1c3RvbSBkb21haW4gd2l0aCBob3N0ZWQgem9uZSBhbmQgZGVmYXVsdCBjZXJ0JywgKCkgPT4ge1xuICAgIGNvbnN0IHpvbmUgPSBuZXcgcm91dGU1My5Ib3N0ZWRab25lKHN0YWNrLCAnRHVtbXlab25lJywgeyB6b25lTmFtZTogJ2V4YW1wbGUuY29tJyB9KTtcbiAgICBuZXcgRG9tYWluKHN0YWNrLCAnRG9tYWluJywge1xuICAgICAgdmVyc2lvbjogRWxhc3RpY3NlYXJjaFZlcnNpb24uVjdfMSxcbiAgICAgIG5vZGVUb05vZGVFbmNyeXB0aW9uOiB0cnVlLFxuICAgICAgZW5mb3JjZUh0dHBzOiB0cnVlLFxuICAgICAgY3VzdG9tRW5kcG9pbnQ6IHtcbiAgICAgICAgZG9tYWluTmFtZTogY3VzdG9tRG9tYWluTmFtZSxcbiAgICAgICAgaG9zdGVkWm9uZTogem9uZSxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpFbGFzdGljc2VhcmNoOjpEb21haW4nLCB7XG4gICAgICBEb21haW5FbmRwb2ludE9wdGlvbnM6IHtcbiAgICAgICAgRW5mb3JjZUhUVFBTOiB0cnVlLFxuICAgICAgICBDdXN0b21FbmRwb2ludEVuYWJsZWQ6IHRydWUsXG4gICAgICAgIEN1c3RvbUVuZHBvaW50OiBjdXN0b21Eb21haW5OYW1lLFxuICAgICAgICBDdXN0b21FbmRwb2ludENlcnRpZmljYXRlQXJuOiB7XG4gICAgICAgICAgUmVmOiAnRG9tYWluQ3VzdG9tRW5kcG9pbnRDZXJ0aWZpY2F0ZUQwODBBNjlFJywgLy8gQXV0by1nZW5lcmF0ZWQgY2VydGlmaWNhdGVcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6Q2VydGlmaWNhdGVNYW5hZ2VyOjpDZXJ0aWZpY2F0ZScsIHtcbiAgICAgIERvbWFpbk5hbWU6IGN1c3RvbURvbWFpbk5hbWUsXG4gICAgICBEb21haW5WYWxpZGF0aW9uT3B0aW9uczogW1xuICAgICAgICB7XG4gICAgICAgICAgRG9tYWluTmFtZTogY3VzdG9tRG9tYWluTmFtZSxcbiAgICAgICAgICBIb3N0ZWRab25lSWQ6IHtcbiAgICAgICAgICAgIFJlZjogJ0R1bW15Wm9uZTAzRTBGRTgxJyxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICAgIFZhbGlkYXRpb25NZXRob2Q6ICdETlMnLFxuICAgIH0pO1xuICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OlJvdXRlNTM6OlJlY29yZFNldCcsIHtcbiAgICAgIE5hbWU6ICdzZWFyY2guZXhhbXBsZS5jb20uJyxcbiAgICAgIFR5cGU6ICdDTkFNRScsXG4gICAgICBIb3N0ZWRab25lSWQ6IHtcbiAgICAgICAgUmVmOiAnRHVtbXlab25lMDNFMEZFODEnLFxuICAgICAgfSxcbiAgICAgIFJlc291cmNlUmVjb3JkczogW1xuICAgICAgICB7XG4gICAgICAgICAgJ0ZuOjpHZXRBdHQnOiBbXG4gICAgICAgICAgICAnRG9tYWluNjZBQzY5RTAnLFxuICAgICAgICAgICAgJ0RvbWFpbkVuZHBvaW50JyxcbiAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICB9KTtcbiAgfSk7XG5cbiAgdGVzdERlcHJlY2F0ZWQoJ2N1c3RvbSBkb21haW4gd2l0aCBob3N0ZWQgem9uZSBhbmQgZ2l2ZW4gY2VydCcsICgpID0+IHtcbiAgICBjb25zdCB6b25lID0gbmV3IHJvdXRlNTMuSG9zdGVkWm9uZShzdGFjaywgJ0R1bW15Wm9uZScsIHtcbiAgICAgIHpvbmVOYW1lOiAnZXhhbXBsZS5jb20nLFxuICAgIH0pO1xuICAgIGNvbnN0IGNlcnRpZmljYXRlID0gbmV3IGFjbS5DZXJ0aWZpY2F0ZShzdGFjaywgJ0R1bW15Q2VydCcsIHtcbiAgICAgIGRvbWFpbk5hbWU6IGN1c3RvbURvbWFpbk5hbWUsXG4gICAgfSk7XG5cbiAgICBuZXcgRG9tYWluKHN0YWNrLCAnRG9tYWluJywge1xuICAgICAgdmVyc2lvbjogRWxhc3RpY3NlYXJjaFZlcnNpb24uVjdfMSxcbiAgICAgIG5vZGVUb05vZGVFbmNyeXB0aW9uOiB0cnVlLFxuICAgICAgZW5mb3JjZUh0dHBzOiB0cnVlLFxuICAgICAgY3VzdG9tRW5kcG9pbnQ6IHtcbiAgICAgICAgZG9tYWluTmFtZTogY3VzdG9tRG9tYWluTmFtZSxcbiAgICAgICAgaG9zdGVkWm9uZTogem9uZSxcbiAgICAgICAgY2VydGlmaWNhdGUsXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6RWxhc3RpY3NlYXJjaDo6RG9tYWluJywge1xuICAgICAgRG9tYWluRW5kcG9pbnRPcHRpb25zOiB7XG4gICAgICAgIEVuZm9yY2VIVFRQUzogdHJ1ZSxcbiAgICAgICAgQ3VzdG9tRW5kcG9pbnRFbmFibGVkOiB0cnVlLFxuICAgICAgICBDdXN0b21FbmRwb2ludDogY3VzdG9tRG9tYWluTmFtZSxcbiAgICAgICAgQ3VzdG9tRW5kcG9pbnRDZXJ0aWZpY2F0ZUFybjoge1xuICAgICAgICAgIFJlZjogJ0R1bW15Q2VydEZBMzc2NzBCJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6Um91dGU1Mzo6UmVjb3JkU2V0Jywge1xuICAgICAgTmFtZTogJ3NlYXJjaC5leGFtcGxlLmNvbS4nLFxuICAgICAgVHlwZTogJ0NOQU1FJyxcbiAgICAgIEhvc3RlZFpvbmVJZDoge1xuICAgICAgICBSZWY6ICdEdW1teVpvbmUwM0UwRkU4MScsXG4gICAgICB9LFxuICAgICAgUmVzb3VyY2VSZWNvcmRzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAnRm46OkdldEF0dCc6IFtcbiAgICAgICAgICAgICdEb21haW42NkFDNjlFMCcsXG4gICAgICAgICAgICAnRG9tYWluRW5kcG9pbnQnLFxuICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgIH0pO1xuICB9KTtcblxufSk7XG5cbmRlc2NyaWJlKCdjdXN0b20gZXJyb3IgcmVzcG9uc2VzJywgKCkgPT4ge1xuXG4gIHRlc3REZXByZWNhdGVkKCdlcnJvciB3aGVuIGF2YWlsYWJpbGl0eVpvbmVDb3VudCBkb2VzIG5vdCBtYXRjaCB2cGNPcHRpb25zLnN1Ym5ldHMgbGVuZ3RoJywgKCkgPT4ge1xuICAgIGNvbnN0IHZwYyA9IG5ldyBWcGMoc3RhY2ssICdWcGMnLCB7XG4gICAgICBtYXhBenM6IDEsXG4gICAgfSk7XG5cbiAgICBleHBlY3QoKCkgPT4gbmV3IERvbWFpbihzdGFjaywgJ0RvbWFpbicsIHtcbiAgICAgIHZlcnNpb246IEVsYXN0aWNzZWFyY2hWZXJzaW9uLlY3XzQsXG4gICAgICB6b25lQXdhcmVuZXNzOiB7XG4gICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgIGF2YWlsYWJpbGl0eVpvbmVDb3VudDogMixcbiAgICAgIH0sXG4gICAgICB2cGMsXG4gICAgfSkpLnRvVGhyb3coL3lvdSBuZWVkIHRvIHByb3ZpZGUgYSBzdWJuZXQgZm9yIGVhY2ggQVogeW91IGFyZSB1c2luZy8pO1xuICB9KTtcblxuICB0ZXN0RGVwcmVjYXRlZCgnZXJyb3Igd2hlbiBtYXN0ZXIsIGRhdGEgb3IgVWx0cmEgV2FybSBpbnN0YW5jZSB0eXBlcyBkbyBub3QgZW5kIHdpdGggLmVsYXN0aWNzZWFyY2gnLCAoKSA9PiB7XG4gICAgY29uc3QgZXJyb3IgPSAvaW5zdGFuY2UgdHlwZXMgbXVzdCBlbmQgd2l0aCBcIi5lbGFzdGljc2VhcmNoXCIvO1xuICAgIGV4cGVjdCgoKSA9PiBuZXcgRG9tYWluKHN0YWNrLCAnRG9tYWluMScsIHtcbiAgICAgIHZlcnNpb246IEVsYXN0aWNzZWFyY2hWZXJzaW9uLlY3XzQsXG4gICAgICBjYXBhY2l0eToge1xuICAgICAgICBtYXN0ZXJOb2RlSW5zdGFuY2VUeXBlOiAnYzUubGFyZ2UnLFxuICAgICAgfSxcbiAgICB9KSkudG9UaHJvdyhlcnJvcik7XG4gICAgZXhwZWN0KCgpID0+IG5ldyBEb21haW4oc3RhY2ssICdEb21haW4yJywge1xuICAgICAgdmVyc2lvbjogRWxhc3RpY3NlYXJjaFZlcnNpb24uVjdfNCxcbiAgICAgIGNhcGFjaXR5OiB7XG4gICAgICAgIGRhdGFOb2RlSW5zdGFuY2VUeXBlOiAnYzUuMnhsYXJnZScsXG4gICAgICB9LFxuICAgIH0pKS50b1Rocm93KGVycm9yKTtcbiAgICBleHBlY3QoKCkgPT4gbmV3IERvbWFpbihzdGFjaywgJ0RvbWFpbjMnLCB7XG4gICAgICB2ZXJzaW9uOiBFbGFzdGljc2VhcmNoVmVyc2lvbi5WN180LFxuICAgICAgY2FwYWNpdHk6IHtcbiAgICAgICAgd2FybUluc3RhbmNlVHlwZTogJ3VsdHJhd2FybTEubWVkaXVtJyxcbiAgICAgIH0sXG4gICAgfSkpLnRvVGhyb3coZXJyb3IpO1xuICB9KTtcblxuICB0ZXN0RGVwcmVjYXRlZCgnZXJyb3Igd2hlbiBVbHRyYSBXYXJtIGluc3RhbmNlIHR5cGVzIGRvIG5vdCBzdGFydCB3aXRoIHVsdHJhd2FybScsICgpID0+IHtcbiAgICBjb25zdCBlcnJvciA9IC9VbHRyYVdhcm0gbm9kZSBpbnN0YW5jZSB0eXBlIG11c3Qgc3RhcnQgd2l0aCBcInVsdHJhd2FybVwiLi87XG4gICAgZXhwZWN0KCgpID0+IG5ldyBEb21haW4oc3RhY2ssICdEb21haW4xJywge1xuICAgICAgdmVyc2lvbjogRWxhc3RpY3NlYXJjaFZlcnNpb24uVjdfNCxcbiAgICAgIGNhcGFjaXR5OiB7XG4gICAgICAgIHdhcm1JbnN0YW5jZVR5cGU6ICd0My5zbWFsbC5lbGFzdGljc2VhcmNoJyxcbiAgICAgIH0sXG4gICAgfSkpLnRvVGhyb3coZXJyb3IpO1xuICB9KTtcblxuICB0ZXN0RGVwcmVjYXRlZCgnZXJyb3Igd2hlbiBlbGFzdGljc2VhcmNoVmVyc2lvbiBpcyB1bnN1cHBvcnRlZC91bmtub3duJywgKCkgPT4ge1xuICAgIGV4cGVjdCgoKSA9PiBuZXcgRG9tYWluKHN0YWNrLCAnRG9tYWluMScsIHtcbiAgICAgIHZlcnNpb246IEVsYXN0aWNzZWFyY2hWZXJzaW9uLm9mKCc1LjQnKSxcbiAgICB9KSkudG9UaHJvdygvVW5rbm93biBFbGFzdGljc2VhcmNoIHZlcnNpb246IDVcXC40Lyk7XG4gIH0pO1xuXG4gIHRlc3REZXByZWNhdGVkKCdlcnJvciB3aGVuIGludmFsaWQgZG9tYWluIG5hbWUgaXMgZ2l2ZW4nLCAoKSA9PiB7XG4gICAgZXhwZWN0KCgpID0+IG5ldyBEb21haW4oc3RhY2ssICdEb21haW4xJywge1xuICAgICAgdmVyc2lvbjogRWxhc3RpY3NlYXJjaFZlcnNpb24uVjdfNCxcbiAgICAgIGRvbWFpbk5hbWU6ICdJbnZhbGlkTmFtZScsXG4gICAgfSkpLnRvVGhyb3coL1ZhbGlkIGNoYXJhY3RlcnMgYXJlIGEtei8pO1xuICAgIGV4cGVjdCgoKSA9PiBuZXcgRG9tYWluKHN0YWNrLCAnRG9tYWluMicsIHtcbiAgICAgIHZlcnNpb246IEVsYXN0aWNzZWFyY2hWZXJzaW9uLlY3XzQsXG4gICAgICBkb21haW5OYW1lOiAnYScucmVwZWF0KDI5KSxcbiAgICB9KSkudG9UaHJvdygvSXQgbXVzdCBiZSBiZXR3ZWVuIDMgYW5kIDI4IGNoYXJhY3RlcnMvKTtcbiAgICBleHBlY3QoKCkgPT4gbmV3IERvbWFpbihzdGFjaywgJ0RvbWFpbjMnLCB7XG4gICAgICB2ZXJzaW9uOiBFbGFzdGljc2VhcmNoVmVyc2lvbi5WN180LFxuICAgICAgZG9tYWluTmFtZTogJzEyM2RvbWFpbicsXG4gICAgfSkpLnRvVGhyb3coL0l0IG11c3Qgc3RhcnQgd2l0aCBhIGxvd2VyY2FzZSBsZXR0ZXIvKTtcbiAgfSk7XG5cbiAgdGVzdERlcHJlY2F0ZWQoJ2Vycm9yIHdoZW4gZXJyb3IgbG9nIHB1Ymxpc2hpbmcgaXMgZW5hYmxlZCBmb3IgZWxhc3RpY3NlYXJjaCB2ZXJzaW9uIDwgNS4xJywgKCkgPT4ge1xuICAgIGNvbnN0IGVycm9yID0gL0Vycm9yIGxvZ3MgcHVibGlzaGluZyByZXF1aXJlcyBFbGFzdGljc2VhcmNoIHZlcnNpb24gNS4xIG9yIGxhdGVyLztcbiAgICBleHBlY3QoKCkgPT4gbmV3IERvbWFpbihzdGFjaywgJ0RvbWFpbjEnLCB7XG4gICAgICB2ZXJzaW9uOiBFbGFzdGljc2VhcmNoVmVyc2lvbi5WMl8zLFxuICAgICAgbG9nZ2luZzoge1xuICAgICAgICBhcHBMb2dFbmFibGVkOiB0cnVlLFxuICAgICAgfSxcbiAgICB9KSkudG9UaHJvdyhlcnJvcik7XG4gIH0pO1xuXG4gIHRlc3REZXByZWNhdGVkKCdlcnJvciB3aGVuIGVuY3J5cHRpb24gYXQgcmVzdCBpcyBlbmFibGVkIGZvciBlbGFzdGljc2VhcmNoIHZlcnNpb24gPCA1LjEnLCAoKSA9PiB7XG4gICAgZXhwZWN0KCgpID0+IG5ldyBEb21haW4oc3RhY2ssICdEb21haW4xJywge1xuICAgICAgdmVyc2lvbjogRWxhc3RpY3NlYXJjaFZlcnNpb24uVjJfMyxcbiAgICAgIGVuY3J5cHRpb25BdFJlc3Q6IHtcbiAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgIH0sXG4gICAgfSkpLnRvVGhyb3coL0VuY3J5cHRpb24gb2YgZGF0YSBhdCByZXN0IHJlcXVpcmVzIEVsYXN0aWNzZWFyY2ggdmVyc2lvbiA1LjEgb3IgbGF0ZXIvKTtcbiAgfSk7XG5cbiAgdGVzdERlcHJlY2F0ZWQoJ2Vycm9yIHdoZW4gY29nbml0byBmb3Iga2liYW5hIGlzIGVuYWJsZWQgZm9yIGVsYXN0aWNzZWFyY2ggdmVyc2lvbiA8IDUuMScsICgpID0+IHtcbiAgICBjb25zdCB1c2VyID0gbmV3IGlhbS5Vc2VyKHN0YWNrLCAndXNlcicpO1xuICAgIGV4cGVjdCgoKSA9PiBuZXcgRG9tYWluKHN0YWNrLCAnRG9tYWluMScsIHtcbiAgICAgIHZlcnNpb246IEVsYXN0aWNzZWFyY2hWZXJzaW9uLlYyXzMsXG4gICAgICBjb2duaXRvS2liYW5hQXV0aDoge1xuICAgICAgICBpZGVudGl0eVBvb2xJZDogJ3Rlc3QtaWRlbnRpdHktcG9vbC1pZCcsXG4gICAgICAgIHJvbGU6IG5ldyBpYW0uUm9sZShzdGFjaywgJ1JvbGUnLCB7IGFzc3VtZWRCeTogdXNlciB9KSxcbiAgICAgICAgdXNlclBvb2xJZDogJ3Rlc3QtdXNlci1wb29sLWlkJyxcbiAgICAgIH0sXG4gICAgfSkpLnRvVGhyb3coL0NvZ25pdG8gYXV0aGVudGljYXRpb24gZm9yIEtpYmFuYSByZXF1aXJlcyBFbGFzdGljc2VhcmNoIHZlcnNpb24gNS4xIG9yIGxhdGVyLyk7XG4gIH0pO1xuXG4gIHRlc3REZXByZWNhdGVkKCdlcnJvciB3aGVuIEM1LCBJMywgTTUsIG9yIFI1IGluc3RhbmNlIHR5cGVzIGFyZSBzcGVjaWZpZWQgZm9yIGVsYXN0aWNzZWFyY2ggdmVyc2lvbiA8IDUuMScsICgpID0+IHtcbiAgICBjb25zdCBlcnJvciA9IC9DNSwgSTMsIE01LCBhbmQgUjUgaW5zdGFuY2UgdHlwZXMgcmVxdWlyZSBFbGFzdGljc2VhcmNoIHZlcnNpb24gNS4xIG9yIGxhdGVyLztcbiAgICBleHBlY3QoKCkgPT4gbmV3IERvbWFpbihzdGFjaywgJ0RvbWFpbjEnLCB7XG4gICAgICB2ZXJzaW9uOiBFbGFzdGljc2VhcmNoVmVyc2lvbi5WMl8zLFxuICAgICAgY2FwYWNpdHk6IHtcbiAgICAgICAgbWFzdGVyTm9kZUluc3RhbmNlVHlwZTogJ2M1Lm1lZGl1bS5lbGFzdGljc2VhcmNoJyxcbiAgICAgIH0sXG4gICAgfSkpLnRvVGhyb3coZXJyb3IpO1xuICAgIGV4cGVjdCgoKSA9PiBuZXcgRG9tYWluKHN0YWNrLCAnRG9tYWluMicsIHtcbiAgICAgIHZlcnNpb246IEVsYXN0aWNzZWFyY2hWZXJzaW9uLlYxXzUsXG4gICAgICBjYXBhY2l0eToge1xuICAgICAgICBkYXRhTm9kZUluc3RhbmNlVHlwZTogJ2kzLjJ4bGFyZ2UuZWxhc3RpY3NlYXJjaCcsXG4gICAgICB9LFxuICAgIH0pKS50b1Rocm93KGVycm9yKTtcbiAgICBleHBlY3QoKCkgPT4gbmV3IERvbWFpbihzdGFjaywgJ0RvbWFpbjMnLCB7XG4gICAgICB2ZXJzaW9uOiBFbGFzdGljc2VhcmNoVmVyc2lvbi5WMV81LFxuICAgICAgY2FwYWNpdHk6IHtcbiAgICAgICAgZGF0YU5vZGVJbnN0YW5jZVR5cGU6ICdtNS4yeGxhcmdlLmVsYXN0aWNzZWFyY2gnLFxuICAgICAgfSxcbiAgICB9KSkudG9UaHJvdyhlcnJvcik7XG4gICAgZXhwZWN0KCgpID0+IG5ldyBEb21haW4oc3RhY2ssICdEb21haW40Jywge1xuICAgICAgdmVyc2lvbjogRWxhc3RpY3NlYXJjaFZlcnNpb24uVjFfNSxcbiAgICAgIGNhcGFjaXR5OiB7XG4gICAgICAgIG1hc3Rlck5vZGVJbnN0YW5jZVR5cGU6ICdyNS4yeGxhcmdlLmVsYXN0aWNzZWFyY2gnLFxuICAgICAgfSxcbiAgICB9KSkudG9UaHJvdyhlcnJvcik7XG4gIH0pO1xuXG4gIHRlc3REZXByZWNhdGVkKCdlcnJvciB3aGVuIG5vZGUgdG8gbm9kZSBlbmNyeXB0aW9uIGlzIGVuYWJsZWQgZm9yIGVsYXN0aWNzZWFyY2ggdmVyc2lvbiA8IDYuMCcsICgpID0+IHtcbiAgICBleHBlY3QoKCkgPT4gbmV3IERvbWFpbihzdGFjaywgJ0RvbWFpbjEnLCB7XG4gICAgICB2ZXJzaW9uOiBFbGFzdGljc2VhcmNoVmVyc2lvbi5WNV82LFxuICAgICAgbm9kZVRvTm9kZUVuY3J5cHRpb246IHRydWUsXG4gICAgfSkpLnRvVGhyb3coL05vZGUtdG8tbm9kZSBlbmNyeXB0aW9uIHJlcXVpcmVzIEVsYXN0aWNzZWFyY2ggdmVyc2lvbiA2LjAgb3IgbGF0ZXIvKTtcbiAgfSk7XG5cbiAgdGVzdERlcHJlY2F0ZWQoJ2Vycm9yIHdoZW4gaTMgb3IgcjZnIGluc3RhbmNlIHR5cGVzIGFyZSBzcGVjaWZpZWQgd2l0aCBFQlMgZW5hYmxlZCcsICgpID0+IHtcbiAgICBleHBlY3QoKCkgPT4gbmV3IERvbWFpbihzdGFjaywgJ0RvbWFpbjEnLCB7XG4gICAgICB2ZXJzaW9uOiBFbGFzdGljc2VhcmNoVmVyc2lvbi5WN180LFxuICAgICAgY2FwYWNpdHk6IHtcbiAgICAgICAgZGF0YU5vZGVJbnN0YW5jZVR5cGU6ICdpMy4yeGxhcmdlLmVsYXN0aWNzZWFyY2gnLFxuICAgICAgfSxcbiAgICAgIGViczoge1xuICAgICAgICB2b2x1bWVTaXplOiAxMDAsXG4gICAgICAgIHZvbHVtZVR5cGU6IEVic0RldmljZVZvbHVtZVR5cGUuR0VORVJBTF9QVVJQT1NFX1NTRCxcbiAgICAgIH0sXG4gICAgfSkpLnRvVGhyb3coL0kzIGFuZCBSNkdEIGluc3RhbmNlIHR5cGVzIGRvIG5vdCBzdXBwb3J0IEVCUyBzdG9yYWdlIHZvbHVtZXMvKTtcbiAgICBleHBlY3QoKCkgPT4gbmV3IERvbWFpbihzdGFjaywgJ0RvbWFpbjInLCB7XG4gICAgICB2ZXJzaW9uOiBFbGFzdGljc2VhcmNoVmVyc2lvbi5WN180LFxuICAgICAgY2FwYWNpdHk6IHtcbiAgICAgICAgZGF0YU5vZGVJbnN0YW5jZVR5cGU6ICdyNmdkLmxhcmdlLmVsYXN0aWNzZWFyY2gnLFxuICAgICAgfSxcbiAgICAgIGViczoge1xuICAgICAgICB2b2x1bWVTaXplOiAxMDAsXG4gICAgICAgIHZvbHVtZVR5cGU6IEVic0RldmljZVZvbHVtZVR5cGUuR0VORVJBTF9QVVJQT1NFX1NTRCxcbiAgICAgIH0sXG4gICAgfSkpLnRvVGhyb3coL0kzIGFuZCBSNkdEIGluc3RhbmNlIHR5cGVzIGRvIG5vdCBzdXBwb3J0IEVCUyBzdG9yYWdlIHZvbHVtZXMvKTtcbiAgfSk7XG5cbiAgdGVzdERlcHJlY2F0ZWQoJ2Vycm9yIHdoZW4gbTMsIHIzLCBvciB0MiBpbnN0YW5jZSB0eXBlcyBhcmUgc3BlY2lmaWVkIHdpdGggZW5jcnlwdGlvbiBhdCByZXN0IGVuYWJsZWQnLCAoKSA9PiB7XG4gICAgY29uc3QgZXJyb3IgPSAvTTMsIFIzLCBhbmQgVDIgaW5zdGFuY2UgdHlwZXMgZG8gbm90IHN1cHBvcnQgZW5jcnlwdGlvbiBvZiBkYXRhIGF0IHJlc3QvO1xuICAgIGV4cGVjdCgoKSA9PiBuZXcgRG9tYWluKHN0YWNrLCAnRG9tYWluMScsIHtcbiAgICAgIHZlcnNpb246IEVsYXN0aWNzZWFyY2hWZXJzaW9uLlY3XzQsXG4gICAgICBjYXBhY2l0eToge1xuICAgICAgICBtYXN0ZXJOb2RlSW5zdGFuY2VUeXBlOiAnbTMuMnhsYXJnZS5lbGFzdGljc2VhcmNoJyxcbiAgICAgIH0sXG4gICAgICBlbmNyeXB0aW9uQXRSZXN0OiB7XG4gICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICB9LFxuICAgIH0pKS50b1Rocm93KGVycm9yKTtcbiAgICBleHBlY3QoKCkgPT4gbmV3IERvbWFpbihzdGFjaywgJ0RvbWFpbjInLCB7XG4gICAgICB2ZXJzaW9uOiBFbGFzdGljc2VhcmNoVmVyc2lvbi5WN180LFxuICAgICAgY2FwYWNpdHk6IHtcbiAgICAgICAgZGF0YU5vZGVJbnN0YW5jZVR5cGU6ICdyMy4yeGxhcmdlLmVsYXN0aWNzZWFyY2gnLFxuICAgICAgfSxcbiAgICAgIGVuY3J5cHRpb25BdFJlc3Q6IHtcbiAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgIH0sXG4gICAgfSkpLnRvVGhyb3coZXJyb3IpO1xuICAgIGV4cGVjdCgoKSA9PiBuZXcgRG9tYWluKHN0YWNrLCAnRG9tYWluMycsIHtcbiAgICAgIHZlcnNpb246IEVsYXN0aWNzZWFyY2hWZXJzaW9uLlY3XzQsXG4gICAgICBjYXBhY2l0eToge1xuICAgICAgICBtYXN0ZXJOb2RlSW5zdGFuY2VUeXBlOiAndDIuMnhsYXJnZS5lbGFzdGljc2VhcmNoJyxcbiAgICAgIH0sXG4gICAgICBlbmNyeXB0aW9uQXRSZXN0OiB7XG4gICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICB9LFxuICAgIH0pKS50b1Rocm93KGVycm9yKTtcbiAgfSk7XG5cbiAgdGVzdERlcHJlY2F0ZWQoJ2Vycm9yIHdoZW4gdDIubWljcm8gaXMgc3BlY2lmaWVkIHdpdGggZWxhc3RpY3NlYXJjaCB2ZXJzaW9uID4gMi4zJywgKCkgPT4ge1xuICAgIGV4cGVjdCgoKSA9PiBuZXcgRG9tYWluKHN0YWNrLCAnRG9tYWluMScsIHtcbiAgICAgIHZlcnNpb246IEVsYXN0aWNzZWFyY2hWZXJzaW9uLlY2XzcsXG4gICAgICBjYXBhY2l0eToge1xuICAgICAgICBtYXN0ZXJOb2RlSW5zdGFuY2VUeXBlOiAndDIubWljcm8uZWxhc3RpY3NlYXJjaCcsXG4gICAgICB9LFxuICAgIH0pKS50b1Rocm93KC90Mi5taWNyby5lbGFzdGljc2VhcmNoIGluc3RhbmNlIHR5cGUgc3VwcG9ydHMgb25seSBFbGFzdGljc2VhcmNoIDEuNSBhbmQgMi4zLyk7XG4gIH0pO1xuXG4gIHRlc3REZXByZWNhdGVkKCdlcnJvciB3aGVuIGFueSBpbnN0YW5jZSB0eXBlIG90aGVyIHRoYW4gUjMsIEkzIGFuZCBSNkdEIGFyZSBzcGVjaWZpZWQgd2l0aG91dCBFQlMgZW5hYmxlZCcsICgpID0+IHtcbiAgICBleHBlY3QoKCkgPT4gbmV3IERvbWFpbihzdGFjaywgJ0RvbWFpbjEnLCB7XG4gICAgICB2ZXJzaW9uOiBFbGFzdGljc2VhcmNoVmVyc2lvbi5WN180LFxuICAgICAgZWJzOiB7XG4gICAgICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgICAgfSxcbiAgICAgIGNhcGFjaXR5OiB7XG4gICAgICAgIG1hc3Rlck5vZGVJbnN0YW5jZVR5cGU6ICdtNS5sYXJnZS5lbGFzdGljc2VhcmNoJyxcbiAgICAgIH0sXG4gICAgfSkpLnRvVGhyb3coL0VCUyB2b2x1bWVzIGFyZSByZXF1aXJlZCB3aGVuIHVzaW5nIGluc3RhbmNlIHR5cGVzIG90aGVyIHRoYW4gcjMsIGkzIG9yIHI2Z2QvKTtcbiAgICBleHBlY3QoKCkgPT4gbmV3IERvbWFpbihzdGFjaywgJ0RvbWFpbjInLCB7XG4gICAgICB2ZXJzaW9uOiBFbGFzdGljc2VhcmNoVmVyc2lvbi5WN180LFxuICAgICAgZWJzOiB7XG4gICAgICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgICAgfSxcbiAgICAgIGNhcGFjaXR5OiB7XG4gICAgICAgIGRhdGFOb2RlSW5zdGFuY2VUeXBlOiAnbTUubGFyZ2UuZWxhc3RpY3NlYXJjaCcsXG4gICAgICB9LFxuICAgIH0pKS50b1Rocm93KC9FQlMgdm9sdW1lcyBhcmUgcmVxdWlyZWQgd2hlbiB1c2luZyBpbnN0YW5jZSB0eXBlcyBvdGhlciB0aGFuIHIzLCBpMyBvciByNmdkLyk7XG4gIH0pO1xuXG4gIHRlc3REZXByZWNhdGVkKCdjYW4gdXNlIGNvbXBhdGlibGUgbWFzdGVyIGluc3RhbmNlIHR5cGVzIHRoYXQgZG9lcyBub3QgaGF2ZSBsb2NhbCBzdG9yYWdlIHdoZW4gZGF0YSBub2RlIHR5cGUgaXMgaTMgb3IgcjZnZCcsICgpID0+IHtcbiAgICBuZXcgRG9tYWluKHN0YWNrLCAnRG9tYWluMScsIHtcbiAgICAgIHZlcnNpb246IEVsYXN0aWNzZWFyY2hWZXJzaW9uLlY3XzQsXG4gICAgICBlYnM6IHtcbiAgICAgICAgZW5hYmxlZDogZmFsc2UsXG4gICAgICB9LFxuICAgICAgY2FwYWNpdHk6IHtcbiAgICAgICAgbWFzdGVyTm9kZUluc3RhbmNlVHlwZTogJ2M1LjJ4bGFyZ2UuZWxhc3RpY3NlYXJjaCcsXG4gICAgICAgIGRhdGFOb2RlSW5zdGFuY2VUeXBlOiAnaTMuMnhsYXJnZS5lbGFzdGljc2VhcmNoJyxcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgbmV3IERvbWFpbihzdGFjaywgJ0RvbWFpbjInLCB7XG4gICAgICB2ZXJzaW9uOiBFbGFzdGljc2VhcmNoVmVyc2lvbi5WN180LFxuICAgICAgZWJzOiB7XG4gICAgICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgICAgfSxcbiAgICAgIGNhcGFjaXR5OiB7XG4gICAgICAgIG1hc3Rlck5vZGVzOiAzLFxuICAgICAgICBtYXN0ZXJOb2RlSW5zdGFuY2VUeXBlOiAnYzZnLmxhcmdlLmVsYXN0aWNzZWFyY2gnLFxuICAgICAgICBkYXRhTm9kZUluc3RhbmNlVHlwZTogJ3I2Z2QubGFyZ2UuZWxhc3RpY3NlYXJjaCcsXG4gICAgICB9LFxuICAgIH0pO1xuICAgIC8vIGJvdGggY29uZmlndXJhdGlvbnMgcGFzcyBzeW50aC10aW1lIHZhbGlkYXRpb25cbiAgICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLnJlc291cmNlQ291bnRJcygnQVdTOjpFbGFzdGljc2VhcmNoOjpEb21haW4nLCAyKTtcbiAgfSk7XG5cbiAgdGVzdERlcHJlY2F0ZWQoJ2Vycm9yIHdoZW4gYXZhaWxhYmlsaXR5Wm9uZUNvdW50IGlzIG5vdCAyIG9yIDMnLCAoKSA9PiB7XG4gICAgY29uc3QgdnBjID0gbmV3IFZwYyhzdGFjaywgJ1ZwYycpO1xuXG4gICAgZXhwZWN0KCgpID0+IG5ldyBEb21haW4oc3RhY2ssICdEb21haW4xJywge1xuICAgICAgdmVyc2lvbjogRWxhc3RpY3NlYXJjaFZlcnNpb24uVjdfNCxcbiAgICAgIHZwYyxcbiAgICAgIHpvbmVBd2FyZW5lc3M6IHtcbiAgICAgICAgYXZhaWxhYmlsaXR5Wm9uZUNvdW50OiA0LFxuICAgICAgfSxcbiAgICB9KSkudG9UaHJvdygvSW52YWxpZCB6b25lIGF3YXJlbmVzcyBjb25maWd1cmF0aW9uOyBhdmFpbGFiaWxpdHlab25lQ291bnQgbXVzdCBiZSAyIG9yIDMvKTtcbiAgfSk7XG5cbiAgdGVzdERlcHJlY2F0ZWQoJ2Vycm9yIHdoZW4gVWx0cmFXYXJtIGluc3RhbmNlIGlzIHVzZWQgYW5kIG5vdCBzdXBwb3J0ZWQgYnkgZWxhc3RpY3NlYXJjaFZlcnNpb24nLCAoKSA9PiB7XG4gICAgZXhwZWN0KCgpID0+IG5ldyBEb21haW4oc3RhY2ssICdEb21haW4xJywge1xuICAgICAgdmVyc2lvbjogRWxhc3RpY3NlYXJjaFZlcnNpb24uVjZfNyxcbiAgICAgIGNhcGFjaXR5OiB7XG4gICAgICAgIG1hc3Rlck5vZGVzOiAxLFxuICAgICAgICB3YXJtTm9kZXM6IDEsXG4gICAgICB9LFxuICAgIH0pKS50b1Rocm93KC9VbHRyYVdhcm0gcmVxdWlyZXMgRWxhc3RpY3NlYXJjaCA2XFwuOCBvciBsYXRlci8pO1xuICB9KTtcblxuICB0ZXN0RGVwcmVjYXRlZCgnZXJyb3Igd2hlbiB0MiBvciB0MyBpbnN0YW5jZSB0eXBlcyBhcmUgc3BlY2lmaWVkIHdpdGggVWx0cmFtV2FybSBlbmFibGVkJywgKCkgPT4ge1xuICAgIGNvbnN0IGVycm9yID0gL1QyIGFuZCBUMyBpbnN0YW5jZSB0eXBlcyBkbyBub3Qgc3VwcG9ydCBVbHRyYVdhcm0gc3RvcmFnZS87XG4gICAgZXhwZWN0KCgpID0+IG5ldyBEb21haW4oc3RhY2ssICdEb21haW4xJywge1xuICAgICAgdmVyc2lvbjogRWxhc3RpY3NlYXJjaFZlcnNpb24uVjdfNCxcbiAgICAgIGNhcGFjaXR5OiB7XG4gICAgICAgIG1hc3Rlck5vZGVJbnN0YW5jZVR5cGU6ICd0Mi4yeGxhcmdlLmVsYXN0aWNzZWFyY2gnLFxuICAgICAgICB3YXJtTm9kZXM6IDEsXG4gICAgICB9LFxuICAgIH0pKS50b1Rocm93KGVycm9yKTtcbiAgICBleHBlY3QoKCkgPT4gbmV3IERvbWFpbihzdGFjaywgJ0RvbWFpbjInLCB7XG4gICAgICB2ZXJzaW9uOiBFbGFzdGljc2VhcmNoVmVyc2lvbi5WN180LFxuICAgICAgY2FwYWNpdHk6IHtcbiAgICAgICAgbWFzdGVyTm9kZUluc3RhbmNlVHlwZTogJ3QzLjJ4bGFyZ2UuZWxhc3RpY3NlYXJjaCcsXG4gICAgICAgIHdhcm1Ob2RlczogMSxcbiAgICAgIH0sXG4gICAgfSkpLnRvVGhyb3coZXJyb3IpO1xuICB9KTtcblxuICB0ZXN0RGVwcmVjYXRlZCgnZXJyb3Igd2hlbiBVbHRyYVdhcm0gaW5zdGFuY2UgaXMgdXNlZCBhbmQgbm8gZGVkaWNhdGVkIG1hc3RlciBpbnN0YW5jZSBzcGVjaWZpZWQnLCAoKSA9PiB7XG4gICAgZXhwZWN0KCgpID0+IG5ldyBEb21haW4oc3RhY2ssICdEb21haW4xJywge1xuICAgICAgdmVyc2lvbjogRWxhc3RpY3NlYXJjaFZlcnNpb24uVjdfNCxcbiAgICAgIGNhcGFjaXR5OiB7XG4gICAgICAgIHdhcm1Ob2RlczogMSxcbiAgICAgICAgbWFzdGVyTm9kZXM6IDAsXG4gICAgICB9LFxuICAgIH0pKS50b1Rocm93KC9EZWRpY2F0ZWQgbWFzdGVyIG5vZGUgaXMgcmVxdWlyZWQgd2hlbiBVbHRyYVdhcm0gc3RvcmFnZSBpcyBlbmFibGVkLyk7XG4gIH0pO1xuXG59KTtcblxudGVzdERlcHJlY2F0ZWQoJ2NhbiBzcGVjaWZ5IGZ1dHVyZSB2ZXJzaW9uJywgKCkgPT4ge1xuICBuZXcgRG9tYWluKHN0YWNrLCAnRG9tYWluJywgeyB2ZXJzaW9uOiBFbGFzdGljc2VhcmNoVmVyc2lvbi5vZignOC4yJykgfSk7XG5cbiAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6RWxhc3RpY3NlYXJjaDo6RG9tYWluJywge1xuICAgIEVsYXN0aWNzZWFyY2hWZXJzaW9uOiAnOC4yJyxcbiAgfSk7XG59KTtcblxuZGVzY3JpYmUoJ3Vuc2lnbmVkIGJhc2ljIGF1dGgnLCAoKSA9PiB7XG4gIHRlc3REZXByZWNhdGVkKCdjYW4gY3JlYXRlIGEgZG9tYWluIHdpdGggdW5zaWduZWQgYmFzaWMgYXV0aCcsICgpID0+IHtcbiAgICBuZXcgRG9tYWluKHN0YWNrLCAnRG9tYWluJywge1xuICAgICAgdmVyc2lvbjogRWxhc3RpY3NlYXJjaFZlcnNpb24uVjdfNyxcbiAgICAgIHVzZVVuc2lnbmVkQmFzaWNBdXRoOiB0cnVlLFxuICAgIH0pO1xuXG4gICAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6RWxhc3RpY3NlYXJjaDo6RG9tYWluJywge1xuICAgICAgQWR2YW5jZWRTZWN1cml0eU9wdGlvbnM6IHtcbiAgICAgICAgRW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgSW50ZXJuYWxVc2VyRGF0YWJhc2VFbmFibGVkOiB0cnVlLFxuICAgICAgICBNYXN0ZXJVc2VyT3B0aW9uczoge1xuICAgICAgICAgIE1hc3RlclVzZXJOYW1lOiAnYWRtaW4nLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIEVuY3J5cHRpb25BdFJlc3RPcHRpb25zOiB7XG4gICAgICAgIEVuYWJsZWQ6IHRydWUsXG4gICAgICB9LFxuICAgICAgTm9kZVRvTm9kZUVuY3J5cHRpb25PcHRpb25zOiB7XG4gICAgICAgIEVuYWJsZWQ6IHRydWUsXG4gICAgICB9LFxuICAgICAgRG9tYWluRW5kcG9pbnRPcHRpb25zOiB7XG4gICAgICAgIEVuZm9yY2VIVFRQUzogdHJ1ZSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH0pO1xuXG4gIHRlc3REZXByZWNhdGVkKCdkb2VzIG5vdCBvdmVyd3JpdGUgbWFzdGVyIHVzZXIgQVJOIGNvbmZpZ3VyYXRpb24nLCAoKSA9PiB7XG4gICAgY29uc3QgbWFzdGVyVXNlckFybiA9ICdhcm46YXdzOmlhbTo6MTIzNDU2Nzg5MDEyOnVzZXIvSm9obkRvZSc7XG5cbiAgICBuZXcgRG9tYWluKHN0YWNrLCAnRG9tYWluJywge1xuICAgICAgdmVyc2lvbjogRWxhc3RpY3NlYXJjaFZlcnNpb24uVjdfNyxcbiAgICAgIGZpbmVHcmFpbmVkQWNjZXNzQ29udHJvbDoge1xuICAgICAgICBtYXN0ZXJVc2VyQXJuLFxuICAgICAgfSxcbiAgICAgIHVzZVVuc2lnbmVkQmFzaWNBdXRoOiB0cnVlLFxuICAgIH0pO1xuXG4gICAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6RWxhc3RpY3NlYXJjaDo6RG9tYWluJywge1xuICAgICAgQWR2YW5jZWRTZWN1cml0eU9wdGlvbnM6IHtcbiAgICAgICAgRW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgSW50ZXJuYWxVc2VyRGF0YWJhc2VFbmFibGVkOiBmYWxzZSxcbiAgICAgICAgTWFzdGVyVXNlck9wdGlvbnM6IHtcbiAgICAgICAgICBNYXN0ZXJVc2VyQVJOOiBtYXN0ZXJVc2VyQXJuLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIEVuY3J5cHRpb25BdFJlc3RPcHRpb25zOiB7XG4gICAgICAgIEVuYWJsZWQ6IHRydWUsXG4gICAgICB9LFxuICAgICAgTm9kZVRvTm9kZUVuY3J5cHRpb25PcHRpb25zOiB7XG4gICAgICAgIEVuYWJsZWQ6IHRydWUsXG4gICAgICB9LFxuICAgICAgRG9tYWluRW5kcG9pbnRPcHRpb25zOiB7XG4gICAgICAgIEVuZm9yY2VIVFRQUzogdHJ1ZSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH0pO1xuXG4gIHRlc3REZXByZWNhdGVkKCdkb2VzIG5vdCBvdmVyd3JpdGUgbWFzdGVyIHVzZXIgbmFtZSBhbmQgcGFzc3dvcmQnLCAoKSA9PiB7XG4gICAgY29uc3QgbWFzdGVyVXNlck5hbWUgPSAnSm9obkRvZSc7XG4gICAgY29uc3QgcGFzc3dvcmQgPSAncGFzc3dvcmQnO1xuICAgIGNvbnN0IG1hc3RlclVzZXJQYXNzd29yZCA9IFNlY3JldFZhbHVlLnVuc2FmZVBsYWluVGV4dChwYXNzd29yZCk7XG5cbiAgICBuZXcgRG9tYWluKHN0YWNrLCAnRG9tYWluJywge1xuICAgICAgdmVyc2lvbjogRWxhc3RpY3NlYXJjaFZlcnNpb24uVjdfMSxcbiAgICAgIGZpbmVHcmFpbmVkQWNjZXNzQ29udHJvbDoge1xuICAgICAgICBtYXN0ZXJVc2VyTmFtZSxcbiAgICAgICAgbWFzdGVyVXNlclBhc3N3b3JkLFxuICAgICAgfSxcbiAgICAgIHVzZVVuc2lnbmVkQmFzaWNBdXRoOiB0cnVlLFxuICAgIH0pO1xuXG4gICAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6RWxhc3RpY3NlYXJjaDo6RG9tYWluJywge1xuICAgICAgQWR2YW5jZWRTZWN1cml0eU9wdGlvbnM6IHtcbiAgICAgICAgRW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgSW50ZXJuYWxVc2VyRGF0YWJhc2VFbmFibGVkOiB0cnVlLFxuICAgICAgICBNYXN0ZXJVc2VyT3B0aW9uczoge1xuICAgICAgICAgIE1hc3RlclVzZXJOYW1lOiBtYXN0ZXJVc2VyTmFtZSxcbiAgICAgICAgICBNYXN0ZXJVc2VyUGFzc3dvcmQ6IHBhc3N3b3JkLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIEVuY3J5cHRpb25BdFJlc3RPcHRpb25zOiB7XG4gICAgICAgIEVuYWJsZWQ6IHRydWUsXG4gICAgICB9LFxuICAgICAgTm9kZVRvTm9kZUVuY3J5cHRpb25PcHRpb25zOiB7XG4gICAgICAgIEVuYWJsZWQ6IHRydWUsXG4gICAgICB9LFxuICAgICAgRG9tYWluRW5kcG9pbnRPcHRpb25zOiB7XG4gICAgICAgIEVuZm9yY2VIVFRQUzogdHJ1ZSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH0pO1xuXG4gIHRlc3REZXByZWNhdGVkKCdmYWlscyB0byBjcmVhdGUgYSBkb21haW4gd2l0aCB1bnNpZ25lZCBiYXNpYyBhdXRoIHdoZW4gZW5mb3JjZSBIVFRQUyBpcyBkaXNhYmxlZCcsICgpID0+IHtcbiAgICBleHBlY3QoKCkgPT4gbmV3IERvbWFpbihzdGFjaywgJ0RvbWFpbicsIHtcbiAgICAgIHZlcnNpb246IEVsYXN0aWNzZWFyY2hWZXJzaW9uLlY3XzcsXG4gICAgICB1c2VVbnNpZ25lZEJhc2ljQXV0aDogdHJ1ZSxcbiAgICAgIGVuZm9yY2VIdHRwczogZmFsc2UsXG4gICAgfSkpLnRvVGhyb3coL1lvdSBjYW5ub3QgZGlzYWJsZSBIVFRQUyBhbmQgdXNlIHVuc2lnbmVkIGJhc2ljIGF1dGgvKTtcbiAgfSk7XG5cbiAgdGVzdERlcHJlY2F0ZWQoJ2ZhaWxzIHRvIGNyZWF0ZSBhIGRvbWFpbiB3aXRoIHVuc2lnbmVkIGJhc2ljIGF1dGggd2hlbiBub2RlIHRvIG5vZGUgZW5jcnlwdGlvbiBpcyBkaXNhYmxlZCcsICgpID0+IHtcbiAgICBleHBlY3QoKCkgPT4gbmV3IERvbWFpbihzdGFjaywgJ0RvbWFpbicsIHtcbiAgICAgIHZlcnNpb246IEVsYXN0aWNzZWFyY2hWZXJzaW9uLlY3XzcsXG4gICAgICB1c2VVbnNpZ25lZEJhc2ljQXV0aDogdHJ1ZSxcbiAgICAgIG5vZGVUb05vZGVFbmNyeXB0aW9uOiBmYWxzZSxcbiAgICB9KSkudG9UaHJvdygvWW91IGNhbm5vdCBkaXNhYmxlIG5vZGUgdG8gbm9kZSBlbmNyeXB0aW9uIGFuZCB1c2UgdW5zaWduZWQgYmFzaWMgYXV0aC8pO1xuICB9KTtcblxuICB0ZXN0RGVwcmVjYXRlZCgnZmFpbHMgdG8gY3JlYXRlIGEgZG9tYWluIHdpdGggdW5zaWduZWQgYmFzaWMgYXV0aCB3aGVuIGVuY3J5cHRpb24gYXQgcmVzdCBpcyBkaXNhYmxlZCcsICgpID0+IHtcbiAgICBleHBlY3QoKCkgPT4gbmV3IERvbWFpbihzdGFjaywgJ0RvbWFpbicsIHtcbiAgICAgIHZlcnNpb246IEVsYXN0aWNzZWFyY2hWZXJzaW9uLlY3XzcsXG4gICAgICB1c2VVbnNpZ25lZEJhc2ljQXV0aDogdHJ1ZSxcbiAgICAgIGVuY3J5cHRpb25BdFJlc3Q6IHsgZW5hYmxlZDogZmFsc2UgfSxcbiAgICB9KSkudG9UaHJvdygvWW91IGNhbm5vdCBkaXNhYmxlIGVuY3J5cHRpb24gYXQgcmVzdCBhbmQgdXNlIHVuc2lnbmVkIGJhc2ljIGF1dGgvKTtcbiAgfSk7XG5cbiAgdGVzdERlcHJlY2F0ZWQoJ3VzaW5nIHVuc2lnbmVkIGJhc2ljIGF1dGggdGhyb3dzIHdpdGggRWxhc3RpY3NlYXJjaCA8IDYuNycsICgpID0+IHtcbiAgICBleHBlY3QoKCkgPT4gbmV3IERvbWFpbihzdGFjaywgJ0RvbWFpbicsIHtcbiAgICAgIHZlcnNpb246IEVsYXN0aWNzZWFyY2hWZXJzaW9uLlY2XzUsXG4gICAgICB1c2VVbnNpZ25lZEJhc2ljQXV0aDogdHJ1ZSxcbiAgICB9KSkudG9UaHJvdygvVXNpbmcgdW5zaWduZWQgYmFzaWMgYXV0aCByZXF1aXJlcyBFbGFzdGljc2VhcmNoIHZlcnNpb24gNlxcLjcgb3IgbGF0ZXIuLyk7XG4gIH0pO1xufSk7XG5cbmRlc2NyaWJlKCdhZHZhbmNlZCBvcHRpb25zJywgKCkgPT4ge1xuICB0ZXN0RGVwcmVjYXRlZCgndXNlIGFkdmFuY2VkIG9wdGlvbnMnLCAoKSA9PiB7XG4gICAgbmV3IERvbWFpbihzdGFjaywgJ0RvbWFpbicsIHtcbiAgICAgIHZlcnNpb246IEVsYXN0aWNzZWFyY2hWZXJzaW9uLlY3XzEsXG4gICAgICBhZHZhbmNlZE9wdGlvbnM6IHtcbiAgICAgICAgJ3Jlc3QuYWN0aW9uLm11bHRpLmFsbG93X2V4cGxpY2l0X2luZGV4JzogJ3RydWUnLFxuICAgICAgICAnaW5kaWNlcy5maWVsZGRhdGEuY2FjaGUuc2l6ZSc6ICc1MCcsXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6RWxhc3RpY3NlYXJjaDo6RG9tYWluJywge1xuICAgICAgQWR2YW5jZWRPcHRpb25zOiB7XG4gICAgICAgICdyZXN0LmFjdGlvbi5tdWx0aS5hbGxvd19leHBsaWNpdF9pbmRleCc6ICd0cnVlJyxcbiAgICAgICAgJ2luZGljZXMuZmllbGRkYXRhLmNhY2hlLnNpemUnOiAnNTAnLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfSk7XG5cbiAgdGVzdERlcHJlY2F0ZWQoJ2FkdmFuY2VkIG9wdGlvbnMgYWJzZW50IGJ5IGRlZmF1bHQnLCAoKSA9PiB7XG4gICAgbmV3IERvbWFpbihzdGFjaywgJ0RvbWFpbicsIHtcbiAgICAgIHZlcnNpb246IEVsYXN0aWNzZWFyY2hWZXJzaW9uLlY3XzEsXG4gICAgfSk7XG5cbiAgICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpFbGFzdGljc2VhcmNoOjpEb21haW4nLCB7XG4gICAgICBBZHZhbmNlZE9wdGlvbnM6IE1hdGNoLmFic2VudCgpLFxuICAgIH0pO1xuICB9KTtcbn0pO1xuXG5mdW5jdGlvbiB0ZXN0R3JhbnQoXG4gIGV4cGVjdGVkQWN0aW9uczogc3RyaW5nW10sXG4gIGludm9jYXRpb246ICh1c2VyOiBpYW0uSVByaW5jaXBhbCwgZG9tYWluOiBEb21haW4pID0+IHZvaWQsXG4gIGFwcGxpZXNUb0RvbWFpblJvb3Q6IEJvb2xlYW4gPSB0cnVlLFxuICBwYXRoczogc3RyaW5nW10gPSBbJy8qJ10sXG4pIHtcbiAgY29uc3QgZG9tYWluID0gbmV3IERvbWFpbihzdGFjaywgJ0RvbWFpbicsIHsgdmVyc2lvbjogRWxhc3RpY3NlYXJjaFZlcnNpb24uVjdfNCB9KTtcbiAgY29uc3QgdXNlciA9IG5ldyBpYW0uVXNlcihzdGFjaywgJ3VzZXInKTtcblxuICBpbnZvY2F0aW9uKHVzZXIsIGRvbWFpbik7XG5cbiAgY29uc3QgYWN0aW9uID0gZXhwZWN0ZWRBY3Rpb25zLmxlbmd0aCA+IDEgPyBleHBlY3RlZEFjdGlvbnMubWFwKGEgPT4gYGVzOiR7YX1gKSA6IGBlczoke2V4cGVjdGVkQWN0aW9uc1swXX1gO1xuICBjb25zdCBkb21haW5Bcm4gPSB7XG4gICAgJ0ZuOjpHZXRBdHQnOiBbXG4gICAgICAnRG9tYWluNjZBQzY5RTAnLFxuICAgICAgJ0FybicsXG4gICAgXSxcbiAgfTtcbiAgY29uc3QgcmVzb2x2ZWRQYXRocyA9IHBhdGhzLm1hcChwYXRoID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ0ZuOjpKb2luJzogW1xuICAgICAgICAnJyxcbiAgICAgICAgW1xuICAgICAgICAgIGRvbWFpbkFybixcbiAgICAgICAgICBwYXRoLFxuICAgICAgICBdLFxuICAgICAgXSxcbiAgICB9O1xuICB9KTtcbiAgY29uc3QgcmVzb3VyY2UgPSBhcHBsaWVzVG9Eb21haW5Sb290XG4gICAgPyBbZG9tYWluQXJuLCAuLi5yZXNvbHZlZFBhdGhzXVxuICAgIDogcmVzb2x2ZWRQYXRocy5sZW5ndGggPiAxXG4gICAgICA/IHJlc29sdmVkUGF0aHNcbiAgICAgIDogcmVzb2x2ZWRQYXRoc1swXTtcblxuICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpJQU06OlBvbGljeScsIHtcbiAgICBQb2xpY3lEb2N1bWVudDoge1xuICAgICAgU3RhdGVtZW50OiBbXG4gICAgICAgIHtcbiAgICAgICAgICBBY3Rpb246IGFjdGlvbixcbiAgICAgICAgICBFZmZlY3Q6ICdBbGxvdycsXG4gICAgICAgICAgUmVzb3VyY2U6IHJlc291cmNlLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICAgIFZlcnNpb246ICcyMDEyLTEwLTE3JyxcbiAgICB9LFxuICAgIFBvbGljeU5hbWU6ICd1c2VyRGVmYXVsdFBvbGljeTA4M0RGNjgyJyxcbiAgICBVc2VyczogW1xuICAgICAge1xuICAgICAgICBSZWY6ICd1c2VyMkMyQjU3QUUnLFxuICAgICAgfSxcbiAgICBdLFxuICB9KTtcbn1cblxuZnVuY3Rpb24gdGVzdE1ldHJpYyhcbiAgaW52b2NhdGlvbjogKGRvbWFpbjogRG9tYWluKSA9PiBNZXRyaWMsXG4gIG1ldHJpY05hbWU6IHN0cmluZyxcbiAgc3RhdGlzdGljOiBzdHJpbmcgPSBTdGF0aXN0aWMuU1VNLFxuICBwZXJpb2Q6IER1cmF0aW9uID0gRHVyYXRpb24ubWludXRlcyg1KSxcbikge1xuICBjb25zdCBkb21haW4gPSBuZXcgRG9tYWluKHN0YWNrLCAnRG9tYWluJywgeyB2ZXJzaW9uOiBFbGFzdGljc2VhcmNoVmVyc2lvbi5WN180IH0pO1xuXG4gIGNvbnN0IG1ldHJpYyA9IGludm9jYXRpb24oZG9tYWluKTtcblxuICBleHBlY3QobWV0cmljKS50b01hdGNoT2JqZWN0KHtcbiAgICBtZXRyaWNOYW1lLFxuICAgIG5hbWVzcGFjZTogJ0FXUy9FUycsXG4gICAgcGVyaW9kLFxuICAgIHN0YXRpc3RpYyxcbiAgICBkaW1lbnNpb25zOiB7XG4gICAgICBDbGllbnRJZDogJzEyMzQnLFxuICAgIH0sXG4gIH0pO1xuICBleHBlY3QobWV0cmljLmRpbWVuc2lvbnMpLnRvSGF2ZVByb3BlcnR5KCdEb21haW5OYW1lJyk7XG59XG4iXX0=