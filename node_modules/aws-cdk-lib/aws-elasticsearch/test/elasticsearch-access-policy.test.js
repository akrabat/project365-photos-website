"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const assertions_1 = require("../../assertions");
const iam = require("../../aws-iam");
const core_1 = require("../../core");
const elasticsearch_access_policy_1 = require("../lib/elasticsearch-access-policy");
let app;
let stack;
beforeEach(() => {
    app = new core_1.App();
    stack = new core_1.Stack(app, 'Stack', {
        env: { account: '1234', region: 'testregion' },
    });
});
test('minimal example renders correctly', () => {
    new elasticsearch_access_policy_1.ElasticsearchAccessPolicy(stack, 'ElasticsearchAccessPolicy', {
        domainName: 'TestDomain',
        domainArn: 'test:arn',
        accessPolicies: [new iam.PolicyStatement({
                effect: iam.Effect.ALLOW,
                actions: ['es:ESHttp*'],
                principals: [new iam.AnyPrincipal()],
                resources: ['test:arn'],
            })],
    });
    assertions_1.Template.fromStack(stack).hasResourceProperties('Custom::ElasticsearchAccessPolicy', {
        ServiceToken: {
            'Fn::GetAtt': [
                'AWS679f53fac002430cb0da5b7982bd22872D164C4C',
                'Arn',
            ],
        },
        Create: JSON.stringify({
            action: 'updateElasticsearchDomainConfig',
            service: 'ES',
            parameters: {
                DomainName: 'TestDomain',
                AccessPolicies: '{"Statement":[{"Action":"es:ESHttp*","Effect":"Allow","Principal":{"AWS":"*"},"Resource":"test:arn"}],"Version":"2012-10-17"}',
            },
            outputPaths: ['DomainConfig.ElasticsearchClusterConfig.AccessPolicies'],
            physicalResourceId: { id: 'TestDomainAccessPolicy' },
        }),
        Update: JSON.stringify({
            action: 'updateElasticsearchDomainConfig',
            service: 'ES',
            parameters: {
                DomainName: 'TestDomain',
                AccessPolicies: '{"Statement":[{"Action":"es:ESHttp*","Effect":"Allow","Principal":{"AWS":"*"},"Resource":"test:arn"}],"Version":"2012-10-17"}',
            },
            outputPaths: ['DomainConfig.ElasticsearchClusterConfig.AccessPolicies'],
            physicalResourceId: { id: 'TestDomainAccessPolicy' },
        }),
    });
});
test('support access policy added inline and later', () => {
    const elasticsearchAccessPolicy = new elasticsearch_access_policy_1.ElasticsearchAccessPolicy(stack, 'ElasticsearchAccessPolicy', {
        domainName: 'TestDomain',
        domainArn: 'test:arn',
        accessPolicies: [
            new iam.PolicyStatement({
                effect: iam.Effect.ALLOW,
                actions: ['es:ESHttp*'],
                principals: [new iam.AnyPrincipal()],
                resources: ['test:arn'],
            }),
        ],
    });
    elasticsearchAccessPolicy.addAccessPolicies(new iam.PolicyStatement({
        effect: iam.Effect.ALLOW,
        actions: ['*'],
        principals: [new iam.AnyPrincipal()],
        resources: ['test:arn'],
    }));
    assertions_1.Template.fromStack(stack).hasResourceProperties('Custom::ElasticsearchAccessPolicy', {
        ServiceToken: {
            'Fn::GetAtt': [
                'AWS679f53fac002430cb0da5b7982bd22872D164C4C',
                'Arn',
            ],
        },
        Create: JSON.stringify({
            action: 'updateElasticsearchDomainConfig',
            service: 'ES',
            parameters: {
                DomainName: 'TestDomain',
                AccessPolicies: '{"Statement":[{"Action":"es:ESHttp*","Effect":"Allow","Principal":{"AWS":"*"},"Resource":"test:arn"},{"Action":"*","Effect":"Allow","Principal":{"AWS":"*"},"Resource":"test:arn"}],"Version":"2012-10-17"}',
            },
            outputPaths: ['DomainConfig.ElasticsearchClusterConfig.AccessPolicies'],
            physicalResourceId: { id: 'TestDomainAccessPolicy' },
        }),
        Update: JSON.stringify({
            action: 'updateElasticsearchDomainConfig',
            service: 'ES',
            parameters: {
                DomainName: 'TestDomain',
                AccessPolicies: '{"Statement":[{"Action":"es:ESHttp*","Effect":"Allow","Principal":{"AWS":"*"},"Resource":"test:arn"},{"Action":"*","Effect":"Allow","Principal":{"AWS":"*"},"Resource":"test:arn"}],"Version":"2012-10-17"}',
            },
            outputPaths: ['DomainConfig.ElasticsearchClusterConfig.AccessPolicies'],
            physicalResourceId: { id: 'TestDomainAccessPolicy' },
        }),
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWxhc3RpY3NlYXJjaC1hY2Nlc3MtcG9saWN5LnRlc3QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJlbGFzdGljc2VhcmNoLWFjY2Vzcy1wb2xpY3kudGVzdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLGlEQUE0QztBQUM1QyxxQ0FBcUM7QUFDckMscUNBQXdDO0FBQ3hDLG9GQUErRTtBQUUvRSxJQUFJLEdBQVEsQ0FBQztBQUNiLElBQUksS0FBWSxDQUFDO0FBRWpCLFVBQVUsQ0FBQyxHQUFHLEVBQUU7SUFDZCxHQUFHLEdBQUcsSUFBSSxVQUFHLEVBQUUsQ0FBQztJQUNoQixLQUFLLEdBQUcsSUFBSSxZQUFLLENBQUMsR0FBRyxFQUFFLE9BQU8sRUFBRTtRQUM5QixHQUFHLEVBQUUsRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxZQUFZLEVBQUU7S0FDL0MsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUM7QUFFSCxJQUFJLENBQUMsbUNBQW1DLEVBQUUsR0FBRyxFQUFFO0lBQzdDLElBQUksdURBQXlCLENBQUMsS0FBSyxFQUFFLDJCQUEyQixFQUFFO1FBQ2hFLFVBQVUsRUFBRSxZQUFZO1FBQ3hCLFNBQVMsRUFBRSxVQUFVO1FBQ3JCLGNBQWMsRUFBRSxDQUFDLElBQUksR0FBRyxDQUFDLGVBQWUsQ0FBQztnQkFDdkMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxNQUFNLENBQUMsS0FBSztnQkFDeEIsT0FBTyxFQUFFLENBQUMsWUFBWSxDQUFDO2dCQUN2QixVQUFVLEVBQUUsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxZQUFZLEVBQUUsQ0FBQztnQkFDcEMsU0FBUyxFQUFFLENBQUMsVUFBVSxDQUFDO2FBRXhCLENBQUMsQ0FBQztLQUNKLENBQUMsQ0FBQztJQUVILHFCQUFRLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDLHFCQUFxQixDQUFDLG1DQUFtQyxFQUFFO1FBQ25GLFlBQVksRUFBRTtZQUNaLFlBQVks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cG9ydCB7IFRlbXBsYXRlIH0gZnJvbSAnLi4vLi4vYXNzZXJ0aW9ucyc7XG5pbXBvcnQgKiBhcyBpYW0gZnJvbSAnLi4vLi4vYXdzLWlhbSc7XG5pbXBvcnQgeyBBcHAsIFN0YWNrIH0gZnJvbSAnLi4vLi4vY29yZSc7XG5pbXBvcnQgeyBFbGFzdGljc2VhcmNoQWNjZXNzUG9saWN5IH0gZnJvbSAnLi4vbGliL2VsYXN0aWNzZWFyY2gtYWNjZXNzLXBvbGljeSc7XG5cbmxldCBhcHA6IEFwcDtcbmxldCBzdGFjazogU3RhY2s7XG5cbmJlZm9yZUVhY2goKCkgPT4ge1xuICBhcHAgPSBuZXcgQXBwKCk7XG4gIHN0YWNrID0gbmV3IFN0YWNrKGFwcCwgJ1N0YWNrJywge1xuICAgIGVudjogeyBhY2NvdW50OiAnMTIzNCcsIHJlZ2lvbjogJ3Rlc3RyZWdpb24nIH0sXG4gIH0pO1xufSk7XG5cbnRlc3QoJ21pbmltYWwgZXhhbXBsZSByZW5kZXJzIGNvcnJlY3RseScsICgpID0+IHtcbiAgbmV3IEVsYXN0aWNzZWFyY2hBY2Nlc3NQb2xpY3koc3RhY2ssICdFbGFzdGljc2VhcmNoQWNjZXNzUG9saWN5Jywge1xuICAgIGRvbWFpbk5hbWU6ICdUZXN0RG9tYWluJyxcbiAgICBkb21haW5Bcm46ICd0ZXN0OmFybicsXG4gICAgYWNjZXNzUG9saWNpZXM6IFtuZXcgaWFtLlBvbGljeVN0YXRlbWVudCh7XG4gICAgICBlZmZlY3Q6IGlhbS5FZmZlY3QuQUxMT1csXG4gICAgICBhY3Rpb25zOiBbJ2VzOkVTSHR0cConXSxcbiAgICAgIHByaW5jaXBhbHM6IFtuZXcgaWFtLkFueVByaW5jaXBhbCgpXSxcbiAgICAgIHJlc291cmNlczogWyd0ZXN0OmFybiddLFxuXG4gICAgfSldLFxuICB9KTtcblxuICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQ3VzdG9tOjpFbGFzdGljc2VhcmNoQWNjZXNzUG9saWN5Jywge1xuICAgIFNlcnZpY2VUb2tlbjoge1xuICAgICAgJ0ZuOjpHZXRBdHQnOiBbXG4gICAgICAgICdBV1M2NzlmNTNmYWMwMDI0MzBjYjBkYTViNzk4MmJkMjI4NzJEMTY0QzRDJyxcbiAgICAgICAgJ0FybicsXG4gICAgICBdLFxuICAgIH0sXG4gICAgQ3JlYXRlOiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICBhY3Rpb246ICd1cGRhdGVFbGFzdGljc2VhcmNoRG9tYWluQ29uZmlnJyxcbiAgICAgIHNlcnZpY2U6ICdFUycsXG4gICAgICBwYXJhbWV0ZXJzOiB7XG4gICAgICAgIERvbWFpbk5hbWU6ICdUZXN0RG9tYWluJyxcbiAgICAgICAgQWNjZXNzUG9saWNpZXM6ICd7XCJTdGF0ZW1lbnRcIjpbe1wiQWN0aW9uXCI6XCJlczpFU0h0dHAqXCIsXCJFZmZlY3RcIjpcIkFsbG93XCIsXCJQcmluY2lwYWxcIjp7XCJBV1NcIjpcIipcIn0sXCJSZXNvdXJjZVwiOlwidGVzdDphcm5cIn1dLFwiVmVyc2lvblwiOlwiMjAxMi0xMC0xN1wifScsXG4gICAgICB9LFxuICAgICAgb3V0cHV0UGF0aHM6IFsnRG9tYWluQ29uZmlnLkVsYXN0aWNzZWFyY2hDbHVzdGVyQ29uZmlnLkFjY2Vzc1BvbGljaWVzJ10sXG4gICAgICBwaHlzaWNhbFJlc291cmNlSWQ6IHsgaWQ6ICdUZXN0RG9tYWluQWNjZXNzUG9saWN5JyB9LFxuICAgIH0pLFxuICAgIFVwZGF0ZTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgYWN0aW9uOiAndXBkYXRlRWxhc3RpY3NlYXJjaERvbWFpbkNvbmZpZycsXG4gICAgICBzZXJ2aWNlOiAnRVMnLFxuICAgICAgcGFyYW1ldGVyczoge1xuICAgICAgICBEb21haW5OYW1lOiAnVGVzdERvbWFpbicsXG4gICAgICAgIEFjY2Vzc1BvbGljaWVzOiAne1wiU3RhdGVtZW50XCI6W3tcIkFjdGlvblwiOlwiZXM6RVNIdHRwKlwiLFwiRWZmZWN0XCI6XCJBbGxvd1wiLFwiUHJpbmNpcGFsXCI6e1wiQVdTXCI6XCIqXCJ9LFwiUmVzb3VyY2VcIjpcInRlc3Q6YXJuXCJ9XSxcIlZlcnNpb25cIjpcIjIwMTItMTAtMTdcIn0nLFxuICAgICAgfSxcbiAgICAgIG91dHB1dFBhdGhzOiBbJ0RvbWFpbkNvbmZpZy5FbGFzdGljc2VhcmNoQ2x1c3RlckNvbmZpZy5BY2Nlc3NQb2xpY2llcyddLFxuICAgICAgcGh5c2ljYWxSZXNvdXJjZUlkOiB7IGlkOiAnVGVzdERvbWFpbkFjY2Vzc1BvbGljeScgfSxcbiAgICB9KSxcbiAgfSk7XG59KTtcblxudGVzdCgnc3VwcG9ydCBhY2Nlc3MgcG9saWN5IGFkZGVkIGlubGluZSBhbmQgbGF0ZXInLCAoKSA9PiB7XG4gIGNvbnN0IGVsYXN0aWNzZWFyY2hBY2Nlc3NQb2xpY3kgPSBuZXcgRWxhc3RpY3NlYXJjaEFjY2Vzc1BvbGljeShzdGFjaywgJ0VsYXN0aWNzZWFyY2hBY2Nlc3NQb2xpY3knLCB7XG4gICAgZG9tYWluTmFtZTogJ1Rlc3REb21haW4nLFxuICAgIGRvbWFpbkFybjogJ3Rlc3Q6YXJuJyxcbiAgICBhY2Nlc3NQb2xpY2llczogW1xuICAgICAgbmV3IGlhbS5Qb2xpY3lTdGF0ZW1lbnQoe1xuICAgICAgICBlZmZlY3Q6IGlhbS5FZmZlY3QuQUxMT1csXG4gICAgICAgIGFjdGlvbnM6IFsnZXM6RVNIdHRwKiddLFxuICAgICAgICBwcmluY2lwYWxzOiBbbmV3IGlhbS5BbnlQcmluY2lwYWwoKV0sXG4gICAgICAgIHJlc291cmNlczogWyd0ZXN0OmFybiddLFxuICAgICAgfSksXG4gICAgXSxcbiAgfSk7XG4gIGVsYXN0aWNzZWFyY2hBY2Nlc3NQb2xpY3kuYWRkQWNjZXNzUG9saWNpZXMoXG4gICAgbmV3IGlhbS5Qb2xpY3lTdGF0ZW1lbnQoe1xuICAgICAgZWZmZWN0OiBpYW0uRWZmZWN0LkFMTE9XLFxuICAgICAgYWN0aW9uczogWycqJ10sXG4gICAgICBwcmluY2lwYWxzOiBbbmV3IGlhbS5BbnlQcmluY2lwYWwoKV0sXG4gICAgICByZXNvdXJjZXM6IFsndGVzdDphcm4nXSxcbiAgICB9KSxcbiAgKTtcblxuICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQ3VzdG9tOjpFbGFzdGljc2VhcmNoQWNjZXNzUG9saWN5Jywge1xuICAgIFNlcnZpY2VUb2tlbjoge1xuICAgICAgJ0ZuOjpHZXRBdHQnOiBbXG4gICAgICAgICdBV1M2NzlmNTNmYWMwMDI0MzBjYjBkYTViNzk4MmJkMjI4NzJEMTY0QzRDJyxcbiAgICAgICAgJ0FybicsXG4gICAgICBdLFxuICAgIH0sXG4gICAgQ3JlYXRlOiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICBhY3Rpb246ICd1cGRhdGVFbGFzdGljc2VhcmNoRG9tYWluQ29uZmlnJyxcbiAgICAgIHNlcnZpY2U6ICdFUycsXG4gICAgICBwYXJhbWV0ZXJzOiB7XG4gICAgICAgIERvbWFpbk5hbWU6ICdUZXN0RG9tYWluJyxcbiAgICAgICAgQWNjZXNzUG9saWNpZXM6ICd7XCJTdGF0ZW1lbnRcIjpbe1wiQWN0aW9uXCI6XCJlczpFU0h0dHAqXCIsXCJFZmZlY3RcIjpcIkFsbG93XCIsXCJQcmluY2lwYWxcIjp7XCJBV1NcIjpcIipcIn0sXCJSZXNvdXJjZVwiOlwidGVzdDphcm5cIn0se1wiQWN0aW9uXCI6XCIqXCIsXCJFZmZlY3RcIjpcIkFsbG93XCIsXCJQcmluY2lwYWxcIjp7XCJBV1NcIjpcIipcIn0sXCJSZXNvdXJjZVwiOlwidGVzdDphcm5cIn1dLFwiVmVyc2lvblwiOlwiMjAxMi0xMC0xN1wifScsXG4gICAgICB9LFxuICAgICAgb3V0cHV0UGF0aHM6IFsnRG9tYWluQ29uZmlnLkVsYXN0aWNzZWFyY2hDbHVzdGVyQ29uZmlnLkFjY2Vzc1BvbGljaWVzJ10sXG4gICAgICBwaHlzaWNhbFJlc291cmNlSWQ6IHsgaWQ6ICdUZXN0RG9tYWluQWNjZXNzUG9saWN5JyB9LFxuICAgIH0pLFxuICAgIFVwZGF0ZTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgYWN0aW9uOiAndXBkYXRlRWxhc3RpY3NlYXJjaERvbWFpbkNvbmZpZycsXG4gICAgICBzZXJ2aWNlOiAnRVMnLFxuICAgICAgcGFyYW1ldGVyczoge1xuICAgICAgICBEb21haW5OYW1lOiAnVGVzdERvbWFpbicsXG4gICAgICAgIEFjY2Vzc1BvbGljaWVzOiAne1wiU3RhdGVtZW50XCI6W3tcIkFjdGlvblwiOlwiZXM6RVNIdHRwKlwiLFwiRWZmZWN0XCI6XCJBbGxvd1wiLFwiUHJpbmNpcGFsXCI6e1wiQVdTXCI6XCIqXCJ9LFwiUmVzb3VyY2VcIjpcInRlc3Q6YXJuXCJ9LHtcIkFjdGlvblwiOlwiKlwiLFwiRWZmZWN0XCI6XCJBbGxvd1wiLFwiUHJpbmNpcGFsXCI6e1wiQVdTXCI6XCIqXCJ9LFwiUmVzb3VyY2VcIjpcInRlc3Q6YXJuXCJ9XSxcIlZlcnNpb25cIjpcIjIwMTItMTAtMTdcIn0nLFxuICAgICAgfSxcbiAgICAgIG91dHB1dFBhdGhzOiBbJ0RvbWFpbkNvbmZpZy5FbGFzdGljc2VhcmNoQ2x1c3RlckNvbmZpZy5BY2Nlc3NQb2xpY2llcyddLFxuICAgICAgcGh5c2ljYWxSZXNvdXJjZUlkOiB7IGlkOiAnVGVzdERvbWFpbkFjY2Vzc1BvbGljeScgfSxcbiAgICB9KSxcbiAgfSk7XG59KTtcbiJdfQ==