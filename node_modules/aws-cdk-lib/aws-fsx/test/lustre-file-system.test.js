"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const assert_1 = require("assert");
const assertions_1 = require("../../assertions");
const aws_ec2_1 = require("../../aws-ec2");
const aws_kms_1 = require("../../aws-kms");
const core_1 = require("../../core");
const lib_1 = require("../lib");
describe('FSx for Lustre File System', () => {
    let lustreConfiguration;
    let stack;
    let storageCapacity;
    let vpcSubnet;
    let vpc;
    beforeEach(() => {
        stack = new core_1.Stack();
        storageCapacity = 1200;
        vpc = new aws_ec2_1.Vpc(stack, 'VPC');
        vpcSubnet = new aws_ec2_1.Subnet(stack, 'Subnet', {
            availabilityZone: 'us-west-2',
            cidrBlock: vpc.vpcCidrBlock,
            vpcId: vpc.vpcId,
        });
    });
    test('default file system is created correctly', () => {
        lustreConfiguration = {
            deploymentType: lib_1.LustreDeploymentType.SCRATCH_2,
        };
        const fileSystem = new lib_1.LustreFileSystem(stack, 'FsxFileSystem', {
            lustreConfiguration,
            storageCapacityGiB: storageCapacity,
            vpc,
            vpcSubnet,
        });
        assertions_1.Template.fromStack(stack).hasResource('AWS::FSx::FileSystem', {});
        assertions_1.Template.fromStack(stack).hasResource('AWS::EC2::SecurityGroup', {});
        (0, assert_1.strictEqual)(fileSystem.dnsName, `${fileSystem.fileSystemId}.fsx.${stack.region}.${core_1.Aws.URL_SUFFIX}`);
        assertions_1.Template.fromStack(stack).hasResource('AWS::FSx::FileSystem', {
            DeletionPolicy: 'Retain',
        });
    });
    test('file system is created correctly when security group is provided', () => {
        lustreConfiguration = {
            deploymentType: lib_1.LustreDeploymentType.SCRATCH_2,
        };
        const securityGroup = new aws_ec2_1.SecurityGroup(stack, 'FsxLustreSecurityGroup', {
            vpc,
        });
        new lib_1.LustreFileSystem(stack, 'FsxFileSystem', {
            lustreConfiguration,
            securityGroup,
            storageCapacityGiB: storageCapacity,
            vpc,
            vpcSubnet,
        });
        assertions_1.Template.fromStack(stack).hasResource('AWS::FSx::FileSystem', {});
        assertions_1.Template.fromStack(stack).hasResource('AWS::EC2::SecurityGroup', {});
    });
    test('encrypted file system is created correctly with custom KMS', () => {
        lustreConfiguration = {
            deploymentType: lib_1.LustreDeploymentType.SCRATCH_2,
        };
        const key = new aws_kms_1.Key(stack, 'customKeyFS');
        new lib_1.LustreFileSystem(stack, 'FsxFileSystem', {
            kmsKey: key,
            lustreConfiguration,
            storageCapacityGiB: storageCapacity,
            vpc,
            vpcSubnet,
        });
        /**
         * CDK appends 8-digit MD5 hash of the resource path to the logical Id of the resource in order to make sure
         * that the id is unique across multiple stacks. There isnt a direct way to identify the exact name of the resource
         * in generated CDK, hence hardcoding the MD5 hash here for assertion. Assumption is that the path of the Key wont
         * change in this UT. Checked the unique id by generating the cloud formation stack.
         */
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::FSx::FileSystem', {
            KmsKeyId: {
                Ref: 'customKeyFSDDB87C6D',
            },
        });
    });
    test('file system is created correctly when weekly maintenance time is provided', () => {
        const maintenanceTime = new lib_1.LustreMaintenanceTime({
            day: lib_1.Weekday.SUNDAY,
            hour: 12,
            minute: 34,
        });
        lustreConfiguration = {
            deploymentType: lib_1.LustreDeploymentType.SCRATCH_2,
            weeklyMaintenanceStartTime: maintenanceTime,
        };
        const securityGroup = new aws_ec2_1.SecurityGroup(stack, 'FsxLustreSecurityGroup', {
            vpc,
        });
        new lib_1.LustreFileSystem(stack, 'FsxFileSystem', {
            lustreConfiguration,
            securityGroup,
            storageCapacityGiB: storageCapacity,
            vpc,
            vpcSubnet,
        });
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::FSx::FileSystem', {
            LustreConfiguration: {
                DeploymentType: 'SCRATCH_2',
                WeeklyMaintenanceStartTime: '7:12:34',
            },
        });
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::EC2::SecurityGroup', {});
    });
    describe('when validating props', () => {
        describe('exportPath', () => {
            test('export path valid', () => {
                const importPath = 's3://import-bucket';
                const exportPath = `${importPath}/export-prefix`;
                lustreConfiguration = {
                    deploymentType: lib_1.LustreDeploymentType.SCRATCH_2,
                    exportPath,
                    importPath,
                };
                new lib_1.LustreFileSystem(stack, 'FsxFileSystem', {
                    lustreConfiguration,
                    storageCapacityGiB: storageCapacity,
                    vpc,
                    vpcSubnet,
                });
                assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::FSx::FileSystem', {
                    LustreConfiguration: {
                        DeploymentType: lib_1.LustreDeploymentType.SCRATCH_2,
                        ExportPath: exportPath,
                        ImportPath: importPath,
                    },
                });
            });
            test('export and import paths are Tokens', () => {
                const importPathResolved = 'importPath';
                const exportPathResolved = 'exportPath';
                const importPath = core_1.Token.asString(core_1.Token.asAny(importPathResolved));
                const exportPath = core_1.Token.asString(core_1.Token.asAny(exportPathResolved));
                lustreConfiguration = {
                    deploymentType: lib_1.LustreDeploymentType.SCRATCH_2,
                    exportPath,
                    importPath,
                };
                new lib_1.LustreFileSystem(stack, 'FsxFileSystem', {
                    lustreConfiguration,
                    storageCapacityGiB: storageCapacity,
                    vpc,
                    vpcSubnet,
                });
                assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::FSx::FileSystem', {
                    LustreConfiguration: {
                        DeploymentType: lib_1.LustreDeploymentType.SCRATCH_2,
                        ExportPath: exportPathResolved,
                        ImportPath: importPathResolved,
                    },
                });
            });
            test('only export path is Token', () => {
                const exportPathResolved = 'exportPath';
                const importPath = 's3://import-bucket';
                const exportPath = core_1.Token.asString(core_1.Token.asAny(exportPathResolved));
                lustreConfiguration = {
                    deploymentType: lib_1.LustreDeploymentType.SCRATCH_2,
                    exportPath,
                    importPath,
                };
                expect(() => {
                    new lib_1.LustreFileSystem(stack, 'FsxFileSystem', {
                        lustreConfiguration,
                        storageCapacityGiB: storageCapacity,
                        vpc,
                        vpcSubnet,
                    });
                }).toThrowError('The importPath and exportPath must each be Tokens or not Tokens, you cannot use a mix');
            });
            test('only import path is Token', () => {
                const importPathResolved = 'importPath';
                const importPath = core_1.Token.asString(core_1.Token.asAny(importPathResolved));
                const exportPath = 's3://import-bucket/export';
                lustreConfiguration = {
                    deploymentType: lib_1.LustreDeploymentType.SCRATCH_2,
                    exportPath,
                    importPath,
                };
                expect(() => {
                    new lib_1.LustreFileSystem(stack, 'FsxFileSystem', {
                        lustreConfiguration,
                        storageCapacityGiB: storageCapacity,
                        vpc,
                        vpcSubnet,
                    });
                }).toThrowError('The importPath and exportPath must each be Tokens or not Tokens, you cannot use a mix');
            });
            test('invalid export path length', () => {
                const importPath = 's3://import-bucket';
                const path = Array(902).join('x');
                const exportPath = `${importPath}/${path}`;
                lustreConfiguration = {
                    deploymentType: lib_1.LustreDeploymentType.SCRATCH_2,
                    exportPath,
                    importPath,
                };
                expect(() => {
                    new lib_1.LustreFileSystem(stack, 'FsxFileSystem', {
                        lustreConfiguration,
                        storageCapacityGiB: storageCapacity,
                        vpc,
                        vpcSubnet,
                    });
                }).toThrowError(`The export path "${exportPath}" exceeds the maximum length of 900 characters`);
            });
            test('export path does not start with import path', () => {
                const importPath = 's3://import-bucket';
                const exportPath = 's3://wrong-bucket';
                lustreConfiguration = {
                    deploymentType: lib_1.LustreDeploymentType.SCRATCH_2,
                    exportPath,
                    importPath,
                };
                expect(() => {
                    new lib_1.LustreFileSystem(stack, 'FsxFileSystem', {
                        lustreConfiguration,
                        storageCapacityGiB: storageCapacity,
                        vpc,
                        vpcSubnet,
                    });
                }).toThrowError(`The export path "${exportPath}" is invalid. Expecting the format: s3://{IMPORT_PATH}/optional-prefix`);
            });
            test('export path with no import path', () => {
                const exportPath = 's://import-bucket/export-prefix';
                lustreConfiguration = {
                    deploymentType: lib_1.LustreDeploymentType.SCRATCH_2,
                    exportPath,
                };
                expect(() => {
                    new lib_1.LustreFileSystem(stack, 'FsxFileSystem', {
                        lustreConfiguration,
                        storageCapacityGiB: storageCapacity,
                        vpc,
                        vpcSubnet,
                    });
                }).toThrowError('Cannot define an export path without also defining an import path');
            });
        });
        describe('autoImportPolicy', () => {
            test('autoImportPath unsupported with PERSISTENT_2', () => {
                const importPath = 's3://import-bucket/import-prefix';
                lustreConfiguration = {
                    deploymentType: lib_1.LustreDeploymentType.PERSISTENT_2,
                    autoImportPolicy: lib_1.LustreAutoImportPolicy.NEW_CHANGED_DELETED,
                    importPath,
                };
                expect(() => {
                    new lib_1.LustreFileSystem(stack, 'FsxFilesystem', {
                        lustreConfiguration,
                        storageCapacityGiB: storageCapacity,
                        vpc,
                        vpcSubnet,
                    });
                }).toThrowError('autoImportPolicy is not supported with PERSISTENT_2 deployments');
            });
            test('autoImportPath requires importPath', () => {
                lustreConfiguration = {
                    deploymentType: lib_1.LustreDeploymentType.PERSISTENT_1,
                    autoImportPolicy: lib_1.LustreAutoImportPolicy.NEW_CHANGED_DELETED,
                };
                expect(() => {
                    new lib_1.LustreFileSystem(stack, 'FsxFilesystem', {
                        lustreConfiguration,
                        storageCapacityGiB: storageCapacity,
                        vpc,
                        vpcSubnet,
                    });
                }).toThrowError('autoImportPolicy requires importPath to be defined');
            });
        });
        describe('autoImportPolicy', () => {
            test.each([
                lib_1.LustreAutoImportPolicy.NONE,
                lib_1.LustreAutoImportPolicy.NEW,
                lib_1.LustreAutoImportPolicy.NEW_CHANGED,
                lib_1.LustreAutoImportPolicy.NEW_CHANGED_DELETED,
            ])('valid autoImportPolicy', (autoImportPolicy) => {
                const importPath = 's3://import-bucket/import-path';
                lustreConfiguration = {
                    deploymentType: lib_1.LustreDeploymentType.PERSISTENT_1,
                    importPath,
                    autoImportPolicy,
                };
                new lib_1.LustreFileSystem(stack, 'FsxFileSystem', {
                    lustreConfiguration,
                    storageCapacityGiB: storageCapacity,
                    vpc,
                    vpcSubnet,
                });
                assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::FSx::FileSystem', {
                    LustreConfiguration: {
                        AutoImportPolicy: autoImportPolicy,
                        DeploymentType: lib_1.LustreDeploymentType.PERSISTENT_1,
                    },
                });
            });
        });
        describe('importedFileChunkSize', () => {
            test.each([
                1,
                256000,
                512000,
            ])('valid file chunk size of %d', (size) => {
                lustreConfiguration = {
                    deploymentType: lib_1.LustreDeploymentType.SCRATCH_2,
                    importedFileChunkSizeMiB: size,
                };
                new lib_1.LustreFileSystem(stack, 'FsxFileSystem', {
                    lustreConfiguration,
                    storageCapacityGiB: storageCapacity,
                    vpc,
                    vpcSubnet,
                });
                assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::FSx::FileSystem', {
                    LustreConfiguration: {
                        DeploymentType: lib_1.LustreDeploymentType.SCRATCH_2,
                        ImportedFileChunkSize: size,
                    },
                });
            });
            test.each([
                0,
                512001,
            ])('invalid file chunk size of %d', (size) => {
                lustreConfiguration = {
                    deploymentType: lib_1.LustreDeploymentType.SCRATCH_2,
                    importedFileChunkSizeMiB: size,
                };
                expect(() => {
                    new lib_1.LustreFileSystem(stack, 'FsxFileSystem', {
                        lustreConfiguration,
                        storageCapacityGiB: storageCapacity,
                        vpc,
                        vpcSubnet,
                    });
                }).toThrowError(`importedFileChunkSize cannot be ${size} MiB. It must be a value from 1 to 512,000 MiB`);
            });
        });
        describe('importPath', () => {
            test('import path valid', () => {
                const importPath = 's3://import-bucket';
                lustreConfiguration = {
                    deploymentType: lib_1.LustreDeploymentType.SCRATCH_2,
                    importPath,
                };
                new lib_1.LustreFileSystem(stack, 'FsxFileSystem', {
                    lustreConfiguration,
                    storageCapacityGiB: storageCapacity,
                    vpc,
                    vpcSubnet,
                });
                assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::FSx::FileSystem', {
                    LustreConfiguration: {
                        DeploymentType: lib_1.LustreDeploymentType.SCRATCH_2,
                        ImportPath: importPath,
                    },
                });
            });
            test('import path is Token', () => {
                const importPathResolved = 'importPath';
                const importPath = core_1.Token.asString(core_1.Token.asAny(importPathResolved));
                lustreConfiguration = {
                    deploymentType: lib_1.LustreDeploymentType.SCRATCH_2,
                    importPath,
                };
                new lib_1.LustreFileSystem(stack, 'FsxFileSystem', {
                    lustreConfiguration,
                    storageCapacityGiB: storageCapacity,
                    vpc,
                    vpcSubnet,
                });
                assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::FSx::FileSystem', {
                    LustreConfiguration: {
                        DeploymentType: lib_1.LustreDeploymentType.SCRATCH_2,
                        ImportPath: importPathResolved,
                    },
                });
            });
            test('invalid import path format', () => {
                const importPath = 'import-bucket';
                lustreConfiguration = {
                    deploymentType: lib_1.LustreDeploymentType.SCRATCH_2,
                    importPath,
                };
                expect(() => {
                    new lib_1.LustreFileSystem(stack, 'FsxFileSystem', {
                        lustreConfiguration,
                        storageCapacityGiB: storageCapacity,
                        vpc,
                        vpcSubnet,
                    });
                }).toThrowError(`The import path "${importPath}" is invalid. Expecting the format: s3://{BUCKET_NAME}/optional-prefix`);
            });
            test('invalid import path length', () => {
                const path = Array(902).join('x');
                const importPath = `s3://${path}`;
                lustreConfiguration = {
                    deploymentType: lib_1.LustreDeploymentType.SCRATCH_2,
                    importPath,
                };
                expect(() => {
                    new lib_1.LustreFileSystem(stack, 'FsxFileSystem', {
                        lustreConfiguration,
                        storageCapacityGiB: storageCapacity,
                        vpc,
                        vpcSubnet,
                    });
                }).toThrowError(`The import path "${importPath}" exceeds the maximum length of 900 characters`);
            });
        });
        describe('DataCompressionType', () => {
            test('dataCompressionType enabled', () => {
                lustreConfiguration = {
                    deploymentType: lib_1.LustreDeploymentType.SCRATCH_2,
                    dataCompressionType: lib_1.LustreDataCompressionType.LZ4,
                };
                new lib_1.LustreFileSystem(stack, 'FsxFileSystem', {
                    lustreConfiguration,
                    storageCapacityGiB: storageCapacity,
                    vpc,
                    vpcSubnet,
                });
                assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::FSx::FileSystem', {
                    LustreConfiguration: {
                        DeploymentType: lib_1.LustreDeploymentType.SCRATCH_2,
                        DataCompressionType: lib_1.LustreDataCompressionType.LZ4,
                    },
                });
            });
        });
        describe('perUnitStorageThroughput', () => {
            test.each([
                50,
                100,
                200,
            ])('valid perUnitStorageThroughput of %d', (throughput) => {
                lustreConfiguration = {
                    deploymentType: lib_1.LustreDeploymentType.PERSISTENT_1,
                    perUnitStorageThroughput: throughput,
                };
                new lib_1.LustreFileSystem(stack, 'FsxFileSystem', {
                    lustreConfiguration,
                    storageCapacityGiB: storageCapacity,
                    vpc,
                    vpcSubnet,
                });
                assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::FSx::FileSystem', {
                    LustreConfiguration: {
                        DeploymentType: lib_1.LustreDeploymentType.PERSISTENT_1,
                        PerUnitStorageThroughput: throughput,
                    },
                });
            });
            test.each([
                1,
                125,
                250,
                500,
                1000,
            ])('invalid perUnitStorageThroughput', (invalidValue) => {
                lustreConfiguration = {
                    deploymentType: lib_1.LustreDeploymentType.PERSISTENT_1,
                    perUnitStorageThroughput: invalidValue,
                };
                expect(() => {
                    new lib_1.LustreFileSystem(stack, 'FsxFileSystem', {
                        lustreConfiguration,
                        storageCapacityGiB: storageCapacity,
                        vpc,
                        vpcSubnet,
                    });
                }).toThrowError('perUnitStorageThroughput must be 50, 100, or 200 MB/s/TiB for PERSISTENT_1 deployment type, got: ' + invalidValue);
            });
            test('setting perUnitStorageThroughput on wrong deploymentType', () => {
                lustreConfiguration = {
                    deploymentType: lib_1.LustreDeploymentType.SCRATCH_2,
                    perUnitStorageThroughput: 50,
                };
                expect(() => {
                    new lib_1.LustreFileSystem(stack, 'FsxFileSystem', {
                        lustreConfiguration,
                        storageCapacityGiB: storageCapacity,
                        vpc,
                        vpcSubnet,
                    });
                }).toThrowError('perUnitStorageThroughput can only be set for the PERSISTENT_1/PERSISTENT_2 deployment types');
            });
        });
        describe('perUnitStorageThroughput_Persistent_2', () => {
            test.each([
                125,
                250,
                500,
                1000,
            ])('valid perUnitStorageThroughput of %d', (throughput) => {
                lustreConfiguration = {
                    deploymentType: lib_1.LustreDeploymentType.PERSISTENT_2,
                    perUnitStorageThroughput: throughput,
                };
                new lib_1.LustreFileSystem(stack, 'FsxFileSystem', {
                    lustreConfiguration,
                    storageCapacityGiB: storageCapacity,
                    vpc,
                    vpcSubnet,
                });
                assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::FSx::FileSystem', {
                    LustreConfiguration: {
                        DeploymentType: lib_1.LustreDeploymentType.PERSISTENT_2,
                        PerUnitStorageThroughput: throughput,
                    },
                });
            });
            test.each([
                1,
                50,
                100,
                200,
                550,
            ])('invalid perUnitStorageThroughput', (invalidValue) => {
                lustreConfiguration = {
                    deploymentType: lib_1.LustreDeploymentType.PERSISTENT_2,
                    perUnitStorageThroughput: invalidValue,
                };
                expect(() => {
                    new lib_1.LustreFileSystem(stack, 'FsxFileSystem', {
                        lustreConfiguration,
                        storageCapacityGiB: storageCapacity,
                        vpc,
                        vpcSubnet,
                    });
                }).toThrowError('perUnitStorageThroughput must be 125, 250, 500 or 1000 MB/s/TiB for PERSISTENT_2 deployment type, got: ' + invalidValue);
            });
        });
        describe('storageCapacity', () => {
            test.each([
                [1200, lib_1.LustreDeploymentType.SCRATCH_2],
                [2400, lib_1.LustreDeploymentType.SCRATCH_2],
                [4800, lib_1.LustreDeploymentType.SCRATCH_2],
                [1200, lib_1.LustreDeploymentType.PERSISTENT_1],
                [2400, lib_1.LustreDeploymentType.PERSISTENT_1],
                [4800, lib_1.LustreDeploymentType.PERSISTENT_1],
                [1200, lib_1.LustreDeploymentType.PERSISTENT_2],
                [2400, lib_1.LustreDeploymentType.PERSISTENT_2],
                [4800, lib_1.LustreDeploymentType.PERSISTENT_2],
            ])('proper multiple for storage capacity of %d on %s', (value, deploymentType) => {
                lustreConfiguration = {
                    deploymentType,
                };
                new lib_1.LustreFileSystem(stack, 'FsxFileSystem', {
                    lustreConfiguration,
                    storageCapacityGiB: value,
                    vpc,
                    vpcSubnet,
                });
                assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::FSx::FileSystem', {
                    LustreConfiguration: {
                        DeploymentType: deploymentType,
                    },
                    StorageCapacity: value,
                });
            });
            test.each([
                [1, lib_1.LustreDeploymentType.SCRATCH_2],
                [2401, lib_1.LustreDeploymentType.SCRATCH_2],
                [1, lib_1.LustreDeploymentType.PERSISTENT_1],
                [2401, lib_1.LustreDeploymentType.PERSISTENT_1],
                [1, lib_1.LustreDeploymentType.PERSISTENT_2],
                [2401, lib_1.LustreDeploymentType.PERSISTENT_2],
            ])('invalid value of %d for storage capacity on %s', (invalidValue, deploymentType) => {
                lustreConfiguration = {
                    deploymentType,
                };
                expect(() => {
                    new lib_1.LustreFileSystem(stack, 'FsxFileSystem', {
                        lustreConfiguration,
                        storageCapacityGiB: invalidValue,
                        vpc,
                        vpcSubnet,
                    });
                }).toThrowError(/storageCapacity must be 1,200, 2,400, or a multiple of 2,400/);
            });
            test.each([1200, 2400, 3600, 7200])('proper multiple for storage capacity using %d with SCRATCH_1', (validValue) => {
                lustreConfiguration = {
                    deploymentType: lib_1.LustreDeploymentType.SCRATCH_1,
                };
                new lib_1.LustreFileSystem(stack, 'FsxFileSystem', {
                    lustreConfiguration,
                    storageCapacityGiB: validValue,
                    vpc,
                    vpcSubnet,
                });
                assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::FSx::FileSystem', {
                    LustreConfiguration: {
                        DeploymentType: lib_1.LustreDeploymentType.SCRATCH_1,
                    },
                    StorageCapacity: validValue,
                });
            });
            test.each([1, 3601])('invalid value of %d for storage capacity with SCRATCH_1', (invalidValue) => {
                lustreConfiguration = {
                    deploymentType: lib_1.LustreDeploymentType.SCRATCH_1,
                };
                expect(() => {
                    new lib_1.LustreFileSystem(stack, 'FsxFileSystem', {
                        lustreConfiguration,
                        storageCapacityGiB: invalidValue,
                        vpc,
                        vpcSubnet,
                    });
                }).toThrowError(/storageCapacity must be 1,200, 2,400, 3,600, or a multiple of 3,600/);
            });
        });
    });
    test('existing file system is imported correctly', () => {
        const fileSystemId = 'fs123';
        const fs = lib_1.LustreFileSystem.fromLustreFileSystemAttributes(stack, 'existingFS', {
            dnsName: `${fileSystemId}.fsx.${stack.region}.${core_1.Aws.URL_SUFFIX}`,
            fileSystemId,
            securityGroup: aws_ec2_1.SecurityGroup.fromSecurityGroupId(stack, 'SG', 'sg-123456789', {
                allowAllOutbound: false,
            }),
        });
        fs.connections.allowToAnyIpv4(aws_ec2_1.Port.tcp(443));
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::EC2::SecurityGroupEgress', {
            GroupId: 'sg-123456789',
        });
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibHVzdHJlLWZpbGUtc3lzdGVtLnRlc3QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJsdXN0cmUtZmlsZS1zeXN0ZW0udGVzdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLG1DQUFxQztBQUNyQyxpREFBNEM7QUFDNUMsMkNBQTBFO0FBQzFFLDJDQUFvQztBQUNwQyxxQ0FBK0M7QUFDL0MsZ0NBQXdLO0FBRXhLLFFBQVEsQ0FBQyw0QkFBNEIsRUFBRSxHQUFHLEVBQUU7SUFDMUMsSUFBSSxtQkFBd0MsQ0FBQztJQUM3QyxJQUFJLEtBQVksQ0FBQztJQUNqQixJQUFJLGVBQXVCLENBQUM7SUFDNUIsSUFBSSxTQUFrQixDQUFDO0lBQ3ZCLElBQUksR0FBUSxDQUFDO0lBRWIsVUFBVSxDQUFDLEdBQUcsRUFBRTtRQUNkLEtBQUssR0FBRyxJQUFJLFlBQUssRUFBRSxDQUFDO1FBQ3BCLGVBQWUsR0FBRyxJQUFJLENBQUM7UUFDdkIsR0FBRyxHQUFHLElBQUksYUFBRyxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQztRQUM1QixTQUFTLEdBQUcsSUFBSSxnQkFBTSxDQUFDLEtBQUssRUFBRSxRQUFRLEVBQUU7WUFDdEMsZ0JBQWdCLEVBQUUsV0FBVztZQUM3QixTQUFTLEVBQUUsR0FBRyxDQUFDLFlBQVk7WUFDM0IsS0FBSyxFQUFFLEdBQUcsQ0FBQyxLQUFLO1NBQ2pCLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0lBRUgsSUFBSSxDQUFDLDBDQUEwQyxFQUFFLEdBQUcsRUFBRTtRQUNwRCxtQkFBbUIsR0FBRztZQUNwQixjQUFjLEVBQUUsMEJBQW9CLENBQUMsU0FBUztTQUMvQyxDQUFDO1FBRUYsTUFBTSxVQUFVLEdBQUcsSUFBSSxzQkFBZ0IsQ0FBQyxLQUFLLEVBQUUsZUFBZSxFQUFFO1lBQzlELG1CQUFtQjtZQUNuQixrQkFBa0IsRUFBRSxlQUFlO1lBQ25DLEdBQUc7WUFDSCxTQUFTO1NBQ1YsQ0FBQyxDQUFDO1FB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RSxHQUFHLFlBQVksUUFBUSxLQUFLLENBQUMsTUFBTSxJQUFJLFVBQUcsQ0FBQyxVQUFVLEVBQUU7WUFDaEUsWUFBWTtZQUNaLGFBQWEsRUFBRSx1QkFBYSxDQUFDLG1CQUFtQixDQUFDLEtBQUssRUFBRSxJQUFJLEVBQUUsY0FBYyxFQUFFO2dCQUM1RSxnQkFBZ0IsRUFBRSxLQUFLO2FBQ3hCLENBQUM7U0FDSCxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsV0FBVyxDQUFDLGNBQWMsQ0FBQyxjQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFFN0MscUJBQVEsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMscUJBQXFCLENBQUMsK0JBQStCLEVBQUU7WUFDL0UsT0FBTyxFQUFFLGNBQWM7U0FDeEIsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHN0cmljdEVxdWFsIH0gZnJvbSAnYXNzZXJ0JztcbmltcG9ydCB7IFRlbXBsYXRlIH0gZnJvbSAnLi4vLi4vYXNzZXJ0aW9ucyc7XG5pbXBvcnQgeyBJU3VibmV0LCBQb3J0LCBTZWN1cml0eUdyb3VwLCBTdWJuZXQsIFZwYyB9IGZyb20gJy4uLy4uL2F3cy1lYzInO1xuaW1wb3J0IHsgS2V5IH0gZnJvbSAnLi4vLi4vYXdzLWttcyc7XG5pbXBvcnQgeyBBd3MsIFN0YWNrLCBUb2tlbiB9IGZyb20gJy4uLy4uL2NvcmUnO1xuaW1wb3J0IHsgTHVzdHJlQ29uZmlndXJhdGlvbiwgTHVzdHJlRGVwbG95bWVudFR5cGUsIEx1c3RyZUF1dG9JbXBvcnRQb2xpY3ksIEx1c3RyZUZpbGVTeXN0ZW0sIEx1c3RyZU1haW50ZW5hbmNlVGltZSwgV2Vla2RheSwgTHVzdHJlRGF0YUNvbXByZXNzaW9uVHlwZSB9IGZyb20gJy4uL2xpYic7XG5cbmRlc2NyaWJlKCdGU3ggZm9yIEx1c3RyZSBGaWxlIFN5c3RlbScsICgpID0+IHtcbiAgbGV0IGx1c3RyZUNvbmZpZ3VyYXRpb246IEx1c3RyZUNvbmZpZ3VyYXRpb247XG4gIGxldCBzdGFjazogU3RhY2s7XG4gIGxldCBzdG9yYWdlQ2FwYWNpdHk6IG51bWJlcjtcbiAgbGV0IHZwY1N1Ym5ldDogSVN1Ym5ldDtcbiAgbGV0IHZwYzogVnBjO1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIHN0YWNrID0gbmV3IFN0YWNrKCk7XG4gICAgc3RvcmFnZUNhcGFjaXR5ID0gMTIwMDtcbiAgICB2cGMgPSBuZXcgVnBjKHN0YWNrLCAnVlBDJyk7XG4gICAgdnBjU3VibmV0ID0gbmV3IFN1Ym5ldChzdGFjaywgJ1N1Ym5ldCcsIHtcbiAgICAgIGF2YWlsYWJpbGl0eVpvbmU6ICd1cy13ZXN0LTInLFxuICAgICAgY2lkckJsb2NrOiB2cGMudnBjQ2lkckJsb2NrLFxuICAgICAgdnBjSWQ6IHZwYy52cGNJZCxcbiAgICB9KTtcbiAgfSk7XG5cbiAgdGVzdCgnZGVmYXVsdCBmaWxlIHN5c3RlbSBpcyBjcmVhdGVkIGNvcnJlY3RseScsICgpID0+IHtcbiAgICBsdXN0cmVDb25maWd1cmF0aW9uID0ge1xuICAgICAgZGVwbG95bWVudFR5cGU6IEx1c3RyZURlcGxveW1lbnRUeXBlLlNDUkFUQ0hfMixcbiAgICB9O1xuXG4gICAgY29uc3QgZmlsZVN5c3RlbSA9IG5ldyBMdXN0cmVGaWxlU3lzdGVtKHN0YWNrLCAnRnN4RmlsZVN5c3RlbScsIHtcbiAgICAgIGx1c3RyZUNvbmZpZ3VyYXRpb24sXG4gICAgICBzdG9yYWdlQ2FwYWNpdHlHaUI6IHN0b3JhZ2VDYXBhY2l0eSxcbiAgICAgIHZwYyxcbiAgICAgIHZwY1N1Ym5ldCxcbiAgICB9KTtcblxuICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2UoJ0FXUzo6RlN4OjpGaWxlU3lzdGVtJywge30pO1xuICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2UoJ0FXUzo6RUMyOjpTZWN1cml0eUdyb3VwJywge30pO1xuICAgIHN0cmljdEVxdWFsKFxuICAgICAgZmlsZVN5c3RlbS5kbnNOYW1lLFxuICAgICAgYCR7ZmlsZVN5c3RlbS5maWxlU3lzdGVtSWR9LmZzeC4ke3N0YWNrLnJlZ2lvbn0uJHtBd3MuVVJMX1NVRkZJWH1gKTtcblxuICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2UoJ0FXUzo6RlN4OjpGaWxlU3lzdGVtJywge1xuICAgICAgRGVsZXRpb25Qb2xpY3k6ICdSZXRhaW4nLFxuICAgIH0pO1xuICB9KTtcblxuICB0ZXN0KCdmaWxlIHN5c3RlbSBpcyBjcmVhdGVkIGNvcnJlY3RseSB3aGVuIHNlY3VyaXR5IGdyb3VwIGlzIHByb3ZpZGVkJywgKCkgPT4ge1xuICAgIGx1c3RyZUNvbmZpZ3VyYXRpb24gPSB7XG4gICAgICBkZXBsb3ltZW50VHlwZTogTHVzdHJlRGVwbG95bWVudFR5cGUuU0NSQVRDSF8yLFxuICAgIH07XG5cbiAgICBjb25zdCBzZWN1cml0eUdyb3VwID0gbmV3IFNlY3VyaXR5R3JvdXAoc3RhY2ssICdGc3hMdXN0cmVTZWN1cml0eUdyb3VwJywge1xuICAgICAgdnBjLFxuICAgIH0pO1xuXG4gICAgbmV3IEx1c3RyZUZpbGVTeXN0ZW0oc3RhY2ssICdGc3hGaWxlU3lzdGVtJywge1xuICAgICAgbHVzdHJlQ29uZmlndXJhdGlvbixcbiAgICAgIHNlY3VyaXR5R3JvdXAsXG4gICAgICBzdG9yYWdlQ2FwYWNpdHlHaUI6IHN0b3JhZ2VDYXBhY2l0eSxcbiAgICAgIHZwYyxcbiAgICAgIHZwY1N1Ym5ldCxcbiAgICB9KTtcblxuICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2UoJ0FXUzo6RlN4OjpGaWxlU3lzdGVtJywge30pO1xuICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2UoJ0FXUzo6RUMyOjpTZWN1cml0eUdyb3VwJywge30pO1xuICB9KTtcblxuICB0ZXN0KCdlbmNyeXB0ZWQgZmlsZSBzeXN0ZW0gaXMgY3JlYXRlZCBjb3JyZWN0bHkgd2l0aCBjdXN0b20gS01TJywgKCkgPT4ge1xuICAgIGx1c3RyZUNvbmZpZ3VyYXRpb24gPSB7XG4gICAgICBkZXBsb3ltZW50VHlwZTogTHVzdHJlRGVwbG95bWVudFR5cGUuU0NSQVRDSF8yLFxuICAgIH07XG5cbiAgICBjb25zdCBrZXkgPSBuZXcgS2V5KHN0YWNrLCAnY3VzdG9tS2V5RlMnKTtcblxuICAgIG5ldyBMdXN0cmVGaWxlU3lzdGVtKHN0YWNrLCAnRnN4RmlsZVN5c3RlbScsIHtcbiAgICAgIGttc0tleToga2V5LFxuICAgICAgbHVzdHJlQ29uZmlndXJhdGlvbixcbiAgICAgIHN0b3JhZ2VDYXBhY2l0eUdpQjogc3RvcmFnZUNhcGFjaXR5LFxuICAgICAgdnBjLFxuICAgICAgdnBjU3VibmV0LFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ0RLIGFwcGVuZHMgOC1kaWdpdCBNRDUgaGFzaCBvZiB0aGUgcmVzb3VyY2UgcGF0aCB0byB0aGUgbG9naWNhbCBJZCBvZiB0aGUgcmVzb3VyY2UgaW4gb3JkZXIgdG8gbWFrZSBzdXJlXG4gICAgICogdGhhdCB0aGUgaWQgaXMgdW5pcXVlIGFjcm9zcyBtdWx0aXBsZSBzdGFja3MuIFRoZXJlIGlzbnQgYSBkaXJlY3Qgd2F5IHRvIGlkZW50aWZ5IHRoZSBleGFjdCBuYW1lIG9mIHRoZSByZXNvdXJjZVxuICAgICAqIGluIGdlbmVyYXRlZCBDREssIGhlbmNlIGhhcmRjb2RpbmcgdGhlIE1ENSBoYXNoIGhlcmUgZm9yIGFzc2VydGlvbi4gQXNzdW1wdGlvbiBpcyB0aGF0IHRoZSBwYXRoIG9mIHRoZSBLZXkgd29udFxuICAgICAqIGNoYW5nZSBpbiB0aGlzIFVULiBDaGVja2VkIHRoZSB1bmlxdWUgaWQgYnkgZ2VuZXJhdGluZyB0aGUgY2xvdWQgZm9ybWF0aW9uIHN0YWNrLlxuICAgICAqL1xuICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkZTeDo6RmlsZVN5c3RlbScsIHtcbiAgICAgIEttc0tleUlkOiB7XG4gICAgICAgIFJlZjogJ2N1c3RvbUtleUZTRERCODdDNkQnLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfSk7XG5cbiAgdGVzdCgnZmlsZSBzeXN0ZW0gaXMgY3JlYXRlZCBjb3JyZWN0bHkgd2hlbiB3ZWVrbHkgbWFpbnRlbmFuY2UgdGltZSBpcyBwcm92aWRlZCcsICgpID0+IHtcbiAgICBjb25zdCBtYWludGVuYW5jZVRpbWUgPSBuZXcgTHVzdHJlTWFpbnRlbmFuY2VUaW1lKHtcbiAgICAgIGRheTogV2Vla2RheS5TVU5EQVksXG4gICAgICBob3VyOiAxMixcbiAgICAgIG1pbnV0ZTogMzQsXG4gICAgfSk7XG4gICAgbHVzdHJlQ29uZmlndXJhdGlvbiA9IHtcbiAgICAgIGRlcGxveW1lbnRUeXBlOiBMdXN0cmVEZXBsb3ltZW50VHlwZS5TQ1JBVENIXzIsXG4gICAgICB3ZWVrbHlNYWludGVuYW5jZVN0YXJ0VGltZTogbWFpbnRlbmFuY2VUaW1lLFxuICAgIH07XG5cbiAgICBjb25zdCBzZWN1cml0eUdyb3VwID0gbmV3IFNlY3VyaXR5R3JvdXAoc3RhY2ssICdGc3hMdXN0cmVTZWN1cml0eUdyb3VwJywge1xuICAgICAgdnBjLFxuICAgIH0pO1xuXG4gICAgbmV3IEx1c3RyZUZpbGVTeXN0ZW0oc3RhY2ssICdGc3hGaWxlU3lzdGVtJywge1xuICAgICAgbHVzdHJlQ29uZmlndXJhdGlvbixcbiAgICAgIHNlY3VyaXR5R3JvdXAsXG4gICAgICBzdG9yYWdlQ2FwYWNpdHlHaUI6IHN0b3JhZ2VDYXBhY2l0eSxcbiAgICAgIHZwYyxcbiAgICAgIHZwY1N1Ym5ldCxcbiAgICB9KTtcblxuICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkZTeDo6RmlsZVN5c3RlbScsIHtcbiAgICAgIEx1c3RyZUNvbmZpZ3VyYXRpb246IHtcbiAgICAgICAgRGVwbG95bWVudFR5cGU6ICdTQ1JBVENIXzInLFxuICAgICAgICBXZWVrbHlNYWludGVuYW5jZVN0YXJ0VGltZTogJzc6MTI6MzQnLFxuICAgICAgfSxcbiAgICB9KTtcbiAgICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpFQzI6OlNlY3VyaXR5R3JvdXAnLCB7fSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCd3aGVuIHZhbGlkYXRpbmcgcHJvcHMnLCAoKSA9PiB7XG4gICAgZGVzY3JpYmUoJ2V4cG9ydFBhdGgnLCAoKSA9PiB7XG4gICAgICB0ZXN0KCdleHBvcnQgcGF0aCB2YWxpZCcsICgpID0+IHtcbiAgICAgICAgY29uc3QgaW1wb3J0UGF0aCA9ICdzMzovL2ltcG9ydC1idWNrZXQnO1xuICAgICAgICBjb25zdCBleHBvcnRQYXRoID0gYCR7aW1wb3J0UGF0aH0vZXhwb3J0LXByZWZpeGA7XG4gICAgICAgIGx1c3RyZUNvbmZpZ3VyYXRpb24gPSB7XG4gICAgICAgICAgZGVwbG95bWVudFR5cGU6IEx1c3RyZURlcGxveW1lbnRUeXBlLlNDUkFUQ0hfMixcbiAgICAgICAgICBleHBvcnRQYXRoLFxuICAgICAgICAgIGltcG9ydFBhdGgsXG4gICAgICAgIH07XG5cbiAgICAgICAgbmV3IEx1c3RyZUZpbGVTeXN0ZW0oc3RhY2ssICdGc3hGaWxlU3lzdGVtJywge1xuICAgICAgICAgIGx1c3RyZUNvbmZpZ3VyYXRpb24sXG4gICAgICAgICAgc3RvcmFnZUNhcGFjaXR5R2lCOiBzdG9yYWdlQ2FwYWNpdHksXG4gICAgICAgICAgdnBjLFxuICAgICAgICAgIHZwY1N1Ym5ldCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6RlN4OjpGaWxlU3lzdGVtJywge1xuICAgICAgICAgIEx1c3RyZUNvbmZpZ3VyYXRpb246IHtcbiAgICAgICAgICAgIERlcGxveW1lbnRUeXBlOiBMdXN0cmVEZXBsb3ltZW50VHlwZS5TQ1JBVENIXzIsXG4gICAgICAgICAgICBFeHBvcnRQYXRoOiBleHBvcnRQYXRoLFxuICAgICAgICAgICAgSW1wb3J0UGF0aDogaW1wb3J0UGF0aCxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KCdleHBvcnQgYW5kIGltcG9ydCBwYXRocyBhcmUgVG9rZW5zJywgKCkgPT4ge1xuICAgICAgICBjb25zdCBpbXBvcnRQYXRoUmVzb2x2ZWQgPSAnaW1wb3J0UGF0aCc7XG4gICAgICAgIGNvbnN0IGV4cG9ydFBhdGhSZXNvbHZlZCA9ICdleHBvcnRQYXRoJztcbiAgICAgICAgY29uc3QgaW1wb3J0UGF0aCA9IFRva2VuLmFzU3RyaW5nKFRva2VuLmFzQW55KGltcG9ydFBhdGhSZXNvbHZlZCkpO1xuICAgICAgICBjb25zdCBleHBvcnRQYXRoID0gVG9rZW4uYXNTdHJpbmcoVG9rZW4uYXNBbnkoZXhwb3J0UGF0aFJlc29sdmVkKSk7XG4gICAgICAgIGx1c3RyZUNvbmZpZ3VyYXRpb24gPSB7XG4gICAgICAgICAgZGVwbG95bWVudFR5cGU6IEx1c3RyZURlcGxveW1lbnRUeXBlLlNDUkFUQ0hfMixcbiAgICAgICAgICBleHBvcnRQYXRoLFxuICAgICAgICAgIGltcG9ydFBhdGgsXG4gICAgICAgIH07XG5cbiAgICAgICAgbmV3IEx1c3RyZUZpbGVTeXN0ZW0oc3RhY2ssICdGc3hGaWxlU3lzdGVtJywge1xuICAgICAgICAgIGx1c3RyZUNvbmZpZ3VyYXRpb24sXG4gICAgICAgICAgc3RvcmFnZUNhcGFjaXR5R2lCOiBzdG9yYWdlQ2FwYWNpdHksXG4gICAgICAgICAgdnBjLFxuICAgICAgICAgIHZwY1N1Ym5ldCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6RlN4OjpGaWxlU3lzdGVtJywge1xuICAgICAgICAgIEx1c3RyZUNvbmZpZ3VyYXRpb246IHtcbiAgICAgICAgICAgIERlcGxveW1lbnRUeXBlOiBMdXN0cmVEZXBsb3ltZW50VHlwZS5TQ1JBVENIXzIsXG4gICAgICAgICAgICBFeHBvcnRQYXRoOiBleHBvcnRQYXRoUmVzb2x2ZWQsXG4gICAgICAgICAgICBJbXBvcnRQYXRoOiBpbXBvcnRQYXRoUmVzb2x2ZWQsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgdGVzdCgnb25seSBleHBvcnQgcGF0aCBpcyBUb2tlbicsICgpID0+IHtcbiAgICAgICAgY29uc3QgZXhwb3J0UGF0aFJlc29sdmVkID0gJ2V4cG9ydFBhdGgnO1xuICAgICAgICBjb25zdCBpbXBvcnRQYXRoID0gJ3MzOi8vaW1wb3J0LWJ1Y2tldCc7XG4gICAgICAgIGNvbnN0IGV4cG9ydFBhdGggPSBUb2tlbi5hc1N0cmluZyhUb2tlbi5hc0FueShleHBvcnRQYXRoUmVzb2x2ZWQpKTtcbiAgICAgICAgbHVzdHJlQ29uZmlndXJhdGlvbiA9IHtcbiAgICAgICAgICBkZXBsb3ltZW50VHlwZTogTHVzdHJlRGVwbG95bWVudFR5cGUuU0NSQVRDSF8yLFxuICAgICAgICAgIGV4cG9ydFBhdGgsXG4gICAgICAgICAgaW1wb3J0UGF0aCxcbiAgICAgICAgfTtcblxuICAgICAgICBleHBlY3QoKCkgPT4ge1xuICAgICAgICAgIG5ldyBMdXN0cmVGaWxlU3lzdGVtKHN0YWNrLCAnRnN4RmlsZVN5c3RlbScsIHtcbiAgICAgICAgICAgIGx1c3RyZUNvbmZpZ3VyYXRpb24sXG4gICAgICAgICAgICBzdG9yYWdlQ2FwYWNpdHlHaUI6IHN0b3JhZ2VDYXBhY2l0eSxcbiAgICAgICAgICAgIHZwYyxcbiAgICAgICAgICAgIHZwY1N1Ym5ldCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSkudG9UaHJvd0Vycm9yKCdUaGUgaW1wb3J0UGF0aCBhbmQgZXhwb3J0UGF0aCBtdXN0IGVhY2ggYmUgVG9rZW5zIG9yIG5vdCBUb2tlbnMsIHlvdSBjYW5ub3QgdXNlIGEgbWl4Jyk7XG4gICAgICB9KTtcblxuICAgICAgdGVzdCgnb25seSBpbXBvcnQgcGF0aCBpcyBUb2tlbicsICgpID0+IHtcbiAgICAgICAgY29uc3QgaW1wb3J0UGF0aFJlc29sdmVkID0gJ2ltcG9ydFBhdGgnO1xuICAgICAgICBjb25zdCBpbXBvcnRQYXRoID0gVG9rZW4uYXNTdHJpbmcoVG9rZW4uYXNBbnkoaW1wb3J0UGF0aFJlc29sdmVkKSk7XG4gICAgICAgIGNvbnN0IGV4cG9ydFBhdGggPSAnczM6Ly9pbXBvcnQtYnVja2V0L2V4cG9ydCc7XG4gICAgICAgIGx1c3RyZUNvbmZpZ3VyYXRpb24gPSB7XG4gICAgICAgICAgZGVwbG95bWVudFR5cGU6IEx1c3RyZURlcGxveW1lbnRUeXBlLlNDUkFUQ0hfMixcbiAgICAgICAgICBleHBvcnRQYXRoLFxuICAgICAgICAgIGltcG9ydFBhdGgsXG4gICAgICAgIH07XG5cbiAgICAgICAgZXhwZWN0KCgpID0+IHtcbiAgICAgICAgICBuZXcgTHVzdHJlRmlsZVN5c3RlbShzdGFjaywgJ0ZzeEZpbGVTeXN0ZW0nLCB7XG4gICAgICAgICAgICBsdXN0cmVDb25maWd1cmF0aW9uLFxuICAgICAgICAgICAgc3RvcmFnZUNhcGFjaXR5R2lCOiBzdG9yYWdlQ2FwYWNpdHksXG4gICAgICAgICAgICB2cGMsXG4gICAgICAgICAgICB2cGNTdWJuZXQsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pLnRvVGhyb3dFcnJvcignVGhlIGltcG9ydFBhdGggYW5kIGV4cG9ydFBhdGggbXVzdCBlYWNoIGJlIFRva2VucyBvciBub3QgVG9rZW5zLCB5b3UgY2Fubm90IHVzZSBhIG1peCcpO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoJ2ludmFsaWQgZXhwb3J0IHBhdGggbGVuZ3RoJywgKCkgPT4ge1xuICAgICAgICBjb25zdCBpbXBvcnRQYXRoID0gJ3MzOi8vaW1wb3J0LWJ1Y2tldCc7XG4gICAgICAgIGNvbnN0IHBhdGggPSBBcnJheSg5MDIpLmpvaW4oJ3gnKTtcbiAgICAgICAgY29uc3QgZXhwb3J0UGF0aCA9IGAke2ltcG9ydFBhdGh9LyR7cGF0aH1gO1xuXG4gICAgICAgIGx1c3RyZUNvbmZpZ3VyYXRpb24gPSB7XG4gICAgICAgICAgZGVwbG95bWVudFR5cGU6IEx1c3RyZURlcGxveW1lbnRUeXBlLlNDUkFUQ0hfMixcbiAgICAgICAgICBleHBvcnRQYXRoLFxuICAgICAgICAgIGltcG9ydFBhdGgsXG4gICAgICAgIH07XG5cbiAgICAgICAgZXhwZWN0KCgpID0+IHtcbiAgICAgICAgICBuZXcgTHVzdHJlRmlsZVN5c3RlbShzdGFjaywgJ0ZzeEZpbGVTeXN0ZW0nLCB7XG4gICAgICAgICAgICBsdXN0cmVDb25maWd1cmF0aW9uLFxuICAgICAgICAgICAgc3RvcmFnZUNhcGFjaXR5R2lCOiBzdG9yYWdlQ2FwYWNpdHksXG4gICAgICAgICAgICB2cGMsXG4gICAgICAgICAgICB2cGNTdWJuZXQsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pLnRvVGhyb3dFcnJvcihgVGhlIGV4cG9ydCBwYXRoIFwiJHtleHBvcnRQYXRofVwiIGV4Y2VlZHMgdGhlIG1heGltdW0gbGVuZ3RoIG9mIDkwMCBjaGFyYWN0ZXJzYCk7XG4gICAgICB9KTtcblxuICAgICAgdGVzdCgnZXhwb3J0IHBhdGggZG9lcyBub3Qgc3RhcnQgd2l0aCBpbXBvcnQgcGF0aCcsICgpID0+IHtcbiAgICAgICAgY29uc3QgaW1wb3J0UGF0aCA9ICdzMzovL2ltcG9ydC1idWNrZXQnO1xuICAgICAgICBjb25zdCBleHBvcnRQYXRoID0gJ3MzOi8vd3JvbmctYnVja2V0JztcblxuICAgICAgICBsdXN0cmVDb25maWd1cmF0aW9uID0ge1xuICAgICAgICAgIGRlcGxveW1lbnRUeXBlOiBMdXN0cmVEZXBsb3ltZW50VHlwZS5TQ1JBVENIXzIsXG4gICAgICAgICAgZXhwb3J0UGF0aCxcbiAgICAgICAgICBpbXBvcnRQYXRoLFxuICAgICAgICB9O1xuXG4gICAgICAgIGV4cGVjdCgoKSA9PiB7XG4gICAgICAgICAgbmV3IEx1c3RyZUZpbGVTeXN0ZW0oc3RhY2ssICdGc3hGaWxlU3lzdGVtJywge1xuICAgICAgICAgICAgbHVzdHJlQ29uZmlndXJhdGlvbixcbiAgICAgICAgICAgIHN0b3JhZ2VDYXBhY2l0eUdpQjogc3RvcmFnZUNhcGFjaXR5LFxuICAgICAgICAgICAgdnBjLFxuICAgICAgICAgICAgdnBjU3VibmV0LFxuICAgICAgICAgIH0pO1xuICAgICAgICB9KS50b1Rocm93RXJyb3IoYFRoZSBleHBvcnQgcGF0aCBcIiR7ZXhwb3J0UGF0aH1cIiBpcyBpbnZhbGlkLiBFeHBlY3RpbmcgdGhlIGZvcm1hdDogczM6Ly97SU1QT1JUX1BBVEh9L29wdGlvbmFsLXByZWZpeGApO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoJ2V4cG9ydCBwYXRoIHdpdGggbm8gaW1wb3J0IHBhdGgnLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGV4cG9ydFBhdGggPSAnczovL2ltcG9ydC1idWNrZXQvZXhwb3J0LXByZWZpeCc7XG5cbiAgICAgICAgbHVzdHJlQ29uZmlndXJhdGlvbiA9IHtcbiAgICAgICAgICBkZXBsb3ltZW50VHlwZTogTHVzdHJlRGVwbG95bWVudFR5cGUuU0NSQVRDSF8yLFxuICAgICAgICAgIGV4cG9ydFBhdGgsXG4gICAgICAgIH07XG5cbiAgICAgICAgZXhwZWN0KCgpID0+IHtcbiAgICAgICAgICBuZXcgTHVzdHJlRmlsZVN5c3RlbShzdGFjaywgJ0ZzeEZpbGVTeXN0ZW0nLCB7XG4gICAgICAgICAgICBsdXN0cmVDb25maWd1cmF0aW9uLFxuICAgICAgICAgICAgc3RvcmFnZUNhcGFjaXR5R2lCOiBzdG9yYWdlQ2FwYWNpdHksXG4gICAgICAgICAgICB2cGMsXG4gICAgICAgICAgICB2cGNTdWJuZXQsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pLnRvVGhyb3dFcnJvcignQ2Fubm90IGRlZmluZSBhbiBleHBvcnQgcGF0aCB3aXRob3V0IGFsc28gZGVmaW5pbmcgYW4gaW1wb3J0IHBhdGgnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ2F1dG9JbXBvcnRQb2xpY3knLCAoKSA9PiB7XG4gICAgICB0ZXN0KCdhdXRvSW1wb3J0UGF0aCB1bnN1cHBvcnRlZCB3aXRoIFBFUlNJU1RFTlRfMicsICgpID0+IHtcbiAgICAgICAgY29uc3QgaW1wb3J0UGF0aCA9ICdzMzovL2ltcG9ydC1idWNrZXQvaW1wb3J0LXByZWZpeCc7XG5cbiAgICAgICAgbHVzdHJlQ29uZmlndXJhdGlvbiA9IHtcbiAgICAgICAgICBkZXBsb3ltZW50VHlwZTogTHVzdHJlRGVwbG95bWVudFR5cGUuUEVSU0lTVEVOVF8yLFxuICAgICAgICAgIGF1dG9JbXBvcnRQb2xpY3k6IEx1c3RyZUF1dG9JbXBvcnRQb2xpY3kuTkVXX0NIQU5HRURfREVMRVRFRCxcbiAgICAgICAgICBpbXBvcnRQYXRoLFxuICAgICAgICB9O1xuXG4gICAgICAgIGV4cGVjdCgoKSA9PiB7XG4gICAgICAgICAgbmV3IEx1c3RyZUZpbGVTeXN0ZW0oc3RhY2ssICdGc3hGaWxlc3lzdGVtJywge1xuICAgICAgICAgICAgbHVzdHJlQ29uZmlndXJhdGlvbixcbiAgICAgICAgICAgIHN0b3JhZ2VDYXBhY2l0eUdpQjogc3RvcmFnZUNhcGFjaXR5LFxuICAgICAgICAgICAgdnBjLFxuICAgICAgICAgICAgdnBjU3VibmV0LFxuICAgICAgICAgIH0pO1xuICAgICAgICB9KS50b1Rocm93RXJyb3IoJ2F1dG9JbXBvcnRQb2xpY3kgaXMgbm90IHN1cHBvcnRlZCB3aXRoIFBFUlNJU1RFTlRfMiBkZXBsb3ltZW50cycpO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoJ2F1dG9JbXBvcnRQYXRoIHJlcXVpcmVzIGltcG9ydFBhdGgnLCAoKSA9PiB7XG5cbiAgICAgICAgbHVzdHJlQ29uZmlndXJhdGlvbiA9IHtcbiAgICAgICAgICBkZXBsb3ltZW50VHlwZTogTHVzdHJlRGVwbG95bWVudFR5cGUuUEVSU0lTVEVOVF8xLFxuICAgICAgICAgIGF1dG9JbXBvcnRQb2xpY3k6IEx1c3RyZUF1dG9JbXBvcnRQb2xpY3kuTkVXX0NIQU5HRURfREVMRVRFRCxcbiAgICAgICAgfTtcblxuICAgICAgICBleHBlY3QoKCkgPT4ge1xuICAgICAgICAgIG5ldyBMdXN0cmVGaWxlU3lzdGVtKHN0YWNrLCAnRnN4RmlsZXN5c3RlbScsIHtcbiAgICAgICAgICAgIGx1c3RyZUNvbmZpZ3VyYXRpb24sXG4gICAgICAgICAgICBzdG9yYWdlQ2FwYWNpdHlHaUI6IHN0b3JhZ2VDYXBhY2l0eSxcbiAgICAgICAgICAgIHZwYyxcbiAgICAgICAgICAgIHZwY1N1Ym5ldCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSkudG9UaHJvd0Vycm9yKCdhdXRvSW1wb3J0UG9saWN5IHJlcXVpcmVzIGltcG9ydFBhdGggdG8gYmUgZGVmaW5lZCcpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgnYXV0b0ltcG9ydFBvbGljeScsICgpID0+IHtcbiAgICAgIHRlc3QuZWFjaChbXG4gICAgICAgIEx1c3RyZUF1dG9JbXBvcnRQb2xpY3kuTk9ORSxcbiAgICAgICAgTHVzdHJlQXV0b0ltcG9ydFBvbGljeS5ORVcsXG4gICAgICAgIEx1c3RyZUF1dG9JbXBvcnRQb2xpY3kuTkVXX0NIQU5HRUQsXG4gICAgICAgIEx1c3RyZUF1dG9JbXBvcnRQb2xpY3kuTkVXX0NIQU5HRURfREVMRVRFRCxcbiAgICAgIF0pKCd2YWxpZCBhdXRvSW1wb3J0UG9saWN5JywgKGF1dG9JbXBvcnRQb2xpY3k6IEx1c3RyZUF1dG9JbXBvcnRQb2xpY3kpID0+IHtcbiAgICAgICAgY29uc3QgaW1wb3J0UGF0aCA9ICdzMzovL2ltcG9ydC1idWNrZXQvaW1wb3J0LXBhdGgnO1xuXG4gICAgICAgIGx1c3RyZUNvbmZpZ3VyYXRpb24gPSB7XG4gICAgICAgICAgZGVwbG95bWVudFR5cGU6IEx1c3RyZURlcGxveW1lbnRUeXBlLlBFUlNJU1RFTlRfMSxcbiAgICAgICAgICBpbXBvcnRQYXRoLFxuICAgICAgICAgIGF1dG9JbXBvcnRQb2xpY3ksXG4gICAgICAgIH07XG5cbiAgICAgICAgbmV3IEx1c3RyZUZpbGVTeXN0ZW0oc3RhY2ssICdGc3hGaWxlU3lzdGVtJywge1xuICAgICAgICAgIGx1c3RyZUNvbmZpZ3VyYXRpb24sXG4gICAgICAgICAgc3RvcmFnZUNhcGFjaXR5R2lCOiBzdG9yYWdlQ2FwYWNpdHksXG4gICAgICAgICAgdnBjLFxuICAgICAgICAgIHZwY1N1Ym5ldCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6RlN4OjpGaWxlU3lzdGVtJywge1xuICAgICAgICAgIEx1c3RyZUNvbmZpZ3VyYXRpb246IHtcbiAgICAgICAgICAgIEF1dG9JbXBvcnRQb2xpY3k6IGF1dG9JbXBvcnRQb2xpY3ksXG4gICAgICAgICAgICBEZXBsb3ltZW50VHlwZTogTHVzdHJlRGVwbG95bWVudFR5cGUuUEVSU0lTVEVOVF8xLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgnaW1wb3J0ZWRGaWxlQ2h1bmtTaXplJywgKCkgPT4ge1xuICAgICAgdGVzdC5lYWNoKFtcbiAgICAgICAgMSxcbiAgICAgICAgMjU2MDAwLFxuICAgICAgICA1MTIwMDAsXG4gICAgICBdKSgndmFsaWQgZmlsZSBjaHVuayBzaXplIG9mICVkJywgKHNpemU6IG51bWJlcikgPT4ge1xuICAgICAgICBsdXN0cmVDb25maWd1cmF0aW9uID0ge1xuICAgICAgICAgIGRlcGxveW1lbnRUeXBlOiBMdXN0cmVEZXBsb3ltZW50VHlwZS5TQ1JBVENIXzIsXG4gICAgICAgICAgaW1wb3J0ZWRGaWxlQ2h1bmtTaXplTWlCOiBzaXplLFxuICAgICAgICB9O1xuXG4gICAgICAgIG5ldyBMdXN0cmVGaWxlU3lzdGVtKHN0YWNrLCAnRnN4RmlsZVN5c3RlbScsIHtcbiAgICAgICAgICBsdXN0cmVDb25maWd1cmF0aW9uLFxuICAgICAgICAgIHN0b3JhZ2VDYXBhY2l0eUdpQjogc3RvcmFnZUNhcGFjaXR5LFxuICAgICAgICAgIHZwYyxcbiAgICAgICAgICB2cGNTdWJuZXQsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkZTeDo6RmlsZVN5c3RlbScsIHtcbiAgICAgICAgICBMdXN0cmVDb25maWd1cmF0aW9uOiB7XG4gICAgICAgICAgICBEZXBsb3ltZW50VHlwZTogTHVzdHJlRGVwbG95bWVudFR5cGUuU0NSQVRDSF8yLFxuICAgICAgICAgICAgSW1wb3J0ZWRGaWxlQ2h1bmtTaXplOiBzaXplLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QuZWFjaChbXG4gICAgICAgIDAsXG4gICAgICAgIDUxMjAwMSxcbiAgICAgIF0pKCdpbnZhbGlkIGZpbGUgY2h1bmsgc2l6ZSBvZiAlZCcsIChzaXplOiBudW1iZXIpID0+IHtcbiAgICAgICAgbHVzdHJlQ29uZmlndXJhdGlvbiA9IHtcbiAgICAgICAgICBkZXBsb3ltZW50VHlwZTogTHVzdHJlRGVwbG95bWVudFR5cGUuU0NSQVRDSF8yLFxuICAgICAgICAgIGltcG9ydGVkRmlsZUNodW5rU2l6ZU1pQjogc2l6ZSxcbiAgICAgICAgfTtcblxuICAgICAgICBleHBlY3QoKCkgPT4ge1xuICAgICAgICAgIG5ldyBMdXN0cmVGaWxlU3lzdGVtKHN0YWNrLCAnRnN4RmlsZVN5c3RlbScsIHtcbiAgICAgICAgICAgIGx1c3RyZUNvbmZpZ3VyYXRpb24sXG4gICAgICAgICAgICBzdG9yYWdlQ2FwYWNpdHlHaUI6IHN0b3JhZ2VDYXBhY2l0eSxcbiAgICAgICAgICAgIHZwYyxcbiAgICAgICAgICAgIHZwY1N1Ym5ldCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSkudG9UaHJvd0Vycm9yKGBpbXBvcnRlZEZpbGVDaHVua1NpemUgY2Fubm90IGJlICR7c2l6ZX0gTWlCLiBJdCBtdXN0IGJlIGEgdmFsdWUgZnJvbSAxIHRvIDUxMiwwMDAgTWlCYCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKCdpbXBvcnRQYXRoJywgKCkgPT4ge1xuICAgICAgdGVzdCgnaW1wb3J0IHBhdGggdmFsaWQnLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGltcG9ydFBhdGggPSAnczM6Ly9pbXBvcnQtYnVja2V0JztcbiAgICAgICAgbHVzdHJlQ29uZmlndXJhdGlvbiA9IHtcbiAgICAgICAgICBkZXBsb3ltZW50VHlwZTogTHVzdHJlRGVwbG95bWVudFR5cGUuU0NSQVRDSF8yLFxuICAgICAgICAgIGltcG9ydFBhdGgsXG4gICAgICAgIH07XG5cbiAgICAgICAgbmV3IEx1c3RyZUZpbGVTeXN0ZW0oc3RhY2ssICdGc3hGaWxlU3lzdGVtJywge1xuICAgICAgICAgIGx1c3RyZUNvbmZpZ3VyYXRpb24sXG4gICAgICAgICAgc3RvcmFnZUNhcGFjaXR5R2lCOiBzdG9yYWdlQ2FwYWNpdHksXG4gICAgICAgICAgdnBjLFxuICAgICAgICAgIHZwY1N1Ym5ldCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6RlN4OjpGaWxlU3lzdGVtJywge1xuICAgICAgICAgIEx1c3RyZUNvbmZpZ3VyYXRpb246IHtcbiAgICAgICAgICAgIERlcGxveW1lbnRUeXBlOiBMdXN0cmVEZXBsb3ltZW50VHlwZS5TQ1JBVENIXzIsXG4gICAgICAgICAgICBJbXBvcnRQYXRoOiBpbXBvcnRQYXRoLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoJ2ltcG9ydCBwYXRoIGlzIFRva2VuJywgKCkgPT4ge1xuICAgICAgICBjb25zdCBpbXBvcnRQYXRoUmVzb2x2ZWQgPSAnaW1wb3J0UGF0aCc7XG4gICAgICAgIGNvbnN0IGltcG9ydFBhdGggPSBUb2tlbi5hc1N0cmluZyhUb2tlbi5hc0FueShpbXBvcnRQYXRoUmVzb2x2ZWQpKTtcbiAgICAgICAgbHVzdHJlQ29uZmlndXJhdGlvbiA9IHtcbiAgICAgICAgICBkZXBsb3ltZW50VHlwZTogTHVzdHJlRGVwbG95bWVudFR5cGUuU0NSQVRDSF8yLFxuICAgICAgICAgIGltcG9ydFBhdGgsXG4gICAgICAgIH07XG4gICAgICAgIG5ldyBMdXN0cmVGaWxlU3lzdGVtKHN0YWNrLCAnRnN4RmlsZVN5c3RlbScsIHtcbiAgICAgICAgICBsdXN0cmVDb25maWd1cmF0aW9uLFxuICAgICAgICAgIHN0b3JhZ2VDYXBhY2l0eUdpQjogc3RvcmFnZUNhcGFjaXR5LFxuICAgICAgICAgIHZwYyxcbiAgICAgICAgICB2cGNTdWJuZXQsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkZTeDo6RmlsZVN5c3RlbScsIHtcbiAgICAgICAgICBMdXN0cmVDb25maWd1cmF0aW9uOiB7XG4gICAgICAgICAgICBEZXBsb3ltZW50VHlwZTogTHVzdHJlRGVwbG95bWVudFR5cGUuU0NSQVRDSF8yLFxuICAgICAgICAgICAgSW1wb3J0UGF0aDogaW1wb3J0UGF0aFJlc29sdmVkLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoJ2ludmFsaWQgaW1wb3J0IHBhdGggZm9ybWF0JywgKCkgPT4ge1xuICAgICAgICBjb25zdCBpbXBvcnRQYXRoID0gJ2ltcG9ydC1idWNrZXQnO1xuXG4gICAgICAgIGx1c3RyZUNvbmZpZ3VyYXRpb24gPSB7XG4gICAgICAgICAgZGVwbG95bWVudFR5cGU6IEx1c3RyZURlcGxveW1lbnRUeXBlLlNDUkFUQ0hfMixcbiAgICAgICAgICBpbXBvcnRQYXRoLFxuICAgICAgICB9O1xuXG4gICAgICAgIGV4cGVjdCgoKSA9PiB7XG4gICAgICAgICAgbmV3IEx1c3RyZUZpbGVTeXN0ZW0oc3RhY2ssICdGc3hGaWxlU3lzdGVtJywge1xuICAgICAgICAgICAgbHVzdHJlQ29uZmlndXJhdGlvbixcbiAgICAgICAgICAgIHN0b3JhZ2VDYXBhY2l0eUdpQjogc3RvcmFnZUNhcGFjaXR5LFxuICAgICAgICAgICAgdnBjLFxuICAgICAgICAgICAgdnBjU3VibmV0LFxuICAgICAgICAgIH0pO1xuICAgICAgICB9KS50b1Rocm93RXJyb3IoYFRoZSBpbXBvcnQgcGF0aCBcIiR7aW1wb3J0UGF0aH1cIiBpcyBpbnZhbGlkLiBFeHBlY3RpbmcgdGhlIGZvcm1hdDogczM6Ly97QlVDS0VUX05BTUV9L29wdGlvbmFsLXByZWZpeGApO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoJ2ludmFsaWQgaW1wb3J0IHBhdGggbGVuZ3RoJywgKCkgPT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gQXJyYXkoOTAyKS5qb2luKCd4Jyk7XG4gICAgICAgIGNvbnN0IGltcG9ydFBhdGggPSBgczM6Ly8ke3BhdGh9YDtcblxuICAgICAgICBsdXN0cmVDb25maWd1cmF0aW9uID0ge1xuICAgICAgICAgIGRlcGxveW1lbnRUeXBlOiBMdXN0cmVEZXBsb3ltZW50VHlwZS5TQ1JBVENIXzIsXG4gICAgICAgICAgaW1wb3J0UGF0aCxcbiAgICAgICAgfTtcblxuICAgICAgICBleHBlY3QoKCkgPT4ge1xuICAgICAgICAgIG5ldyBMdXN0cmVGaWxlU3lzdGVtKHN0YWNrLCAnRnN4RmlsZVN5c3RlbScsIHtcbiAgICAgICAgICAgIGx1c3RyZUNvbmZpZ3VyYXRpb24sXG4gICAgICAgICAgICBzdG9yYWdlQ2FwYWNpdHlHaUI6IHN0b3JhZ2VDYXBhY2l0eSxcbiAgICAgICAgICAgIHZwYyxcbiAgICAgICAgICAgIHZwY1N1Ym5ldCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSkudG9UaHJvd0Vycm9yKGBUaGUgaW1wb3J0IHBhdGggXCIke2ltcG9ydFBhdGh9XCIgZXhjZWVkcyB0aGUgbWF4aW11bSBsZW5ndGggb2YgOTAwIGNoYXJhY3RlcnNgKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ0RhdGFDb21wcmVzc2lvblR5cGUnLCAoKSA9PiB7XG4gICAgICB0ZXN0KCdkYXRhQ29tcHJlc3Npb25UeXBlIGVuYWJsZWQnLCAoKSA9PiB7XG4gICAgICAgIGx1c3RyZUNvbmZpZ3VyYXRpb24gPSB7XG4gICAgICAgICAgZGVwbG95bWVudFR5cGU6IEx1c3RyZURlcGxveW1lbnRUeXBlLlNDUkFUQ0hfMixcbiAgICAgICAgICBkYXRhQ29tcHJlc3Npb25UeXBlOiBMdXN0cmVEYXRhQ29tcHJlc3Npb25UeXBlLkxaNCxcbiAgICAgICAgfTtcblxuICAgICAgICBuZXcgTHVzdHJlRmlsZVN5c3RlbShzdGFjaywgJ0ZzeEZpbGVTeXN0ZW0nLCB7XG4gICAgICAgICAgbHVzdHJlQ29uZmlndXJhdGlvbixcbiAgICAgICAgICBzdG9yYWdlQ2FwYWNpdHlHaUI6IHN0b3JhZ2VDYXBhY2l0eSxcbiAgICAgICAgICB2cGMsXG4gICAgICAgICAgdnBjU3VibmV0LFxuICAgICAgICB9KTtcblxuICAgICAgICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpGU3g6OkZpbGVTeXN0ZW0nLCB7XG4gICAgICAgICAgTHVzdHJlQ29uZmlndXJhdGlvbjoge1xuICAgICAgICAgICAgRGVwbG95bWVudFR5cGU6IEx1c3RyZURlcGxveW1lbnRUeXBlLlNDUkFUQ0hfMixcbiAgICAgICAgICAgIERhdGFDb21wcmVzc2lvblR5cGU6IEx1c3RyZURhdGFDb21wcmVzc2lvblR5cGUuTFo0LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgncGVyVW5pdFN0b3JhZ2VUaHJvdWdocHV0JywgKCkgPT4ge1xuICAgICAgdGVzdC5lYWNoKFtcbiAgICAgICAgNTAsXG4gICAgICAgIDEwMCxcbiAgICAgICAgMjAwLFxuICAgICAgXSkoJ3ZhbGlkIHBlclVuaXRTdG9yYWdlVGhyb3VnaHB1dCBvZiAlZCcsICh0aHJvdWdocHV0OiBudW1iZXIpID0+IHtcbiAgICAgICAgbHVzdHJlQ29uZmlndXJhdGlvbiA9IHtcbiAgICAgICAgICBkZXBsb3ltZW50VHlwZTogTHVzdHJlRGVwbG95bWVudFR5cGUuUEVSU0lTVEVOVF8xLFxuICAgICAgICAgIHBlclVuaXRTdG9yYWdlVGhyb3VnaHB1dDogdGhyb3VnaHB1dCxcbiAgICAgICAgfTtcblxuICAgICAgICBuZXcgTHVzdHJlRmlsZVN5c3RlbShzdGFjaywgJ0ZzeEZpbGVTeXN0ZW0nLCB7XG4gICAgICAgICAgbHVzdHJlQ29uZmlndXJhdGlvbixcbiAgICAgICAgICBzdG9yYWdlQ2FwYWNpdHlHaUI6IHN0b3JhZ2VDYXBhY2l0eSxcbiAgICAgICAgICB2cGMsXG4gICAgICAgICAgdnBjU3VibmV0LFxuICAgICAgICB9KTtcblxuICAgICAgICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpGU3g6OkZpbGVTeXN0ZW0nLCB7XG4gICAgICAgICAgTHVzdHJlQ29uZmlndXJhdGlvbjoge1xuICAgICAgICAgICAgRGVwbG95bWVudFR5cGU6IEx1c3RyZURlcGxveW1lbnRUeXBlLlBFUlNJU1RFTlRfMSxcbiAgICAgICAgICAgIFBlclVuaXRTdG9yYWdlVGhyb3VnaHB1dDogdGhyb3VnaHB1dCxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0LmVhY2goW1xuICAgICAgICAxLFxuICAgICAgICAxMjUsXG4gICAgICAgIDI1MCxcbiAgICAgICAgNTAwLFxuICAgICAgICAxMDAwLFxuICAgICAgXSkoJ2ludmFsaWQgcGVyVW5pdFN0b3JhZ2VUaHJvdWdocHV0JywgKGludmFsaWRWYWx1ZTogbnVtYmVyKSA9PiB7XG4gICAgICAgIGx1c3RyZUNvbmZpZ3VyYXRpb24gPSB7XG4gICAgICAgICAgZGVwbG95bWVudFR5cGU6IEx1c3RyZURlcGxveW1lbnRUeXBlLlBFUlNJU1RFTlRfMSxcbiAgICAgICAgICBwZXJVbml0U3RvcmFnZVRocm91Z2hwdXQ6IGludmFsaWRWYWx1ZSxcbiAgICAgICAgfTtcblxuICAgICAgICBleHBlY3QoKCkgPT4ge1xuICAgICAgICAgIG5ldyBMdXN0cmVGaWxlU3lzdGVtKHN0YWNrLCAnRnN4RmlsZVN5c3RlbScsIHtcbiAgICAgICAgICAgIGx1c3RyZUNvbmZpZ3VyYXRpb24sXG4gICAgICAgICAgICBzdG9yYWdlQ2FwYWNpdHlHaUI6IHN0b3JhZ2VDYXBhY2l0eSxcbiAgICAgICAgICAgIHZwYyxcbiAgICAgICAgICAgIHZwY1N1Ym5ldCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSkudG9UaHJvd0Vycm9yKCdwZXJVbml0U3RvcmFnZVRocm91Z2hwdXQgbXVzdCBiZSA1MCwgMTAwLCBvciAyMDAgTUIvcy9UaUIgZm9yIFBFUlNJU1RFTlRfMSBkZXBsb3ltZW50IHR5cGUsIGdvdDogJyArIGludmFsaWRWYWx1ZSk7XG4gICAgICB9KTtcblxuICAgICAgdGVzdCgnc2V0dGluZyBwZXJVbml0U3RvcmFnZVRocm91Z2hwdXQgb24gd3JvbmcgZGVwbG95bWVudFR5cGUnLCAoKSA9PiB7XG4gICAgICAgIGx1c3RyZUNvbmZpZ3VyYXRpb24gPSB7XG4gICAgICAgICAgZGVwbG95bWVudFR5cGU6IEx1c3RyZURlcGxveW1lbnRUeXBlLlNDUkFUQ0hfMixcbiAgICAgICAgICBwZXJVbml0U3RvcmFnZVRocm91Z2hwdXQ6IDUwLFxuICAgICAgICB9O1xuXG4gICAgICAgIGV4cGVjdCgoKSA9PiB7XG4gICAgICAgICAgbmV3IEx1c3RyZUZpbGVTeXN0ZW0oc3RhY2ssICdGc3hGaWxlU3lzdGVtJywge1xuICAgICAgICAgICAgbHVzdHJlQ29uZmlndXJhdGlvbixcbiAgICAgICAgICAgIHN0b3JhZ2VDYXBhY2l0eUdpQjogc3RvcmFnZUNhcGFjaXR5LFxuICAgICAgICAgICAgdnBjLFxuICAgICAgICAgICAgdnBjU3VibmV0LFxuICAgICAgICAgIH0pO1xuICAgICAgICB9KS50b1Rocm93RXJyb3IoJ3BlclVuaXRTdG9yYWdlVGhyb3VnaHB1dCBjYW4gb25seSBiZSBzZXQgZm9yIHRoZSBQRVJTSVNURU5UXzEvUEVSU0lTVEVOVF8yIGRlcGxveW1lbnQgdHlwZXMnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ3BlclVuaXRTdG9yYWdlVGhyb3VnaHB1dF9QZXJzaXN0ZW50XzInLCAoKSA9PiB7XG4gICAgICB0ZXN0LmVhY2goW1xuICAgICAgICAxMjUsXG4gICAgICAgIDI1MCxcbiAgICAgICAgNTAwLFxuICAgICAgICAxMDAwLFxuICAgICAgXSkoJ3ZhbGlkIHBlclVuaXRTdG9yYWdlVGhyb3VnaHB1dCBvZiAlZCcsICh0aHJvdWdocHV0OiBudW1iZXIpID0+IHtcbiAgICAgICAgbHVzdHJlQ29uZmlndXJhdGlvbiA9IHtcbiAgICAgICAgICBkZXBsb3ltZW50VHlwZTogTHVzdHJlRGVwbG95bWVudFR5cGUuUEVSU0lTVEVOVF8yLFxuICAgICAgICAgIHBlclVuaXRTdG9yYWdlVGhyb3VnaHB1dDogdGhyb3VnaHB1dCxcbiAgICAgICAgfTtcblxuICAgICAgICBuZXcgTHVzdHJlRmlsZVN5c3RlbShzdGFjaywgJ0ZzeEZpbGVTeXN0ZW0nLCB7XG4gICAgICAgICAgbHVzdHJlQ29uZmlndXJhdGlvbixcbiAgICAgICAgICBzdG9yYWdlQ2FwYWNpdHlHaUI6IHN0b3JhZ2VDYXBhY2l0eSxcbiAgICAgICAgICB2cGMsXG4gICAgICAgICAgdnBjU3VibmV0LFxuICAgICAgICB9KTtcblxuICAgICAgICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpGU3g6OkZpbGVTeXN0ZW0nLCB7XG4gICAgICAgICAgTHVzdHJlQ29uZmlndXJhdGlvbjoge1xuICAgICAgICAgICAgRGVwbG95bWVudFR5cGU6IEx1c3RyZURlcGxveW1lbnRUeXBlLlBFUlNJU1RFTlRfMixcbiAgICAgICAgICAgIFBlclVuaXRTdG9yYWdlVGhyb3VnaHB1dDogdGhyb3VnaHB1dCxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0LmVhY2goW1xuICAgICAgICAxLFxuICAgICAgICA1MCxcbiAgICAgICAgMTAwLFxuICAgICAgICAyMDAsXG4gICAgICAgIDU1MCxcbiAgICAgIF0pKCdpbnZhbGlkIHBlclVuaXRTdG9yYWdlVGhyb3VnaHB1dCcsIChpbnZhbGlkVmFsdWU6IG51bWJlcikgPT4ge1xuICAgICAgICBsdXN0cmVDb25maWd1cmF0aW9uID0ge1xuICAgICAgICAgIGRlcGxveW1lbnRUeXBlOiBMdXN0cmVEZXBsb3ltZW50VHlwZS5QRVJTSVNURU5UXzIsXG4gICAgICAgICAgcGVyVW5pdFN0b3JhZ2VUaHJvdWdocHV0OiBpbnZhbGlkVmFsdWUsXG4gICAgICAgIH07XG5cbiAgICAgICAgZXhwZWN0KCgpID0+IHtcbiAgICAgICAgICBuZXcgTHVzdHJlRmlsZVN5c3RlbShzdGFjaywgJ0ZzeEZpbGVTeXN0ZW0nLCB7XG4gICAgICAgICAgICBsdXN0cmVDb25maWd1cmF0aW9uLFxuICAgICAgICAgICAgc3RvcmFnZUNhcGFjaXR5R2lCOiBzdG9yYWdlQ2FwYWNpdHksXG4gICAgICAgICAgICB2cGMsXG4gICAgICAgICAgICB2cGNTdWJuZXQsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pLnRvVGhyb3dFcnJvcigncGVyVW5pdFN0b3JhZ2VUaHJvdWdocHV0IG11c3QgYmUgMTI1LCAyNTAsIDUwMCBvciAxMDAwIE1CL3MvVGlCIGZvciBQRVJTSVNURU5UXzIgZGVwbG95bWVudCB0eXBlLCBnb3Q6ICcgKyBpbnZhbGlkVmFsdWUpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgnc3RvcmFnZUNhcGFjaXR5JywgKCkgPT4ge1xuICAgICAgdGVzdC5lYWNoKFtcbiAgICAgICAgWzEyMDAsIEx1c3RyZURlcGxveW1lbnRUeXBlLlNDUkFUQ0hfMl0sXG4gICAgICAgIFsyNDAwLCBMdXN0cmVEZXBsb3ltZW50VHlwZS5TQ1JBVENIXzJdLFxuICAgICAgICBbNDgwMCwgTHVzdHJlRGVwbG95bWVudFR5cGUuU0NSQVRDSF8yXSxcbiAgICAgICAgWzEyMDAsIEx1c3RyZURlcGxveW1lbnRUeXBlLlBFUlNJU1RFTlRfMV0sXG4gICAgICAgIFsyNDAwLCBMdXN0cmVEZXBsb3ltZW50VHlwZS5QRVJTSVNURU5UXzFdLFxuICAgICAgICBbNDgwMCwgTHVzdHJlRGVwbG95bWVudFR5cGUuUEVSU0lTVEVOVF8xXSxcbiAgICAgICAgWzEyMDAsIEx1c3RyZURlcGxveW1lbnRUeXBlLlBFUlNJU1RFTlRfMl0sXG4gICAgICAgIFsyNDAwLCBMdXN0cmVEZXBsb3ltZW50VHlwZS5QRVJTSVNURU5UXzJdLFxuICAgICAgICBbNDgwMCwgTHVzdHJlRGVwbG95bWVudFR5cGUuUEVSU0lTVEVOVF8yXSxcbiAgICAgIF0pKCdwcm9wZXIgbXVsdGlwbGUgZm9yIHN0b3JhZ2UgY2FwYWNpdHkgb2YgJWQgb24gJXMnLCAodmFsdWU6IG51bWJlciwgZGVwbG95bWVudFR5cGU6IEx1c3RyZURlcGxveW1lbnRUeXBlKSA9PiB7XG4gICAgICAgIGx1c3RyZUNvbmZpZ3VyYXRpb24gPSB7XG4gICAgICAgICAgZGVwbG95bWVudFR5cGUsXG4gICAgICAgIH07XG5cbiAgICAgICAgbmV3IEx1c3RyZUZpbGVTeXN0ZW0oc3RhY2ssICdGc3hGaWxlU3lzdGVtJywge1xuICAgICAgICAgIGx1c3RyZUNvbmZpZ3VyYXRpb24sXG4gICAgICAgICAgc3RvcmFnZUNhcGFjaXR5R2lCOiB2YWx1ZSxcbiAgICAgICAgICB2cGMsXG4gICAgICAgICAgdnBjU3VibmV0LFxuICAgICAgICB9KTtcblxuICAgICAgICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpGU3g6OkZpbGVTeXN0ZW0nLCB7XG4gICAgICAgICAgTHVzdHJlQ29uZmlndXJhdGlvbjoge1xuICAgICAgICAgICAgRGVwbG95bWVudFR5cGU6IGRlcGxveW1lbnRUeXBlLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgU3RvcmFnZUNhcGFjaXR5OiB2YWx1ZSxcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgdGVzdC5lYWNoKFtcbiAgICAgICAgWzEsIEx1c3RyZURlcGxveW1lbnRUeXBlLlNDUkFUQ0hfMl0sXG4gICAgICAgIFsyNDAxLCBMdXN0cmVEZXBsb3ltZW50VHlwZS5TQ1JBVENIXzJdLFxuICAgICAgICBbMSwgTHVzdHJlRGVwbG95bWVudFR5cGUuUEVSU0lTVEVOVF8xXSxcbiAgICAgICAgWzI0MDEsIEx1c3RyZURlcGxveW1lbnRUeXBlLlBFUlNJU1RFTlRfMV0sXG4gICAgICAgIFsxLCBMdXN0cmVEZXBsb3ltZW50VHlwZS5QRVJTSVNURU5UXzJdLFxuICAgICAgICBbMjQwMSwgTHVzdHJlRGVwbG95bWVudFR5cGUuUEVSU0lTVEVOVF8yXSxcbiAgICAgIF0pKCdpbnZhbGlkIHZhbHVlIG9mICVkIGZvciBzdG9yYWdlIGNhcGFjaXR5IG9uICVzJywgKGludmFsaWRWYWx1ZTogbnVtYmVyLCBkZXBsb3ltZW50VHlwZTogTHVzdHJlRGVwbG95bWVudFR5cGUpID0+IHtcbiAgICAgICAgbHVzdHJlQ29uZmlndXJhdGlvbiA9IHtcbiAgICAgICAgICBkZXBsb3ltZW50VHlwZSxcbiAgICAgICAgfTtcblxuICAgICAgICBleHBlY3QoKCkgPT4ge1xuICAgICAgICAgIG5ldyBMdXN0cmVGaWxlU3lzdGVtKHN0YWNrLCAnRnN4RmlsZVN5c3RlbScsIHtcbiAgICAgICAgICAgIGx1c3RyZUNvbmZpZ3VyYXRpb24sXG4gICAgICAgICAgICBzdG9yYWdlQ2FwYWNpdHlHaUI6IGludmFsaWRWYWx1ZSxcbiAgICAgICAgICAgIHZwYyxcbiAgICAgICAgICAgIHZwY1N1Ym5ldCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSkudG9UaHJvd0Vycm9yKC9zdG9yYWdlQ2FwYWNpdHkgbXVzdCBiZSAxLDIwMCwgMiw0MDAsIG9yIGEgbXVsdGlwbGUgb2YgMiw0MDAvKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0LmVhY2goWzEyMDAsIDI0MDAsIDM2MDAsIDcyMDBdKSgncHJvcGVyIG11bHRpcGxlIGZvciBzdG9yYWdlIGNhcGFjaXR5IHVzaW5nICVkIHdpdGggU0NSQVRDSF8xJywgKHZhbGlkVmFsdWU6IG51bWJlcikgPT4ge1xuICAgICAgICBsdXN0cmVDb25maWd1cmF0aW9uID0ge1xuICAgICAgICAgIGRlcGxveW1lbnRUeXBlOiBMdXN0cmVEZXBsb3ltZW50VHlwZS5TQ1JBVENIXzEsXG4gICAgICAgIH07XG5cbiAgICAgICAgbmV3IEx1c3RyZUZpbGVTeXN0ZW0oc3RhY2ssICdGc3hGaWxlU3lzdGVtJywge1xuICAgICAgICAgIGx1c3RyZUNvbmZpZ3VyYXRpb24sXG4gICAgICAgICAgc3RvcmFnZUNhcGFjaXR5R2lCOiB2YWxpZFZhbHVlLFxuICAgICAgICAgIHZwYyxcbiAgICAgICAgICB2cGNTdWJuZXQsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkZTeDo6RmlsZVN5c3RlbScsIHtcbiAgICAgICAgICBMdXN0cmVDb25maWd1cmF0aW9uOiB7XG4gICAgICAgICAgICBEZXBsb3ltZW50VHlwZTogTHVzdHJlRGVwbG95bWVudFR5cGUuU0NSQVRDSF8xLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgU3RvcmFnZUNhcGFjaXR5OiB2YWxpZFZhbHVlLFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0LmVhY2goWzEsIDM2MDFdKSgnaW52YWxpZCB2YWx1ZSBvZiAlZCBmb3Igc3RvcmFnZSBjYXBhY2l0eSB3aXRoIFNDUkFUQ0hfMScsIChpbnZhbGlkVmFsdWU6IG51bWJlcikgPT4ge1xuICAgICAgICBsdXN0cmVDb25maWd1cmF0aW9uID0ge1xuICAgICAgICAgIGRlcGxveW1lbnRUeXBlOiBMdXN0cmVEZXBsb3ltZW50VHlwZS5TQ1JBVENIXzEsXG4gICAgICAgIH07XG5cbiAgICAgICAgZXhwZWN0KCgpID0+IHtcbiAgICAgICAgICBuZXcgTHVzdHJlRmlsZVN5c3RlbShzdGFjaywgJ0ZzeEZpbGVTeXN0ZW0nLCB7XG4gICAgICAgICAgICBsdXN0cmVDb25maWd1cmF0aW9uLFxuICAgICAgICAgICAgc3RvcmFnZUNhcGFjaXR5R2lCOiBpbnZhbGlkVmFsdWUsXG4gICAgICAgICAgICB2cGMsXG4gICAgICAgICAgICB2cGNTdWJuZXQsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pLnRvVGhyb3dFcnJvcigvc3RvcmFnZUNhcGFjaXR5IG11c3QgYmUgMSwyMDAsIDIsNDAwLCAzLDYwMCwgb3IgYSBtdWx0aXBsZSBvZiAzLDYwMC8pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIHRlc3QoJ2V4aXN0aW5nIGZpbGUgc3lzdGVtIGlzIGltcG9ydGVkIGNvcnJlY3RseScsICgpID0+IHtcbiAgICBjb25zdCBmaWxlU3lzdGVtSWQgPSAnZnMxMjMnO1xuICAgIGNvbnN0IGZzID0gTHVzdHJlRmlsZVN5c3RlbS5mcm9tTHVzdHJlRmlsZVN5c3RlbUF0dHJpYnV0ZXMoc3RhY2ssICdleGlzdGluZ0ZTJywge1xuICAgICAgZG5zTmFtZTogYCR7ZmlsZVN5c3RlbUlkfS5mc3guJHtzdGFjay5yZWdpb259LiR7QXdzLlVSTF9TVUZGSVh9YCxcbiAgICAgIGZpbGVTeXN0ZW1JZCxcbiAgICAgIHNlY3VyaXR5R3JvdXA6IFNlY3VyaXR5R3JvdXAuZnJvbVNlY3VyaXR5R3JvdXBJZChzdGFjaywgJ1NHJywgJ3NnLTEyMzQ1Njc4OScsIHtcbiAgICAgICAgYWxsb3dBbGxPdXRib3VuZDogZmFsc2UsXG4gICAgICB9KSxcbiAgICB9KTtcblxuICAgIGZzLmNvbm5lY3Rpb25zLmFsbG93VG9BbnlJcHY0KFBvcnQudGNwKDQ0MykpO1xuXG4gICAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6RUMyOjpTZWN1cml0eUdyb3VwRWdyZXNzJywge1xuICAgICAgR3JvdXBJZDogJ3NnLTEyMzQ1Njc4OScsXG4gICAgfSk7XG4gIH0pO1xufSk7Il19