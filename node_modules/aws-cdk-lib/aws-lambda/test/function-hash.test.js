"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const path = require("path");
const assertions_1 = require("../../assertions");
const ssm = require("../../aws-ssm");
const cfnspec_1 = require("@aws-cdk/cfnspec");
const core_1 = require("../../core");
const cxapi = require("../../cx-api");
const lambda = require("../lib");
const function_hash_1 = require("../lib/function-hash");
describe('function hash', () => {
    describe('trimFromStart', () => {
        test('trim not needed', () => {
            expect((0, function_hash_1.trimFromStart)('foo', 100)).toEqual('foo');
            expect((0, function_hash_1.trimFromStart)('foo', 3)).toEqual('foo');
            expect((0, function_hash_1.trimFromStart)('', 3)).toEqual('');
        });
        test('trim required', () => {
            expect((0, function_hash_1.trimFromStart)('hello', 3)).toEqual('llo');
            expect((0, function_hash_1.trimFromStart)('hello', 4)).toEqual('ello');
            expect((0, function_hash_1.trimFromStart)('hello', 1)).toEqual('o');
        });
    });
    describe('calcHash', () => {
        test('same configuration and code yields the same hash', () => {
            const app = new core_1.App({
                context: {
                    [cxapi.NEW_STYLE_STACK_SYNTHESIS_CONTEXT]: false,
                },
            });
            const stack1 = new core_1.Stack(app, 'Stack1');
            const fn1 = new lambda.Function(stack1, 'MyFunction1', {
                runtime: lambda.Runtime.NODEJS_14_X,
                code: lambda.Code.fromAsset(path.join(__dirname, 'handler.zip')),
                handler: 'index.handler',
            });
            const stack2 = new core_1.Stack(app, 'Stack2');
            const fn2 = new lambda.Function(stack2, 'MyFunction1', {
                runtime: lambda.Runtime.NODEJS_14_X,
                code: lambda.Code.fromAsset(path.join(__dirname, 'handler.zip')),
                handler: 'index.handler',
            });
            expect((0, function_hash_1.calculateFunctionHash)(fn1)).toEqual((0, function_hash_1.calculateFunctionHash)(fn2));
            expect((0, function_hash_1.calculateFunctionHash)(fn1)).toEqual('74ee309e3752199288e6d64d385b52c4');
        });
    });
    test('code impacts hash', () => {
        const app = new core_1.App({
            context: {
                [cxapi.NEW_STYLE_STACK_SYNTHESIS_CONTEXT]: false,
            },
        });
        const stack1 = new core_1.Stack(app);
        const fn1 = new lambda.Function(stack1, 'MyFunction1', {
            runtime: lambda.Runtime.NODEJS_14_X,
            code: lambda.Code.fromAsset(path.join(__dirname, 'my-lambda-handler')),
            handler: 'index.handler',
        });
        expect((0, function_hash_1.calculateFunctionHash)(fn1)).not.toEqual('74ee309e3752199288e6d64d385b52c4');
        expect((0, function_hash_1.calculateFunctionHash)(fn1)).toEqual('7d4cd781bf430bcc2495ccefff4c34dd');
    });
    test('environment variables impact hash', () => {
        const app = new core_1.App({
            context: {
                [cxapi.NEW_STYLE_STACK_SYNTHESIS_CONTEXT]: false,
            },
        });
        const stack1 = new core_1.Stack(app, 'Stack1');
        const fn1 = new lambda.Function(stack1, 'MyFunction', {
            runtime: lambda.Runtime.NODEJS_14_X,
            code: lambda.Code.fromAsset(path.join(__dirname, 'my-lambda-handler')),
            handler: 'index.handler',
            environment: {
                Foo: 'bar',
            },
        });
        const stack2 = new core_1.Stack(app);
        const fn2 = new lambda.Function(stack2, 'MyFunction', {
            runtime: lambda.Runtime.NODEJS_14_X,
            code: lambda.Code.fromAsset(path.join(__dirname, 'my-lambda-handler')),
            handler: 'index.handler',
            environment: {
                Foo: 'beer',
            },
        });
        expect((0, function_hash_1.calculateFunctionHash)(fn1)).toEqual('4f21733bb4695a0e2e45a9090cd46a49');
        expect((0, function_hash_1.calculateFunctionHash)(fn2)).toEqual('0517a96b1ee246651cb9568686babdf2');
    });
    test('runtime impacts hash', () => {
        const app = new core_1.App({
            context: {
                [cxapi.NEW_STYLE_STACK_SYNTHESIS_CONTEXT]: false,
            },
        });
        const stack1 = new core_1.Stack(app, 'Stack1');
        const fn1 = new lambda.Function(stack1, 'MyFunction', {
            runtime: lambda.Runtime.NODEJS_14_X,
            code: lambda.Code.fromAsset(path.join(__dirname, 'my-lambda-handler')),
            handler: 'index.handler',
            environment: {
                Foo: 'bar',
            },
        });
        const stack2 = new core_1.Stack(app);
        const fn2 = new lambda.Function(stack2, 'MyFunction', {
            runtime: lambda.Runtime.NODEJS_14_X,
            code: lambda.Code.fromAsset(path.join(__dirname, 'my-lambda-handler')),
            handler: 'index.handler',
            environment: {
                Foo: 'beer',
            },
        });
        expect((0, function_hash_1.calculateFunctionHash)(fn1)).toEqual('4f21733bb4695a0e2e45a9090cd46a49');
        expect((0, function_hash_1.calculateFunctionHash)(fn2)).toEqual('0517a96b1ee246651cb9568686babdf2');
    });
    test('inline code change impacts the hash', () => {
        const stack1 = new core_1.Stack();
        const fn1 = new lambda.Function(stack1, 'MyFunction', {
            runtime: lambda.Runtime.NODEJS_14_X,
            code: lambda.Code.fromInline('foo'),
            handler: 'index.handler',
        });
        const stack2 = new core_1.Stack();
        const fn2 = new lambda.Function(stack2, 'MyFunction', {
            runtime: lambda.Runtime.NODEJS_14_X,
            code: lambda.Code.fromInline('foo bar'),
            handler: 'index.handler',
        });
        expect((0, function_hash_1.calculateFunctionHash)(fn1)).toEqual('2e4e06d52af2bb609d8c23243d665966');
        expect((0, function_hash_1.calculateFunctionHash)(fn2)).toEqual('aca1fae7e25d53a19c5ee159dcb56b94');
    });
    describe('lambda layers', () => {
        let stack1;
        let layer1;
        let layer2;
        beforeAll(() => {
            stack1 = new core_1.Stack();
            layer1 = new lambda.LayerVersion(stack1, 'MyLayer', {
                code: lambda.Code.fromAsset(path.join(__dirname, 'layer-code')),
                compatibleRuntimes: [lambda.Runtime.NODEJS_14_X],
                license: 'Apache-2.0',
                description: 'A layer to test the L2 construct',
            });
            layer2 = new lambda.LayerVersion(stack1, 'MyLayer2', {
                code: lambda.Code.fromAsset(path.join(__dirname, 'layer-code')),
                compatibleRuntimes: [lambda.Runtime.NODEJS_14_X],
                license: 'Apache-2.0',
                description: 'A layer to test the L2 construct',
            });
        });
        test('same configuration yields the same hash', () => {
            const stack2 = new core_1.Stack();
            const fn1 = new lambda.Function(stack2, 'MyFunction', {
                runtime: lambda.Runtime.NODEJS_14_X,
                code: lambda.Code.fromInline('foo'),
                handler: 'index.handler',
                layers: [layer1],
            });
            const stack3 = new core_1.Stack();
            const fn2 = new lambda.Function(stack3, 'MyFunction', {
                runtime: lambda.Runtime.NODEJS_14_X,
                code: lambda.Code.fromInline('foo'),
                handler: 'index.handler',
                layers: [layer1],
            });
            expect((0, function_hash_1.calculateFunctionHash)(fn1)).toEqual((0, function_hash_1.calculateFunctionHash)(fn2));
            expect((0, function_hash_1.calculateFunctionHash)(fn1)).toEqual('81483a72d55290ca24ce30ba6ee4a412');
        });
        test('different layers impacts hash', () => {
            const stack2 = new core_1.Stack();
            const fn1 = new lambda.Function(stack2, 'MyFunction', {
                runtime: lambda.Runtime.NODEJS_14_X,
                code: lambda.Code.fromInline('foo'),
                handler: 'index.handler',
                layers: [layer1],
            });
            const stack3 = new core_1.Stack();
            const fn2 = new lambda.Function(stack3, 'MyFunction', {
                runtime: lambda.Runtime.NODEJS_14_X,
                code: lambda.Code.fromInline('foo'),
                handler: 'index.handler',
                layers: [layer2],
            });
            expect((0, function_hash_1.calculateFunctionHash)(fn1)).toEqual('81483a72d55290ca24ce30ba6ee4a412');
            expect((0, function_hash_1.calculateFunctionHash)(fn2)).toEqual('13baa4a05a4e78d538c4870e28576b3a');
        });
        describe('impact of lambda layer order on hash', () => {
            test('without feature flag, preserve old behavior to avoid unnecessary invalidation of templates', () => {
                const stack2 = new core_1.Stack();
                const fn1 = new lambda.Function(stack2, 'MyFunction', {
                    runtime: lambda.Runtime.NODEJS_14_X,
                    code: lambda.Code.fromInline('foo'),
                    handler: 'index.handler',
                    layers: [layer1, layer2],
                });
                const stack3 = new core_1.Stack();
                const fn2 = new lambda.Function(stack3, 'MyFunction', {
                    runtime: lambda.Runtime.NODEJS_14_X,
                    code: lambda.Code.fromInline('foo'),
                    handler: 'index.handler',
                    layers: [layer2, layer1],
                });
                expect((0, function_hash_1.calculateFunctionHash)(fn1)).toEqual('fcdd8253b1018b5fa0114670552c43ab');
                expect((0, function_hash_1.calculateFunctionHash)(fn2)).toEqual('6ee79d94895b045cfc9e7e37653c07e9');
            });
            test('with feature flag, we sort layers so order is consistent', () => {
                const app = new core_1.App({ context: { [cxapi.LAMBDA_RECOGNIZE_LAYER_VERSION]: true } });
                const stack2 = new core_1.Stack(app, 'stack2');
                const fn1 = new lambda.Function(stack2, 'MyFunction', {
                    runtime: lambda.Runtime.NODEJS_14_X,
                    code: lambda.Code.fromInline('foo'),
                    handler: 'index.handler',
                    layers: [layer1, layer2],
                });
                const stack3 = new core_1.Stack(app, 'stack3');
                const fn2 = new lambda.Function(stack3, 'MyFunction', {
                    runtime: lambda.Runtime.NODEJS_14_X,
                    code: lambda.Code.fromInline('foo'),
                    handler: 'index.handler',
                    layers: [layer2, layer1],
                });
                expect((0, function_hash_1.calculateFunctionHash)(fn1)).toEqual((0, function_hash_1.calculateFunctionHash)(fn2));
            });
        });
        test('with feature flag, imported lambda layers can be distinguished', () => {
            const app = new core_1.App({ context: { [cxapi.LAMBDA_RECOGNIZE_LAYER_VERSION]: true } });
            const stack2 = new core_1.Stack(app, 'stack2');
            const importedLayer1 = lambda.LayerVersion.fromLayerVersionArn(stack2, 'imported-layer', 'arn:aws:lambda:<region>:<account>:layer:<layer-name>:<version1>');
            const fn1 = new lambda.Function(stack2, 'MyFunction', {
                runtime: lambda.Runtime.NODEJS_14_X,
                code: lambda.Code.fromInline('foo'),
                handler: 'index.handler',
                layers: [importedLayer1],
            });
            const stack3 = new core_1.Stack(app, 'stack3');
            const importedLayer2 = lambda.LayerVersion.fromLayerVersionArn(stack3, 'imported-layer', 'arn:aws:lambda:<region>:<account>:layer:<layer-name>:<version2>');
            const fn2 = new lambda.Function(stack3, 'MyFunction', {
                runtime: lambda.Runtime.NODEJS_14_X,
                code: lambda.Code.fromInline('foo'),
                handler: 'index.handler',
                layers: [importedLayer2],
            });
            expect((0, function_hash_1.calculateFunctionHash)(fn1)).not.toEqual((0, function_hash_1.calculateFunctionHash)(fn2));
        });
    });
    describe('impact of env variables order on hash', () => {
        test('without "currentVersion", we preserve old behavior to avoid unnecessary invalidation of templates', () => {
            const stack1 = new core_1.Stack();
            const fn1 = new lambda.Function(stack1, 'MyFunction', {
                runtime: lambda.Runtime.NODEJS_14_X,
                code: lambda.Code.fromAsset(path.join(__dirname, 'my-lambda-handler')),
                handler: 'index.handler',
                environment: {
                    Foo: 'bar',
                    Bar: 'foo',
                },
            });
            const stack2 = new core_1.Stack();
            const fn2 = new lambda.Function(stack2, 'MyFunction', {
                runtime: lambda.Runtime.NODEJS_14_X,
                code: lambda.Code.fromAsset(path.join(__dirname, 'my-lambda-handler')),
                handler: 'index.handler',
                environment: {
                    Bar: 'foo',
                    Foo: 'bar',
                },
            });
            expect((0, function_hash_1.calculateFunctionHash)(fn1)).not.toEqual((0, function_hash_1.calculateFunctionHash)(fn2));
        });
        test('with "currentVersion", we sort env keys so order is consistent', () => {
            const stack1 = new core_1.Stack();
            const fn1 = new lambda.Function(stack1, 'MyFunction', {
                runtime: lambda.Runtime.NODEJS_14_X,
                code: lambda.Code.fromAsset(path.join(__dirname, 'my-lambda-handler')),
                handler: 'index.handler',
                environment: {
                    Foo: 'bar',
                    Bar: 'foo',
                },
            });
            new core_1.CfnOutput(stack1, 'VersionArn', { value: fn1.currentVersion.functionArn });
            const stack2 = new core_1.Stack();
            const fn2 = new lambda.Function(stack2, 'MyFunction', {
                runtime: lambda.Runtime.NODEJS_14_X,
                code: lambda.Code.fromAsset(path.join(__dirname, 'my-lambda-handler')),
                handler: 'index.handler',
                environment: {
                    Bar: 'foo',
                    Foo: 'bar',
                },
            });
            new core_1.CfnOutput(stack2, 'VersionArn', { value: fn2.currentVersion.functionArn });
            expect((0, function_hash_1.calculateFunctionHash)(fn1)).toEqual((0, function_hash_1.calculateFunctionHash)(fn2));
        });
    });
    describe('corrected function hash', () => {
        let app;
        beforeEach(() => {
            app = new core_1.App({
                context: {
                    [cxapi.LAMBDA_RECOGNIZE_VERSION_PROPS]: true,
                    [cxapi.NEW_STYLE_STACK_SYNTHESIS_CONTEXT]: false,
                },
            });
        });
        test('DependsOn does not impact function hash', () => {
            const stack1 = new core_1.Stack(app, 'Stack1');
            const fn1 = new lambda.Function(stack1, 'MyFunction1', {
                runtime: lambda.Runtime.NODEJS_14_X,
                code: lambda.Code.fromAsset(path.join(__dirname, 'handler.zip')),
                handler: 'index.handler',
            });
            const stack2 = new core_1.Stack(app, 'Stack2');
            const fn2 = new lambda.Function(stack2, 'MyFunction1', {
                runtime: lambda.Runtime.NODEJS_14_X,
                code: lambda.Code.fromAsset(path.join(__dirname, 'handler.zip')),
                handler: 'index.handler',
            });
            const res = new core_1.CfnResource(stack2, 'MyResource', {
                type: 'AWS::Foo::Bar',
                properties: {
                    Name: 'Value',
                },
            });
            fn2.node.addDependency(res);
            expect((0, function_hash_1.calculateFunctionHash)(fn1)).toEqual('74ee309e3752199288e6d64d385b52c4');
            expect((0, function_hash_1.calculateFunctionHash)(fn1)).toEqual((0, function_hash_1.calculateFunctionHash)(fn2));
        });
        test('properties not locked to the version do not impact function hash', () => {
            const stack1 = new core_1.Stack(app, 'Stack1');
            const fn1 = new lambda.Function(stack1, 'MyFunction', {
                runtime: lambda.Runtime.NODEJS_14_X,
                code: lambda.Code.fromAsset(path.join(__dirname, 'handler.zip')),
                handler: 'index.handler',
            });
            const stack2 = new core_1.Stack(app, 'Stack2');
            const fn2 = new lambda.Function(stack2, 'MyFunction', {
                runtime: lambda.Runtime.NODEJS_14_X,
                code: lambda.Code.fromAsset(path.join(__dirname, 'handler.zip')),
                handler: 'index.handler',
                reservedConcurrentExecutions: 5, // property not locked to the version
            });
            // expect(calculateFunctionHash(fn1)).toEqual('b0d8729d597bdde2d79312fbf619c974');
            expect((0, function_hash_1.calculateFunctionHash)(fn1)).toEqual((0, function_hash_1.calculateFunctionHash)(fn2));
        });
        test('unclassified property throws an error', () => {
            const stack = new core_1.Stack(app);
            const fn1 = new lambda.Function(stack, 'MyFunction1', {
                runtime: lambda.Runtime.NODEJS_14_X,
                code: lambda.Code.fromAsset(path.join(__dirname, 'handler.zip')),
                handler: 'index.handler',
            });
            fn1.node.defaultChild.addPropertyOverride('UnclassifiedProp', 'Value');
            expect(() => (0, function_hash_1.calculateFunctionHash)(fn1)).toThrow(/properties are not recognized/);
        });
        test('manual classification as version locked', () => {
            const stack = new core_1.Stack(app);
            const fn1 = new lambda.Function(stack, 'MyFunction1', {
                runtime: lambda.Runtime.NODEJS_14_X,
                code: lambda.Code.fromAsset(path.join(__dirname, 'handler.zip')),
                handler: 'index.handler',
            });
            const original = (0, function_hash_1.calculateFunctionHash)(fn1);
            lambda.Function.classifyVersionProperty('UnclassifiedProp', true);
            fn1.node.defaultChild.addPropertyOverride('UnclassifiedProp', 'Value');
            expect((0, function_hash_1.calculateFunctionHash)(fn1)).not.toEqual(original);
        });
        test('manual classification as not version locked', () => {
            const stack = new core_1.Stack(app);
            const fn1 = new lambda.Function(stack, 'MyFunction1', {
                runtime: lambda.Runtime.NODEJS_14_X,
                code: lambda.Code.fromAsset(path.join(__dirname, 'handler.zip')),
                handler: 'index.handler',
            });
            const original = (0, function_hash_1.calculateFunctionHash)(fn1);
            lambda.Function.classifyVersionProperty('UnclassifiedProp', false);
            fn1.node.defaultChild.addPropertyOverride('UnclassifiedProp', 'Value');
            expect((0, function_hash_1.calculateFunctionHash)(fn1)).toEqual(original);
        });
        test('all CFN properties are classified', () => {
            const spec = (0, cfnspec_1.resourceSpecification)('AWS::Lambda::Function');
            expect(spec.Properties).toBeDefined();
            const expected = Object.keys(spec.Properties).sort();
            const actual = Object.keys(function_hash_1.VERSION_LOCKED).sort();
            expect(actual).toEqual(expected);
        });
    });
});
test('imported layer hashes are consistent', () => {
    // GIVEN
    const app = new core_1.App({
        context: {
            '@aws-cdk/aws-lambda:recognizeLayerVersion': true,
        },
    });
    // WHEN
    const stack1 = new core_1.Stack(app, 'Stack1');
    const param1 = ssm.StringParameter.fromStringParameterName(stack1, 'Param', 'ParamName');
    const fn1 = new lambda.Function(stack1, 'Fn', {
        code: lambda.Code.fromInline('asdf'),
        handler: 'index.handler',
        runtime: lambda.Runtime.NODEJS_18_X,
        layers: [
            lambda.LayerVersion.fromLayerVersionArn(stack1, 'MyLayer', `arn:aws:lambda:${stack1.region}:<AccountID>:layer:IndexCFN:${param1.stringValue}`),
        ],
    });
    fn1.currentVersion; // Force creation of version
    const stack2 = new core_1.Stack(app, 'Stack2');
    const param2 = ssm.StringParameter.fromStringParameterName(stack2, 'Param', 'ParamName');
    const fn2 = new lambda.Function(stack2, 'Fn', {
        code: lambda.Code.fromInline('asdf'),
        handler: 'index.handler',
        runtime: lambda.Runtime.NODEJS_18_X,
        layers: [
            lambda.LayerVersion.fromLayerVersionArn(stack2, 'MyLayer', `arn:aws:lambda:${stack1.region}:<AccountID>:layer:IndexCFN:${param2.stringValue}`),
        ],
    });
    fn2.currentVersion; // Force creation of version
    // THEN
    const template1 = assertions_1.Template.fromStack(stack1);
    const template2 = assertions_1.Template.fromStack(stack2);
    expect(template1.toJSON()).toEqual(template2.toJSON());
});
test.each([false, true])('can invalidate version hash using invalidateVersionBasedOn: %p', (doIt) => {
    // GIVEN
    const app = new core_1.App();
    // WHEN
    const stack1 = new core_1.Stack(app, 'Stack1');
    const fn1 = new lambda.Function(stack1, 'Fn', {
        code: lambda.Code.fromInline('asdf'),
        handler: 'index.handler',
        runtime: lambda.Runtime.NODEJS_18_X,
    });
    if (doIt) {
        fn1.invalidateVersionBasedOn('abc');
    }
    fn1.currentVersion; // Force creation of version
    const stack2 = new core_1.Stack(app, 'Stack2');
    const fn2 = new lambda.Function(stack2, 'Fn', {
        code: lambda.Code.fromInline('asdf'),
        handler: 'index.handler',
        runtime: lambda.Runtime.NODEJS_18_X,
    });
    if (doIt) {
        fn1.invalidateVersionBasedOn('xyz');
    }
    fn2.currentVersion; // Force creation of version
    // THEN
    const template1 = assertions_1.Template.fromStack(stack1);
    const template2 = assertions_1.Template.fromStack(stack2);
    if (doIt) {
        expect(template1.toJSON()).not.toEqual(template2.toJSON());
    }
    else {
        expect(template1.toJSON()).toEqual(template2.toJSON());
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZnVuY3Rpb24taGFzaC50ZXN0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiZnVuY3Rpb24taGFzaC50ZXN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsNkJBQTZCO0FBQzdCLGlEQUE0QztBQUM1QyxxQ0FBcUM7QUFDckMsOENBQXlEO0FBQ3pELHFDQUFnRTtBQUNoRSxzQ0FBc0M7QUFDdEMsaUNBQWlDO0FBQ2pDLHdEQUE0RjtBQUU1RixRQUFRLENBQUMsZUFBZSxFQUFFLEdBQUcsRUFBRTtJQUM3QixRQUFRLENBQUMsZUFBZSxFQUFFLEdBQUcsRUFBRTtRQUU3QixJQUFJLENBQUMsaUJBQWlCLEVBQUUsR0FBRyxFQUFFO1lBQzNCLE1BQU0sQ0FBQyxJQUFBLDZCQUFhLEVBQUMsS0FBSyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ2pELE1BQU0sQ0FBQyxJQUFBLDZCQUFhLEVBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQy9DLE1BQU0sQ0FBQyxJQUFBLDZCQUFhLEVBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQzNDLENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLGVBQWUsRUFBRSxHQUFHLEVBQUU7WUFDekIsTUFBTSxDQUFDLElBQUEsNkJBQWEsRUFBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDakQsTUFBTSxDQUFDLElBQUEsNkJBQWEsRUFBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDbEQsTUFBTSxDQUFDLElBQUEsNkJBQWEsRUFBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FB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O0lBRWhELE9BQU87SUFDUCxNQUFNLFNBQVMsR0FBRyxxQkFBUSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUM3QyxNQUFNLFNBQVMsR0FBRyxxQkFBUSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUU3QyxJQUFJLElBQUksRUFBRTtRQUNSLE1BQU0sQ0FBQyxTQUFTLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDO0tBQzVEO1NBQU07UUFDTCxNQUFNLENBQUMsU0FBUyxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDO0tBQ3hEO0FBRUgsQ0FBQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IHsgVGVtcGxhdGUgfSBmcm9tICcuLi8uLi9hc3NlcnRpb25zJztcbmltcG9ydCAqIGFzIHNzbSBmcm9tICcuLi8uLi9hd3Mtc3NtJztcbmltcG9ydCB7IHJlc291cmNlU3BlY2lmaWNhdGlvbiB9IGZyb20gJ0Bhd3MtY2RrL2NmbnNwZWMnO1xuaW1wb3J0IHsgQXBwLCBDZm5PdXRwdXQsIENmblJlc291cmNlLCBTdGFjayB9IGZyb20gJy4uLy4uL2NvcmUnO1xuaW1wb3J0ICogYXMgY3hhcGkgZnJvbSAnLi4vLi4vY3gtYXBpJztcbmltcG9ydCAqIGFzIGxhbWJkYSBmcm9tICcuLi9saWInO1xuaW1wb3J0IHsgY2FsY3VsYXRlRnVuY3Rpb25IYXNoLCB0cmltRnJvbVN0YXJ0LCBWRVJTSU9OX0xPQ0tFRCB9IGZyb20gJy4uL2xpYi9mdW5jdGlvbi1oYXNoJztcblxuZGVzY3JpYmUoJ2Z1bmN0aW9uIGhhc2gnLCAoKSA9PiB7XG4gIGRlc2NyaWJlKCd0cmltRnJvbVN0YXJ0JywgKCkgPT4ge1xuXG4gICAgdGVzdCgndHJpbSBub3QgbmVlZGVkJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KHRyaW1Gcm9tU3RhcnQoJ2ZvbycsIDEwMCkpLnRvRXF1YWwoJ2ZvbycpO1xuICAgICAgZXhwZWN0KHRyaW1Gcm9tU3RhcnQoJ2ZvbycsIDMpKS50b0VxdWFsKCdmb28nKTtcbiAgICAgIGV4cGVjdCh0cmltRnJvbVN0YXJ0KCcnLCAzKSkudG9FcXVhbCgnJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCd0cmltIHJlcXVpcmVkJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KHRyaW1Gcm9tU3RhcnQoJ2hlbGxvJywgMykpLnRvRXF1YWwoJ2xsbycpO1xuICAgICAgZXhwZWN0KHRyaW1Gcm9tU3RhcnQoJ2hlbGxvJywgNCkpLnRvRXF1YWwoJ2VsbG8nKTtcbiAgICAgIGV4cGVjdCh0cmltRnJvbVN0YXJ0KCdoZWxsbycsIDEpKS50b0VxdWFsKCdvJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdjYWxjSGFzaCcsICgpID0+IHtcbiAgICB0ZXN0KCdzYW1lIGNvbmZpZ3VyYXRpb24gYW5kIGNvZGUgeWllbGRzIHRoZSBzYW1lIGhhc2gnLCAoKSA9PiB7XG4gICAgICBjb25zdCBhcHAgPSBuZXcgQXBwKHtcbiAgICAgICAgY29udGV4dDoge1xuICAgICAgICAgIFtjeGFwaS5ORVdfU1RZTEVfU1RBQ0tfU1lOVEhFU0lTX0NPTlRFWFRdOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgY29uc3Qgc3RhY2sxID0gbmV3IFN0YWNrKGFwcCwgJ1N0YWNrMScpO1xuICAgICAgY29uc3QgZm4xID0gbmV3IGxhbWJkYS5GdW5jdGlvbihzdGFjazEsICdNeUZ1bmN0aW9uMScsIHtcbiAgICAgICAgcnVudGltZTogbGFtYmRhLlJ1bnRpbWUuTk9ERUpTXzE0X1gsXG4gICAgICAgIGNvZGU6IGxhbWJkYS5Db2RlLmZyb21Bc3NldChwYXRoLmpvaW4oX19kaXJuYW1lLCAnaGFuZGxlci56aXAnKSksXG4gICAgICAgIGhhbmRsZXI6ICdpbmRleC5oYW5kbGVyJyxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBzdGFjazIgPSBuZXcgU3RhY2soYXBwLCAnU3RhY2syJyk7XG4gICAgICBjb25zdCBmbjIgPSBuZXcgbGFtYmRhLkZ1bmN0aW9uKHN0YWNrMiwgJ015RnVuY3Rpb24xJywge1xuICAgICAgICBydW50aW1lOiBsYW1iZGEuUnVudGltZS5OT0RFSlNfMTRfWCxcbiAgICAgICAgY29kZTogbGFtYmRhLkNvZGUuZnJvbUFzc2V0KHBhdGguam9pbihfX2Rpcm5hbWUsICdoYW5kbGVyLnppcCcpKSxcbiAgICAgICAgaGFuZGxlcjogJ2luZGV4LmhhbmRsZXInLFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChjYWxjdWxhdGVGdW5jdGlvbkhhc2goZm4xKSkudG9FcXVhbChjYWxjdWxhdGVGdW5jdGlvbkhhc2goZm4yKSk7XG4gICAgICBleHBlY3QoY2FsY3VsYXRlRnVuY3Rpb25IYXNoKGZuMSkpLnRvRXF1YWwoJzc0ZWUzMDllMzc1MjE5OTI4OGU2ZDY0ZDM4NWI1MmM0Jyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIHRlc3QoJ2NvZGUgaW1wYWN0cyBoYXNoJywgKCkgPT4ge1xuICAgIGNvbnN0IGFwcCA9IG5ldyBBcHAoe1xuICAgICAgY29udGV4dDoge1xuICAgICAgICBbY3hhcGkuTkVXX1NUWUxFX1NUQUNLX1NZTlRIRVNJU19DT05URVhUXTogZmFsc2UsXG4gICAgICB9LFxuICAgIH0pO1xuICAgIGNvbnN0IHN0YWNrMSA9IG5ldyBTdGFjayhhcHApO1xuICAgIGNvbnN0IGZuMSA9IG5ldyBsYW1iZGEuRnVuY3Rpb24oc3RhY2sxLCAnTXlGdW5jdGlvbjEnLCB7XG4gICAgICBydW50aW1lOiBsYW1iZGEuUnVudGltZS5OT0RFSlNfMTRfWCxcbiAgICAgIGNvZGU6IGxhbWJkYS5Db2RlLmZyb21Bc3NldChwYXRoLmpvaW4oX19kaXJuYW1lLCAnbXktbGFtYmRhLWhhbmRsZXInKSksXG4gICAgICBoYW5kbGVyOiAnaW5kZXguaGFuZGxlcicsXG4gICAgfSk7XG5cbiAgICBleHBlY3QoY2FsY3VsYXRlRnVuY3Rpb25IYXNoKGZuMSkpLm5vdC50b0VxdWFsKCc3NGVlMzA5ZTM3NTIxOTkyODhlNmQ2NGQzODViNTJjNCcpO1xuICAgIGV4cGVjdChjYWxjdWxhdGVGdW5jdGlvbkhhc2goZm4xKSkudG9FcXVhbCgnN2Q0Y2Q3ODFiZjQzMGJjYzI0OTVjY2VmZmY0YzM0ZGQnKTtcbiAgfSk7XG5cbiAgdGVzdCgnZW52aXJvbm1lbnQgdmFyaWFibGVzIGltcGFjdCBoYXNoJywgKCkgPT4ge1xuICAgIGNvbnN0IGFwcCA9IG5ldyBBcHAoe1xuICAgICAgY29udGV4dDoge1xuICAgICAgICBbY3hhcGkuTkVXX1NUWUxFX1NUQUNLX1NZTlRIRVNJU19DT05URVhUXTogZmFsc2UsXG4gICAgICB9LFxuICAgIH0pO1xuICAgIGNvbnN0IHN0YWNrMSA9IG5ldyBTdGFjayhhcHAsICdTdGFjazEnKTtcbiAgICBjb25zdCBmbjEgPSBuZXcgbGFtYmRhLkZ1bmN0aW9uKHN0YWNrMSwgJ015RnVuY3Rpb24nLCB7XG4gICAgICBydW50aW1lOiBsYW1iZGEuUnVudGltZS5OT0RFSlNfMTRfWCxcbiAgICAgIGNvZGU6IGxhbWJkYS5Db2RlLmZyb21Bc3NldChwYXRoLmpvaW4oX19kaXJuYW1lLCAnbXktbGFtYmRhLWhhbmRsZXInKSksXG4gICAgICBoYW5kbGVyOiAnaW5kZXguaGFuZGxlcicsXG4gICAgICBlbnZpcm9ubWVudDoge1xuICAgICAgICBGb286ICdiYXInLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIGNvbnN0IHN0YWNrMiA9IG5ldyBTdGFjayhhcHApO1xuICAgIGNvbnN0IGZuMiA9IG5ldyBsYW1iZGEuRnVuY3Rpb24oc3RhY2syLCAnTXlGdW5jdGlvbicsIHtcbiAgICAgIHJ1bnRpbWU6IGxhbWJkYS5SdW50aW1lLk5PREVKU18xNF9YLFxuICAgICAgY29kZTogbGFtYmRhLkNvZGUuZnJvbUFzc2V0KHBhdGguam9pbihfX2Rpcm5hbWUsICdteS1sYW1iZGEtaGFuZGxlcicpKSxcbiAgICAgIGhhbmRsZXI6ICdpbmRleC5oYW5kbGVyJyxcbiAgICAgIGVudmlyb25tZW50OiB7XG4gICAgICAgIEZvbzogJ2JlZXInLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIGV4cGVjdChjYWxjdWxhdGVGdW5jdGlvbkhhc2goZm4xKSkudG9FcXVhbCgnNGYyMTczM2JiNDY5NWEwZTJlNDVhOTA5MGNkNDZhNDknKTtcbiAgICBleHBlY3QoY2FsY3VsYXRlRnVuY3Rpb25IYXNoKGZuMikpLnRvRXF1YWwoJzA1MTdhOTZiMWVlMjQ2NjUxY2I5NTY4Njg2YmFiZGYyJyk7XG4gIH0pO1xuXG4gIHRlc3QoJ3J1bnRpbWUgaW1wYWN0cyBoYXNoJywgKCkgPT4ge1xuICAgIGNvbnN0IGFwcCA9IG5ldyBBcHAoe1xuICAgICAgY29udGV4dDoge1xuICAgICAgICBbY3hhcGkuTkVXX1NUWUxFX1NUQUNLX1NZTlRIRVNJU19DT05URVhUXTogZmFsc2UsXG4gICAgICB9LFxuICAgIH0pO1xuICAgIGNvbnN0IHN0YWNrMSA9IG5ldyBTdGFjayhhcHAsICdTdGFjazEnKTtcbiAgICBjb25zdCBmbjEgPSBuZXcgbGFtYmRhLkZ1bmN0aW9uKHN0YWNrMSwgJ015RnVuY3Rpb24nLCB7XG4gICAgICBydW50aW1lOiBsYW1iZGEuUnVudGltZS5OT0RFSlNfMTRfWCxcbiAgICAgIGNvZGU6IGxhbWJkYS5Db2RlLmZyb21Bc3NldChwYXRoLmpvaW4oX19kaXJuYW1lLCAnbXktbGFtYmRhLWhhbmRsZXInKSksXG4gICAgICBoYW5kbGVyOiAnaW5kZXguaGFuZGxlcicsXG4gICAgICBlbnZpcm9ubWVudDoge1xuICAgICAgICBGb286ICdiYXInLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIGNvbnN0IHN0YWNrMiA9IG5ldyBTdGFjayhhcHApO1xuICAgIGNvbnN0IGZuMiA9IG5ldyBsYW1iZGEuRnVuY3Rpb24oc3RhY2syLCAnTXlGdW5jdGlvbicsIHtcbiAgICAgIHJ1bnRpbWU6IGxhbWJkYS5SdW50aW1lLk5PREVKU18xNF9YLFxuICAgICAgY29kZTogbGFtYmRhLkNvZGUuZnJvbUFzc2V0KHBhdGguam9pbihfX2Rpcm5hbWUsICdteS1sYW1iZGEtaGFuZGxlcicpKSxcbiAgICAgIGhhbmRsZXI6ICdpbmRleC5oYW5kbGVyJyxcbiAgICAgIGVudmlyb25tZW50OiB7XG4gICAgICAgIEZvbzogJ2JlZXInLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIGV4cGVjdChjYWxjdWxhdGVGdW5jdGlvbkhhc2goZm4xKSkudG9FcXVhbCgnNGYyMTczM2JiNDY5NWEwZTJlNDVhOTA5MGNkNDZhNDknKTtcbiAgICBleHBlY3QoY2FsY3VsYXRlRnVuY3Rpb25IYXNoKGZuMikpLnRvRXF1YWwoJzA1MTdhOTZiMWVlMjQ2NjUxY2I5NTY4Njg2YmFiZGYyJyk7XG4gIH0pO1xuXG4gIHRlc3QoJ2lubGluZSBjb2RlIGNoYW5nZSBpbXBhY3RzIHRoZSBoYXNoJywgKCkgPT4ge1xuICAgIGNvbnN0IHN0YWNrMSA9IG5ldyBTdGFjaygpO1xuICAgIGNvbnN0IGZuMSA9IG5ldyBsYW1iZGEuRnVuY3Rpb24oc3RhY2sxLCAnTXlGdW5jdGlvbicsIHtcbiAgICAgIHJ1bnRpbWU6IGxhbWJkYS5SdW50aW1lLk5PREVKU18xNF9YLFxuICAgICAgY29kZTogbGFtYmRhLkNvZGUuZnJvbUlubGluZSgnZm9vJyksXG4gICAgICBoYW5kbGVyOiAnaW5kZXguaGFuZGxlcicsXG4gICAgfSk7XG5cbiAgICBjb25zdCBzdGFjazIgPSBuZXcgU3RhY2soKTtcbiAgICBjb25zdCBmbjIgPSBuZXcgbGFtYmRhLkZ1bmN0aW9uKHN0YWNrMiwgJ015RnVuY3Rpb24nLCB7XG4gICAgICBydW50aW1lOiBsYW1iZGEuUnVudGltZS5OT0RFSlNfMTRfWCxcbiAgICAgIGNvZGU6IGxhbWJkYS5Db2RlLmZyb21JbmxpbmUoJ2ZvbyBiYXInKSxcbiAgICAgIGhhbmRsZXI6ICdpbmRleC5oYW5kbGVyJyxcbiAgICB9KTtcblxuICAgIGV4cGVjdChjYWxjdWxhdGVGdW5jdGlvbkhhc2goZm4xKSkudG9FcXVhbCgnMmU0ZTA2ZDUyYWYyYmI2MDlkOGMyMzI0M2Q2NjU5NjYnKTtcbiAgICBleHBlY3QoY2FsY3VsYXRlRnVuY3Rpb25IYXNoKGZuMikpLnRvRXF1YWwoJ2FjYTFmYWU3ZTI1ZDUzYTE5YzVlZTE1OWRjYjU2Yjk0Jyk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdsYW1iZGEgbGF5ZXJzJywgKCkgPT4ge1xuICAgIGxldCBzdGFjazE6IFN0YWNrO1xuICAgIGxldCBsYXllcjE6IGxhbWJkYS5MYXllclZlcnNpb247XG4gICAgbGV0IGxheWVyMjogbGFtYmRhLkxheWVyVmVyc2lvbjtcbiAgICBiZWZvcmVBbGwoKCkgPT4ge1xuICAgICAgc3RhY2sxID0gbmV3IFN0YWNrKCk7XG4gICAgICBsYXllcjEgPSBuZXcgbGFtYmRhLkxheWVyVmVyc2lvbihzdGFjazEsICdNeUxheWVyJywge1xuICAgICAgICBjb2RlOiBsYW1iZGEuQ29kZS5mcm9tQXNzZXQocGF0aC5qb2luKF9fZGlybmFtZSwgJ2xheWVyLWNvZGUnKSksXG4gICAgICAgIGNvbXBhdGlibGVSdW50aW1lczogW2xhbWJkYS5SdW50aW1lLk5PREVKU18xNF9YXSxcbiAgICAgICAgbGljZW5zZTogJ0FwYWNoZS0yLjAnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0EgbGF5ZXIgdG8gdGVzdCB0aGUgTDIgY29uc3RydWN0JyxcbiAgICAgIH0pO1xuICAgICAgbGF5ZXIyID0gbmV3IGxhbWJkYS5MYXllclZlcnNpb24oc3RhY2sxLCAnTXlMYXllcjInLCB7XG4gICAgICAgIGNvZGU6IGxhbWJkYS5Db2RlLmZyb21Bc3NldChwYXRoLmpvaW4oX19kaXJuYW1lLCAnbGF5ZXItY29kZScpKSxcbiAgICAgICAgY29tcGF0aWJsZVJ1bnRpbWVzOiBbbGFtYmRhLlJ1bnRpbWUuTk9ERUpTXzE0X1hdLFxuICAgICAgICBsaWNlbnNlOiAnQXBhY2hlLTIuMCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQSBsYXllciB0byB0ZXN0IHRoZSBMMiBjb25zdHJ1Y3QnLFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzYW1lIGNvbmZpZ3VyYXRpb24geWllbGRzIHRoZSBzYW1lIGhhc2gnLCAoKSA9PiB7XG4gICAgICBjb25zdCBzdGFjazIgPSBuZXcgU3RhY2soKTtcbiAgICAgIGNvbnN0IGZuMSA9IG5ldyBsYW1iZGEuRnVuY3Rpb24oc3RhY2syLCAnTXlGdW5jdGlvbicsIHtcbiAgICAgICAgcnVudGltZTogbGFtYmRhLlJ1bnRpbWUuTk9ERUpTXzE0X1gsXG4gICAgICAgIGNvZGU6IGxhbWJkYS5Db2RlLmZyb21JbmxpbmUoJ2ZvbycpLFxuICAgICAgICBoYW5kbGVyOiAnaW5kZXguaGFuZGxlcicsXG4gICAgICAgIGxheWVyczogW2xheWVyMV0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3Qgc3RhY2szID0gbmV3IFN0YWNrKCk7XG4gICAgICBjb25zdCBmbjIgPSBuZXcgbGFtYmRhLkZ1bmN0aW9uKHN0YWNrMywgJ015RnVuY3Rpb24nLCB7XG4gICAgICAgIHJ1bnRpbWU6IGxhbWJkYS5SdW50aW1lLk5PREVKU18xNF9YLFxuICAgICAgICBjb2RlOiBsYW1iZGEuQ29kZS5mcm9tSW5saW5lKCdmb28nKSxcbiAgICAgICAgaGFuZGxlcjogJ2luZGV4LmhhbmRsZXInLFxuICAgICAgICBsYXllcnM6IFtsYXllcjFdLFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChjYWxjdWxhdGVGdW5jdGlvbkhhc2goZm4xKSkudG9FcXVhbChjYWxjdWxhdGVGdW5jdGlvbkhhc2goZm4yKSk7XG4gICAgICBleHBlY3QoY2FsY3VsYXRlRnVuY3Rpb25IYXNoKGZuMSkpLnRvRXF1YWwoJzgxNDgzYTcyZDU1MjkwY2EyNGNlMzBiYTZlZTRhNDEyJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdkaWZmZXJlbnQgbGF5ZXJzIGltcGFjdHMgaGFzaCcsICgpID0+IHtcbiAgICAgIGNvbnN0IHN0YWNrMiA9IG5ldyBTdGFjaygpO1xuICAgICAgY29uc3QgZm4xID0gbmV3IGxhbWJkYS5GdW5jdGlvbihzdGFjazIsICdNeUZ1bmN0aW9uJywge1xuICAgICAgICBydW50aW1lOiBsYW1iZGEuUnVudGltZS5OT0RFSlNfMTRfWCxcbiAgICAgICAgY29kZTogbGFtYmRhLkNvZGUuZnJvbUlubGluZSgnZm9vJyksXG4gICAgICAgIGhhbmRsZXI6ICdpbmRleC5oYW5kbGVyJyxcbiAgICAgICAgbGF5ZXJzOiBbbGF5ZXIxXSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBzdGFjazMgPSBuZXcgU3RhY2soKTtcbiAgICAgIGNvbnN0IGZuMiA9IG5ldyBsYW1iZGEuRnVuY3Rpb24oc3RhY2szLCAnTXlGdW5jdGlvbicsIHtcbiAgICAgICAgcnVudGltZTogbGFtYmRhLlJ1bnRpbWUuTk9ERUpTXzE0X1gsXG4gICAgICAgIGNvZGU6IGxhbWJkYS5Db2RlLmZyb21JbmxpbmUoJ2ZvbycpLFxuICAgICAgICBoYW5kbGVyOiAnaW5kZXguaGFuZGxlcicsXG4gICAgICAgIGxheWVyczogW2xheWVyMl0sXG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KGNhbGN1bGF0ZUZ1bmN0aW9uSGFzaChmbjEpKS50b0VxdWFsKCc4MTQ4M2E3MmQ1NTI5MGNhMjRjZTMwYmE2ZWU0YTQxMicpO1xuICAgICAgZXhwZWN0KGNhbGN1bGF0ZUZ1bmN0aW9uSGFzaChmbjIpKS50b0VxdWFsKCcxM2JhYTRhMDVhNGU3OGQ1MzhjNDg3MGUyODU3NmIzYScpO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ2ltcGFjdCBvZiBsYW1iZGEgbGF5ZXIgb3JkZXIgb24gaGFzaCcsICgpID0+IHtcbiAgICAgIHRlc3QoJ3dpdGhvdXQgZmVhdHVyZSBmbGFnLCBwcmVzZXJ2ZSBvbGQgYmVoYXZpb3IgdG8gYXZvaWQgdW5uZWNlc3NhcnkgaW52YWxpZGF0aW9uIG9mIHRlbXBsYXRlcycsICgpID0+IHtcbiAgICAgICAgY29uc3Qgc3RhY2syID0gbmV3IFN0YWNrKCk7XG4gICAgICAgIGNvbnN0IGZuMSA9IG5ldyBsYW1iZGEuRnVuY3Rpb24oc3RhY2syLCAnTXlGdW5jdGlvbicsIHtcbiAgICAgICAgICBydW50aW1lOiBsYW1iZGEuUnVudGltZS5OT0RFSlNfMTRfWCxcbiAgICAgICAgICBjb2RlOiBsYW1iZGEuQ29kZS5mcm9tSW5saW5lKCdmb28nKSxcbiAgICAgICAgICBoYW5kbGVyOiAnaW5kZXguaGFuZGxlcicsXG4gICAgICAgICAgbGF5ZXJzOiBbbGF5ZXIxLCBsYXllcjJdLFxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBzdGFjazMgPSBuZXcgU3RhY2soKTtcbiAgICAgICAgY29uc3QgZm4yID0gbmV3IGxhbWJkYS5GdW5jdGlvbihzdGFjazMsICdNeUZ1bmN0aW9uJywge1xuICAgICAgICAgIHJ1bnRpbWU6IGxhbWJkYS5SdW50aW1lLk5PREVKU18xNF9YLFxuICAgICAgICAgIGNvZGU6IGxhbWJkYS5Db2RlLmZyb21JbmxpbmUoJ2ZvbycpLFxuICAgICAgICAgIGhhbmRsZXI6ICdpbmRleC5oYW5kbGVyJyxcbiAgICAgICAgICBsYXllcnM6IFtsYXllcjIsIGxheWVyMV0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGV4cGVjdChjYWxjdWxhdGVGdW5jdGlvbkhhc2goZm4xKSkudG9FcXVhbCgnZmNkZDgyNTNiMTAxOGI1ZmEwMTE0NjcwNTUyYzQzYWInKTtcbiAgICAgICAgZXhwZWN0KGNhbGN1bGF0ZUZ1bmN0aW9uSGFzaChmbjIpKS50b0VxdWFsKCc2ZWU3OWQ5NDg5NWIwNDVjZmM5ZTdlMzc2NTNjMDdlOScpO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoJ3dpdGggZmVhdHVyZSBmbGFnLCB3ZSBzb3J0IGxheWVycyBzbyBvcmRlciBpcyBjb25zaXN0ZW50JywgKCkgPT4ge1xuICAgICAgICBjb25zdCBhcHAgPSBuZXcgQXBwKHsgY29udGV4dDogeyBbY3hhcGkuTEFNQkRBX1JFQ09HTklaRV9MQVlFUl9WRVJTSU9OXTogdHJ1ZSB9IH0pO1xuXG4gICAgICAgIGNvbnN0IHN0YWNrMiA9IG5ldyBTdGFjayhhcHAsICdzdGFjazInKTtcbiAgICAgICAgY29uc3QgZm4xID0gbmV3IGxhbWJkYS5GdW5jdGlvbihzdGFjazIsICdNeUZ1bmN0aW9uJywge1xuICAgICAgICAgIHJ1bnRpbWU6IGxhbWJkYS5SdW50aW1lLk5PREVKU18xNF9YLFxuICAgICAgICAgIGNvZGU6IGxhbWJkYS5Db2RlLmZyb21JbmxpbmUoJ2ZvbycpLFxuICAgICAgICAgIGhhbmRsZXI6ICdpbmRleC5oYW5kbGVyJyxcbiAgICAgICAgICBsYXllcnM6IFtsYXllcjEsIGxheWVyMl0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHN0YWNrMyA9IG5ldyBTdGFjayhhcHAsICdzdGFjazMnKTtcbiAgICAgICAgY29uc3QgZm4yID0gbmV3IGxhbWJkYS5GdW5jdGlvbihzdGFjazMsICdNeUZ1bmN0aW9uJywge1xuICAgICAgICAgIHJ1bnRpbWU6IGxhbWJkYS5SdW50aW1lLk5PREVKU18xNF9YLFxuICAgICAgICAgIGNvZGU6IGxhbWJkYS5Db2RlLmZyb21JbmxpbmUoJ2ZvbycpLFxuICAgICAgICAgIGhhbmRsZXI6ICdpbmRleC5oYW5kbGVyJyxcbiAgICAgICAgICBsYXllcnM6IFtsYXllcjIsIGxheWVyMV0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGV4cGVjdChjYWxjdWxhdGVGdW5jdGlvbkhhc2goZm4xKSkudG9FcXVhbChjYWxjdWxhdGVGdW5jdGlvbkhhc2goZm4yKSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3dpdGggZmVhdHVyZSBmbGFnLCBpbXBvcnRlZCBsYW1iZGEgbGF5ZXJzIGNhbiBiZSBkaXN0aW5ndWlzaGVkJywgKCkgPT4ge1xuICAgICAgY29uc3QgYXBwID0gbmV3IEFwcCh7IGNvbnRleHQ6IHsgW2N4YXBpLkxBTUJEQV9SRUNPR05JWkVfTEFZRVJfVkVSU0lPTl06IHRydWUgfSB9KTtcblxuICAgICAgY29uc3Qgc3RhY2syID0gbmV3IFN0YWNrKGFwcCwgJ3N0YWNrMicpO1xuICAgICAgY29uc3QgaW1wb3J0ZWRMYXllcjEgPSBsYW1iZGEuTGF5ZXJWZXJzaW9uLmZyb21MYXllclZlcnNpb25Bcm4oc3RhY2syLCAnaW1wb3J0ZWQtbGF5ZXInLCAnYXJuOmF3czpsYW1iZGE6PHJlZ2lvbj46PGFjY291bnQ+OmxheWVyOjxsYXllci1uYW1lPjo8dmVyc2lvbjE+Jyk7XG4gICAgICBjb25zdCBmbjEgPSBuZXcgbGFtYmRhLkZ1bmN0aW9uKHN0YWNrMiwgJ015RnVuY3Rpb24nLCB7XG4gICAgICAgIHJ1bnRpbWU6IGxhbWJkYS5SdW50aW1lLk5PREVKU18xNF9YLFxuICAgICAgICBjb2RlOiBsYW1iZGEuQ29kZS5mcm9tSW5saW5lKCdmb28nKSxcbiAgICAgICAgaGFuZGxlcjogJ2luZGV4LmhhbmRsZXInLFxuICAgICAgICBsYXllcnM6IFtpbXBvcnRlZExheWVyMV0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3Qgc3RhY2szID0gbmV3IFN0YWNrKGFwcCwgJ3N0YWNrMycpO1xuICAgICAgY29uc3QgaW1wb3J0ZWRMYXllcjIgPSBsYW1iZGEuTGF5ZXJWZXJzaW9uLmZyb21MYXllclZlcnNpb25Bcm4oc3RhY2szLCAnaW1wb3J0ZWQtbGF5ZXInLCAnYXJuOmF3czpsYW1iZGE6PHJlZ2lvbj46PGFjY291bnQ+OmxheWVyOjxsYXllci1uYW1lPjo8dmVyc2lvbjI+Jyk7XG4gICAgICBjb25zdCBmbjIgPSBuZXcgbGFtYmRhLkZ1bmN0aW9uKHN0YWNrMywgJ015RnVuY3Rpb24nLCB7XG4gICAgICAgIHJ1bnRpbWU6IGxhbWJkYS5SdW50aW1lLk5PREVKU18xNF9YLFxuICAgICAgICBjb2RlOiBsYW1iZGEuQ29kZS5mcm9tSW5saW5lKCdmb28nKSxcbiAgICAgICAgaGFuZGxlcjogJ2luZGV4LmhhbmRsZXInLFxuICAgICAgICBsYXllcnM6IFtpbXBvcnRlZExheWVyMl0sXG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KGNhbGN1bGF0ZUZ1bmN0aW9uSGFzaChmbjEpKS5ub3QudG9FcXVhbChjYWxjdWxhdGVGdW5jdGlvbkhhc2goZm4yKSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdpbXBhY3Qgb2YgZW52IHZhcmlhYmxlcyBvcmRlciBvbiBoYXNoJywgKCkgPT4ge1xuICAgIHRlc3QoJ3dpdGhvdXQgXCJjdXJyZW50VmVyc2lvblwiLCB3ZSBwcmVzZXJ2ZSBvbGQgYmVoYXZpb3IgdG8gYXZvaWQgdW5uZWNlc3NhcnkgaW52YWxpZGF0aW9uIG9mIHRlbXBsYXRlcycsICgpID0+IHtcbiAgICAgIGNvbnN0IHN0YWNrMSA9IG5ldyBTdGFjaygpO1xuICAgICAgY29uc3QgZm4xID0gbmV3IGxhbWJkYS5GdW5jdGlvbihzdGFjazEsICdNeUZ1bmN0aW9uJywge1xuICAgICAgICBydW50aW1lOiBsYW1iZGEuUnVudGltZS5OT0RFSlNfMTRfWCxcbiAgICAgICAgY29kZTogbGFtYmRhLkNvZGUuZnJvbUFzc2V0KHBhdGguam9pbihfX2Rpcm5hbWUsICdteS1sYW1iZGEtaGFuZGxlcicpKSxcbiAgICAgICAgaGFuZGxlcjogJ2luZGV4LmhhbmRsZXInLFxuICAgICAgICBlbnZpcm9ubWVudDoge1xuICAgICAgICAgIEZvbzogJ2JhcicsXG4gICAgICAgICAgQmFyOiAnZm9vJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBzdGFjazIgPSBuZXcgU3RhY2soKTtcbiAgICAgIGNvbnN0IGZuMiA9IG5ldyBsYW1iZGEuRnVuY3Rpb24oc3RhY2syLCAnTXlGdW5jdGlvbicsIHtcbiAgICAgICAgcnVudGltZTogbGFtYmRhLlJ1bnRpbWUuTk9ERUpTXzE0X1gsXG4gICAgICAgIGNvZGU6IGxhbWJkYS5Db2RlLmZyb21Bc3NldChwYXRoLmpvaW4oX19kaXJuYW1lLCAnbXktbGFtYmRhLWhhbmRsZXInKSksXG4gICAgICAgIGhhbmRsZXI6ICdpbmRleC5oYW5kbGVyJyxcbiAgICAgICAgZW52aXJvbm1lbnQ6IHtcbiAgICAgICAgICBCYXI6ICdmb28nLFxuICAgICAgICAgIEZvbzogJ2JhcicsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KGNhbGN1bGF0ZUZ1bmN0aW9uSGFzaChmbjEpKS5ub3QudG9FcXVhbChjYWxjdWxhdGVGdW5jdGlvbkhhc2goZm4yKSk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCd3aXRoIFwiY3VycmVudFZlcnNpb25cIiwgd2Ugc29ydCBlbnYga2V5cyBzbyBvcmRlciBpcyBjb25zaXN0ZW50JywgKCkgPT4ge1xuICAgICAgY29uc3Qgc3RhY2sxID0gbmV3IFN0YWNrKCk7XG4gICAgICBjb25zdCBmbjEgPSBuZXcgbGFtYmRhLkZ1bmN0aW9uKHN0YWNrMSwgJ015RnVuY3Rpb24nLCB7XG4gICAgICAgIHJ1bnRpbWU6IGxhbWJkYS5SdW50aW1lLk5PREVKU18xNF9YLFxuICAgICAgICBjb2RlOiBsYW1iZGEuQ29kZS5mcm9tQXNzZXQocGF0aC5qb2luKF9fZGlybmFtZSwgJ215LWxhbWJkYS1oYW5kbGVyJykpLFxuICAgICAgICBoYW5kbGVyOiAnaW5kZXguaGFuZGxlcicsXG4gICAgICAgIGVudmlyb25tZW50OiB7XG4gICAgICAgICAgRm9vOiAnYmFyJyxcbiAgICAgICAgICBCYXI6ICdmb28nLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIG5ldyBDZm5PdXRwdXQoc3RhY2sxLCAnVmVyc2lvbkFybicsIHsgdmFsdWU6IGZuMS5jdXJyZW50VmVyc2lvbi5mdW5jdGlvbkFybiB9KTtcblxuICAgICAgY29uc3Qgc3RhY2syID0gbmV3IFN0YWNrKCk7XG4gICAgICBjb25zdCBmbjIgPSBuZXcgbGFtYmRhLkZ1bmN0aW9uKHN0YWNrMiwgJ015RnVuY3Rpb24nLCB7XG4gICAgICAgIHJ1bnRpbWU6IGxhbWJkYS5SdW50aW1lLk5PREVKU18xNF9YLFxuICAgICAgICBjb2RlOiBsYW1iZGEuQ29kZS5mcm9tQXNzZXQocGF0aC5qb2luKF9fZGlybmFtZSwgJ215LWxhbWJkYS1oYW5kbGVyJykpLFxuICAgICAgICBoYW5kbGVyOiAnaW5kZXguaGFuZGxlcicsXG4gICAgICAgIGVudmlyb25tZW50OiB7XG4gICAgICAgICAgQmFyOiAnZm9vJyxcbiAgICAgICAgICBGb286ICdiYXInLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIG5ldyBDZm5PdXRwdXQoc3RhY2syLCAnVmVyc2lvbkFybicsIHsgdmFsdWU6IGZuMi5jdXJyZW50VmVyc2lvbi5mdW5jdGlvbkFybiB9KTtcblxuICAgICAgZXhwZWN0KGNhbGN1bGF0ZUZ1bmN0aW9uSGFzaChmbjEpKS50b0VxdWFsKGNhbGN1bGF0ZUZ1bmN0aW9uSGFzaChmbjIpKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2NvcnJlY3RlZCBmdW5jdGlvbiBoYXNoJywgKCkgPT4ge1xuICAgIGxldCBhcHA6IEFwcDtcbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgIGFwcCA9IG5ldyBBcHAoe1xuICAgICAgICBjb250ZXh0OiB7XG4gICAgICAgICAgW2N4YXBpLkxBTUJEQV9SRUNPR05JWkVfVkVSU0lPTl9QUk9QU106IHRydWUsXG4gICAgICAgICAgW2N4YXBpLk5FV19TVFlMRV9TVEFDS19TWU5USEVTSVNfQ09OVEVYVF06IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdEZXBlbmRzT24gZG9lcyBub3QgaW1wYWN0IGZ1bmN0aW9uIGhhc2gnLCAoKSA9PiB7XG4gICAgICBjb25zdCBzdGFjazEgPSBuZXcgU3RhY2soYXBwLCAnU3RhY2sxJyk7XG4gICAgICBjb25zdCBmbjEgPSBuZXcgbGFtYmRhLkZ1bmN0aW9uKHN0YWNrMSwgJ015RnVuY3Rpb24xJywge1xuICAgICAgICBydW50aW1lOiBsYW1iZGEuUnVudGltZS5OT0RFSlNfMTRfWCxcbiAgICAgICAgY29kZTogbGFtYmRhLkNvZGUuZnJvbUFzc2V0KHBhdGguam9pbihfX2Rpcm5hbWUsICdoYW5kbGVyLnppcCcpKSxcbiAgICAgICAgaGFuZGxlcjogJ2luZGV4LmhhbmRsZXInLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHN0YWNrMiA9IG5ldyBTdGFjayhhcHAsICdTdGFjazInKTtcbiAgICAgIGNvbnN0IGZuMiA9IG5ldyBsYW1iZGEuRnVuY3Rpb24oc3RhY2syLCAnTXlGdW5jdGlvbjEnLCB7XG4gICAgICAgIHJ1bnRpbWU6IGxhbWJkYS5SdW50aW1lLk5PREVKU18xNF9YLFxuICAgICAgICBjb2RlOiBsYW1iZGEuQ29kZS5mcm9tQXNzZXQocGF0aC5qb2luKF9fZGlybmFtZSwgJ2hhbmRsZXIuemlwJykpLFxuICAgICAgICBoYW5kbGVyOiAnaW5kZXguaGFuZGxlcicsXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHJlcyA9IG5ldyBDZm5SZXNvdXJjZShzdGFjazIsICdNeVJlc291cmNlJywge1xuICAgICAgICB0eXBlOiAnQVdTOjpGb286OkJhcicsXG4gICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICBOYW1lOiAnVmFsdWUnLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICBmbjIubm9kZS5hZGREZXBlbmRlbmN5KHJlcyk7XG5cbiAgICAgIGV4cGVjdChjYWxjdWxhdGVGdW5jdGlvbkhhc2goZm4xKSkudG9FcXVhbCgnNzRlZTMwOWUzNzUyMTk5Mjg4ZTZkNjRkMzg1YjUyYzQnKTtcbiAgICAgIGV4cGVjdChjYWxjdWxhdGVGdW5jdGlvbkhhc2goZm4xKSkudG9FcXVhbChjYWxjdWxhdGVGdW5jdGlvbkhhc2goZm4yKSk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdwcm9wZXJ0aWVzIG5vdCBsb2NrZWQgdG8gdGhlIHZlcnNpb24gZG8gbm90IGltcGFjdCBmdW5jdGlvbiBoYXNoJywgKCkgPT4ge1xuICAgICAgY29uc3Qgc3RhY2sxID0gbmV3IFN0YWNrKGFwcCwgJ1N0YWNrMScpO1xuICAgICAgY29uc3QgZm4xID0gbmV3IGxhbWJkYS5GdW5jdGlvbihzdGFjazEsICdNeUZ1bmN0aW9uJywge1xuICAgICAgICBydW50aW1lOiBsYW1iZGEuUnVudGltZS5OT0RFSlNfMTRfWCxcbiAgICAgICAgY29kZTogbGFtYmRhLkNvZGUuZnJvbUFzc2V0KHBhdGguam9pbihfX2Rpcm5hbWUsICdoYW5kbGVyLnppcCcpKSxcbiAgICAgICAgaGFuZGxlcjogJ2luZGV4LmhhbmRsZXInLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHN0YWNrMiA9IG5ldyBTdGFjayhhcHAsICdTdGFjazInKTtcbiAgICAgIGNvbnN0IGZuMiA9IG5ldyBsYW1iZGEuRnVuY3Rpb24oc3RhY2syLCAnTXlGdW5jdGlvbicsIHtcbiAgICAgICAgcnVudGltZTogbGFtYmRhLlJ1bnRpbWUuTk9ERUpTXzE0X1gsXG4gICAgICAgIGNvZGU6IGxhbWJkYS5Db2RlLmZyb21Bc3NldChwYXRoLmpvaW4oX19kaXJuYW1lLCAnaGFuZGxlci56aXAnKSksXG4gICAgICAgIGhhbmRsZXI6ICdpbmRleC5oYW5kbGVyJyxcblxuICAgICAgICByZXNlcnZlZENvbmN1cnJlbnRFeGVjdXRpb25zOiA1LCAvLyBwcm9wZXJ0eSBub3QgbG9ja2VkIHRvIHRoZSB2ZXJzaW9uXG4gICAgICB9KTtcblxuICAgICAgLy8gZXhwZWN0KGNhbGN1bGF0ZUZ1bmN0aW9uSGFzaChmbjEpKS50b0VxdWFsKCdiMGQ4NzI5ZDU5N2JkZGUyZDc5MzEyZmJmNjE5Yzk3NCcpO1xuICAgICAgZXhwZWN0KGNhbGN1bGF0ZUZ1bmN0aW9uSGFzaChmbjEpKS50b0VxdWFsKGNhbGN1bGF0ZUZ1bmN0aW9uSGFzaChmbjIpKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3VuY2xhc3NpZmllZCBwcm9wZXJ0eSB0aHJvd3MgYW4gZXJyb3InLCAoKSA9PiB7XG4gICAgICBjb25zdCBzdGFjayA9IG5ldyBTdGFjayhhcHApO1xuICAgICAgY29uc3QgZm4xID0gbmV3IGxhbWJkYS5GdW5jdGlvbihzdGFjaywgJ015RnVuY3Rpb24xJywge1xuICAgICAgICBydW50aW1lOiBsYW1iZGEuUnVudGltZS5OT0RFSlNfMTRfWCxcbiAgICAgICAgY29kZTogbGFtYmRhLkNvZGUuZnJvbUFzc2V0KHBhdGguam9pbihfX2Rpcm5hbWUsICdoYW5kbGVyLnppcCcpKSxcbiAgICAgICAgaGFuZGxlcjogJ2luZGV4LmhhbmRsZXInLFxuICAgICAgfSk7XG4gICAgICAoZm4xLm5vZGUuZGVmYXVsdENoaWxkIGFzIENmblJlc291cmNlKS5hZGRQcm9wZXJ0eU92ZXJyaWRlKCdVbmNsYXNzaWZpZWRQcm9wJywgJ1ZhbHVlJyk7XG5cbiAgICAgIGV4cGVjdCgoKSA9PiBjYWxjdWxhdGVGdW5jdGlvbkhhc2goZm4xKSkudG9UaHJvdygvcHJvcGVydGllcyBhcmUgbm90IHJlY29nbml6ZWQvKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ21hbnVhbCBjbGFzc2lmaWNhdGlvbiBhcyB2ZXJzaW9uIGxvY2tlZCcsICgpID0+IHtcbiAgICAgIGNvbnN0IHN0YWNrID0gbmV3IFN0YWNrKGFwcCk7XG4gICAgICBjb25zdCBmbjEgPSBuZXcgbGFtYmRhLkZ1bmN0aW9uKHN0YWNrLCAnTXlGdW5jdGlvbjEnLCB7XG4gICAgICAgIHJ1bnRpbWU6IGxhbWJkYS5SdW50aW1lLk5PREVKU18xNF9YLFxuICAgICAgICBjb2RlOiBsYW1iZGEuQ29kZS5mcm9tQXNzZXQocGF0aC5qb2luKF9fZGlybmFtZSwgJ2hhbmRsZXIuemlwJykpLFxuICAgICAgICBoYW5kbGVyOiAnaW5kZXguaGFuZGxlcicsXG4gICAgICB9KTtcblxuICAgICAgY29uc3Qgb3JpZ2luYWwgPSBjYWxjdWxhdGVGdW5jdGlvbkhhc2goZm4xKTtcbiAgICAgIGxhbWJkYS5GdW5jdGlvbi5jbGFzc2lmeVZlcnNpb25Qcm9wZXJ0eSgnVW5jbGFzc2lmaWVkUHJvcCcsIHRydWUpO1xuICAgICAgKGZuMS5ub2RlLmRlZmF1bHRDaGlsZCBhcyBDZm5SZXNvdXJjZSkuYWRkUHJvcGVydHlPdmVycmlkZSgnVW5jbGFzc2lmaWVkUHJvcCcsICdWYWx1ZScpO1xuICAgICAgZXhwZWN0KGNhbGN1bGF0ZUZ1bmN0aW9uSGFzaChmbjEpKS5ub3QudG9FcXVhbChvcmlnaW5hbCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdtYW51YWwgY2xhc3NpZmljYXRpb24gYXMgbm90IHZlcnNpb24gbG9ja2VkJywgKCkgPT4ge1xuICAgICAgY29uc3Qgc3RhY2sgPSBuZXcgU3RhY2soYXBwKTtcbiAgICAgIGNvbnN0IGZuMSA9IG5ldyBsYW1iZGEuRnVuY3Rpb24oc3RhY2ssICdNeUZ1bmN0aW9uMScsIHtcbiAgICAgICAgcnVudGltZTogbGFtYmRhLlJ1bnRpbWUuTk9ERUpTXzE0X1gsXG4gICAgICAgIGNvZGU6IGxhbWJkYS5Db2RlLmZyb21Bc3NldChwYXRoLmpvaW4oX19kaXJuYW1lLCAnaGFuZGxlci56aXAnKSksXG4gICAgICAgIGhhbmRsZXI6ICdpbmRleC5oYW5kbGVyJyxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBvcmlnaW5hbCA9IGNhbGN1bGF0ZUZ1bmN0aW9uSGFzaChmbjEpO1xuICAgICAgbGFtYmRhLkZ1bmN0aW9uLmNsYXNzaWZ5VmVyc2lvblByb3BlcnR5KCdVbmNsYXNzaWZpZWRQcm9wJywgZmFsc2UpO1xuICAgICAgKGZuMS5ub2RlLmRlZmF1bHRDaGlsZCBhcyBDZm5SZXNvdXJjZSkuYWRkUHJvcGVydHlPdmVycmlkZSgnVW5jbGFzc2lmaWVkUHJvcCcsICdWYWx1ZScpO1xuICAgICAgZXhwZWN0KGNhbGN1bGF0ZUZ1bmN0aW9uSGFzaChmbjEpKS50b0VxdWFsKG9yaWdpbmFsKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ2FsbCBDRk4gcHJvcGVydGllcyBhcmUgY2xhc3NpZmllZCcsICgpID0+IHtcbiAgICAgIGNvbnN0IHNwZWMgPSByZXNvdXJjZVNwZWNpZmljYXRpb24oJ0FXUzo6TGFtYmRhOjpGdW5jdGlvbicpO1xuICAgICAgZXhwZWN0KHNwZWMuUHJvcGVydGllcykudG9CZURlZmluZWQoKTtcbiAgICAgIGNvbnN0IGV4cGVjdGVkID0gT2JqZWN0LmtleXMoc3BlYy5Qcm9wZXJ0aWVzISkuc29ydCgpO1xuICAgICAgY29uc3QgYWN0dWFsID0gT2JqZWN0LmtleXMoVkVSU0lPTl9MT0NLRUQpLnNvcnQoKTtcbiAgICAgIGV4cGVjdChhY3R1YWwpLnRvRXF1YWwoZXhwZWN0ZWQpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuXG50ZXN0KCdpbXBvcnRlZCBsYXllciBoYXNoZXMgYXJlIGNvbnNpc3RlbnQnLCAoKSA9PiB7XG4gIC8vIEdJVkVOXG4gIGNvbnN0IGFwcCA9IG5ldyBBcHAoe1xuICAgIGNvbnRleHQ6IHtcbiAgICAgICdAYXdzLWNkay9hd3MtbGFtYmRhOnJlY29nbml6ZUxheWVyVmVyc2lvbic6IHRydWUsXG4gICAgfSxcbiAgfSk7XG5cbiAgLy8gV0hFTlxuICBjb25zdCBzdGFjazEgPSBuZXcgU3RhY2soYXBwLCAnU3RhY2sxJyk7XG4gIGNvbnN0IHBhcmFtMSA9IHNzbS5TdHJpbmdQYXJhbWV0ZXIuZnJvbVN0cmluZ1BhcmFtZXRlck5hbWUoc3RhY2sxLCAnUGFyYW0nLCAnUGFyYW1OYW1lJyk7XG4gIGNvbnN0IGZuMSA9IG5ldyBsYW1iZGEuRnVuY3Rpb24oc3RhY2sxLCAnRm4nLCB7XG4gICAgY29kZTogbGFtYmRhLkNvZGUuZnJvbUlubGluZSgnYXNkZicpLFxuICAgIGhhbmRsZXI6ICdpbmRleC5oYW5kbGVyJyxcbiAgICBydW50aW1lOiBsYW1iZGEuUnVudGltZS5OT0RFSlNfMThfWCxcbiAgICBsYXllcnM6IFtcbiAgICAgIGxhbWJkYS5MYXllclZlcnNpb24uZnJvbUxheWVyVmVyc2lvbkFybihzdGFjazEsICdNeUxheWVyJyxcbiAgICAgICAgYGFybjphd3M6bGFtYmRhOiR7c3RhY2sxLnJlZ2lvbn06PEFjY291bnRJRD46bGF5ZXI6SW5kZXhDRk46JHtwYXJhbTEuc3RyaW5nVmFsdWV9YCksXG4gICAgXSxcbiAgfSk7XG4gIGZuMS5jdXJyZW50VmVyc2lvbjsgLy8gRm9yY2UgY3JlYXRpb24gb2YgdmVyc2lvblxuXG4gIGNvbnN0IHN0YWNrMiA9IG5ldyBTdGFjayhhcHAsICdTdGFjazInKTtcbiAgY29uc3QgcGFyYW0yID0gc3NtLlN0cmluZ1BhcmFtZXRlci5mcm9tU3RyaW5nUGFyYW1ldGVyTmFtZShzdGFjazIsICdQYXJhbScsICdQYXJhbU5hbWUnKTtcbiAgY29uc3QgZm4yID0gbmV3IGxhbWJkYS5GdW5jdGlvbihzdGFjazIsICdGbicsIHtcbiAgICBjb2RlOiBsYW1iZGEuQ29kZS5mcm9tSW5saW5lKCdhc2RmJyksXG4gICAgaGFuZGxlcjogJ2luZGV4LmhhbmRsZXInLFxuICAgIHJ1bnRpbWU6IGxhbWJkYS5SdW50aW1lLk5PREVKU18xOF9YLFxuICAgIGxheWVyczogW1xuICAgICAgbGFtYmRhLkxheWVyVmVyc2lvbi5mcm9tTGF5ZXJWZXJzaW9uQXJuKHN0YWNrMiwgJ015TGF5ZXInLFxuICAgICAgICBgYXJuOmF3czpsYW1iZGE6JHtzdGFjazEucmVnaW9ufTo8QWNjb3VudElEPjpsYXllcjpJbmRleENGTjoke3BhcmFtMi5zdHJpbmdWYWx1ZX1gKSxcbiAgICBdLFxuICB9KTtcbiAgZm4yLmN1cnJlbnRWZXJzaW9uOyAvLyBGb3JjZSBjcmVhdGlvbiBvZiB2ZXJzaW9uXG5cbiAgLy8gVEhFTlxuICBjb25zdCB0ZW1wbGF0ZTEgPSBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2sxKTtcbiAgY29uc3QgdGVtcGxhdGUyID0gVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrMik7XG5cbiAgZXhwZWN0KHRlbXBsYXRlMS50b0pTT04oKSkudG9FcXVhbCh0ZW1wbGF0ZTIudG9KU09OKCkpO1xufSk7XG5cbnRlc3QuZWFjaChbZmFsc2UsIHRydWVdKSgnY2FuIGludmFsaWRhdGUgdmVyc2lvbiBoYXNoIHVzaW5nIGludmFsaWRhdGVWZXJzaW9uQmFzZWRPbjogJXAnLCAoZG9JdCkgPT4ge1xuICAvLyBHSVZFTlxuICBjb25zdCBhcHAgPSBuZXcgQXBwKCk7XG5cbiAgLy8gV0hFTlxuICBjb25zdCBzdGFjazEgPSBuZXcgU3RhY2soYXBwLCAnU3RhY2sxJyk7XG4gIGNvbnN0IGZuMSA9IG5ldyBsYW1iZGEuRnVuY3Rpb24oc3RhY2sxLCAnRm4nLCB7XG4gICAgY29kZTogbGFtYmRhLkNvZGUuZnJvbUlubGluZSgnYXNkZicpLFxuICAgIGhhbmRsZXI6ICdpbmRleC5oYW5kbGVyJyxcbiAgICBydW50aW1lOiBsYW1iZGEuUnVudGltZS5OT0RFSlNfMThfWCxcbiAgfSk7XG4gIGlmIChkb0l0KSB7XG4gICAgZm4xLmludmFsaWRhdGVWZXJzaW9uQmFzZWRPbignYWJjJyk7XG4gIH1cbiAgZm4xLmN1cnJlbnRWZXJzaW9uOyAvLyBGb3JjZSBjcmVhdGlvbiBvZiB2ZXJzaW9uXG5cbiAgY29uc3Qgc3RhY2syID0gbmV3IFN0YWNrKGFwcCwgJ1N0YWNrMicpO1xuICBjb25zdCBmbjIgPSBuZXcgbGFtYmRhLkZ1bmN0aW9uKHN0YWNrMiwgJ0ZuJywge1xuICAgIGNvZGU6IGxhbWJkYS5Db2RlLmZyb21JbmxpbmUoJ2FzZGYnKSxcbiAgICBoYW5kbGVyOiAnaW5kZXguaGFuZGxlcicsXG4gICAgcnVudGltZTogbGFtYmRhLlJ1bnRpbWUuTk9ERUpTXzE4X1gsXG4gIH0pO1xuICBpZiAoZG9JdCkge1xuICAgIGZuMS5pbnZhbGlkYXRlVmVyc2lvbkJhc2VkT24oJ3h5eicpO1xuICB9XG4gIGZuMi5jdXJyZW50VmVyc2lvbjsgLy8gRm9yY2UgY3JlYXRpb24gb2YgdmVyc2lvblxuXG4gIC8vIFRIRU5cbiAgY29uc3QgdGVtcGxhdGUxID0gVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrMSk7XG4gIGNvbnN0IHRlbXBsYXRlMiA9IFRlbXBsYXRlLmZyb21TdGFjayhzdGFjazIpO1xuXG4gIGlmIChkb0l0KSB7XG4gICAgZXhwZWN0KHRlbXBsYXRlMS50b0pTT04oKSkubm90LnRvRXF1YWwodGVtcGxhdGUyLnRvSlNPTigpKTtcbiAgfSBlbHNlIHtcbiAgICBleHBlY3QodGVtcGxhdGUxLnRvSlNPTigpKS50b0VxdWFsKHRlbXBsYXRlMi50b0pTT04oKSk7XG4gIH1cblxufSk7Il19