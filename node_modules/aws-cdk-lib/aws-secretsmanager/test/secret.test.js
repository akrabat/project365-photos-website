"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const assertions_1 = require("../../assertions");
const iam = require("../../aws-iam");
const kms = require("../../aws-kms");
const lambda = require("../../aws-lambda");
const cdk_build_tools_1 = require("@aws-cdk/cdk-build-tools");
const cdk = require("../../core");
const secretsmanager = require("../lib");
let app;
let stack;
beforeEach(() => {
    app = new cdk.App();
    stack = new cdk.Stack(app);
});
test('default secret', () => {
    // WHEN
    new secretsmanager.Secret(stack, 'Secret');
    // THEN
    assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::SecretsManager::Secret', {
        GenerateSecretString: {},
    });
});
test('set removalPolicy to secret', () => {
    // WHEN
    new secretsmanager.Secret(stack, 'Secret', {
        removalPolicy: cdk.RemovalPolicy.RETAIN,
    });
    // THEN
    assertions_1.Template.fromStack(stack).hasResource('AWS::SecretsManager::Secret', {
        DeletionPolicy: 'Retain',
    });
});
test('secret with kms', () => {
    // GIVEN
    const key = new kms.Key(stack, 'KMS');
    // WHEN
    new secretsmanager.Secret(stack, 'Secret', { encryptionKey: key });
    // THEN
    assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::KMS::Key', {
        KeyPolicy: {
            Statement: assertions_1.Match.arrayWith([
                {
                    Effect: 'Allow',
                    Resource: '*',
                    Action: [
                        'kms:Decrypt',
                        'kms:Encrypt',
                        'kms:ReEncrypt*',
                        'kms:GenerateDataKey*',
                    ],
                    Principal: {
                        AWS: {
                            'Fn::Join': [
                                '',
                                [
                                    'arn:',
                                    {
                                        Ref: 'AWS::Partition',
                                    },
                                    ':iam::',
                                    {
                                        Ref: 'AWS::AccountId',
                                    },
                                    ':root',
                                ],
                            ],
                        },
                    },
                    Condition: {
                        StringEquals: {
                            'kms:ViaService': {
                                'Fn::Join': [
                                    '',
                                    [
                                        'secretsmanager.',
                                        {
                                            Ref: 'AWS::Region',
                                        },
                                        '.amazonaws.com',
                                    ],
                                ],
                            },
                        },
                    },
                },
                {
                    Effect: 'Allow',
                    Resource: '*',
                    Action: [
                        'kms:CreateGrant',
                        'kms:DescribeKey',
                    ],
                    Principal: {
                        AWS: {
                            'Fn::Join': [
                                '',
                                [
                                    'arn:',
                                    {
                                        Ref: 'AWS::Partition',
                                    },
                                    ':iam::',
                                    {
                                        Ref: 'AWS::AccountId',
                                    },
                                    ':root',
                                ],
                            ],
                        },
                    },
                    Condition: {
                        StringEquals: {
                            'kms:ViaService': {
                                'Fn::Join': [
                                    '',
                                    [
                                        'secretsmanager.',
                                        {
                                            Ref: 'AWS::Region',
                                        },
                                        '.amazonaws.com',
                                    ],
                                ],
                            },
                        },
                    },
                },
            ]),
            Version: '2012-10-17',
        },
    });
});
test('secret with generate secret string options', () => {
    // WHEN
    new secretsmanager.Secret(stack, 'Secret', {
        generateSecretString: {
            excludeUppercase: true,
            passwordLength: 20,
        },
    });
    // THEN
    assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::SecretsManager::Secret', {
        GenerateSecretString: {
            ExcludeUppercase: true,
            PasswordLength: 20,
        },
    });
});
test('templated secret string', () => {
    // WHEN
    new secretsmanager.Secret(stack, 'Secret', {
        generateSecretString: {
            secretStringTemplate: JSON.stringify({ username: 'username' }),
            generateStringKey: 'password',
        },
    });
    // THEN
    assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::SecretsManager::Secret', {
        GenerateSecretString: {
            SecretStringTemplate: '{"username":"username"}',
            GenerateStringKey: 'password',
        },
    });
});
describe('secretStringBeta1', () => {
    let user;
    let accessKey;
    beforeEach(() => {
        user = new iam.User(stack, 'User');
        accessKey = new iam.AccessKey(stack, 'MyKey', { user });
    });
    (0, cdk_build_tools_1.testDeprecated)('fromUnsafePlaintext allows specifying a plaintext string', () => {
        new secretsmanager.Secret(stack, 'Secret', {
            secretStringBeta1: secretsmanager.SecretStringValueBeta1.fromUnsafePlaintext('unsafeP@$$'),
        });
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::SecretsManager::Secret', {
            GenerateSecretString: assertions_1.Match.absent(),
            SecretString: 'unsafeP@$$',
        });
    });
    (0, cdk_build_tools_1.testDeprecated)('toToken throws when provided an unsafe plaintext string', () => {
        expect(() => new secretsmanager.Secret(stack, 'Secret', {
            secretStringBeta1: secretsmanager.SecretStringValueBeta1.fromToken('unsafeP@$$'),
        })).toThrow(/appears to be plaintext/);
    });
    (0, cdk_build_tools_1.testDeprecated)('toToken allows referencing a construct attribute', () => {
        new secretsmanager.Secret(stack, 'Secret', {
            secretStringBeta1: secretsmanager.SecretStringValueBeta1.fromToken(accessKey.secretAccessKey.toString()),
        });
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::SecretsManager::Secret', {
            GenerateSecretString: assertions_1.Match.absent(),
            SecretString: { 'Fn::GetAtt': ['MyKey6AB29FA6', 'SecretAccessKey'] },
        });
    });
    (0, cdk_build_tools_1.testDeprecated)('toToken allows referencing a construct attribute in nested JSON', () => {
        const secretString = secretsmanager.SecretStringValueBeta1.fromToken(JSON.stringify({
            key: accessKey.secretAccessKey.toString(),
            username: 'myUser',
        }));
        new secretsmanager.Secret(stack, 'Secret', {
            secretStringBeta1: secretString,
        });
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::SecretsManager::Secret', {
            GenerateSecretString: assertions_1.Match.absent(),
            SecretString: {
                'Fn::Join': [
                    '',
                    [
                        '{"key":"',
                        {
                            'Fn::GetAtt': [
                                'MyKey6AB29FA6',
                                'SecretAccessKey',
                            ],
                        },
                        '","username":"myUser"}',
                    ],
                ],
            },
        });
    });
    (0, cdk_build_tools_1.testDeprecated)('toToken throws if provided a resolved token', () => {
        // NOTE - This is actually not desired behavior, but the simple `!Token.isUnresolved`
        // check is the simplest and most consistent to implement. Covering this edge case of
        // a resolved Token representing a Ref/Fn::GetAtt is out of scope for this initial pass.
        const secretKey = stack.resolve(accessKey.secretAccessKey);
        expect(() => new secretsmanager.Secret(stack, 'Secret', {
            secretStringBeta1: secretsmanager.SecretStringValueBeta1.fromToken(secretKey),
        })).toThrow(/appears to be plaintext/);
    });
    (0, cdk_build_tools_1.testDeprecated)('throws if both generateSecretString and secretStringBeta1 are provided', () => {
        expect(() => new secretsmanager.Secret(stack, 'Secret', {
            generateSecretString: {
                generateStringKey: 'username',
                secretStringTemplate: JSON.stringify({ username: 'username' }),
            },
            secretStringBeta1: secretsmanager.SecretStringValueBeta1.fromToken(accessKey.secretAccessKey.toString()),
        })).toThrow(/Cannot specify/);
    });
});
describe('secretStringValue', () => {
    test('can reference an IAM user access key', () => {
        const user = new iam.User(stack, 'User');
        const accessKey = new iam.AccessKey(stack, 'MyKey', { user });
        new secretsmanager.Secret(stack, 'Secret', {
            secretStringValue: accessKey.secretAccessKey,
        });
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::SecretsManager::Secret', {
            GenerateSecretString: assertions_1.Match.absent(),
            SecretString: { 'Fn::GetAtt': ['MyKey6AB29FA6', 'SecretAccessKey'] },
        });
    });
});
test('grantRead', () => {
    // GIVEN
    const secret = new secretsmanager.Secret(stack, 'Secret');
    const role = new iam.Role(stack, 'Role', { assumedBy: new iam.AccountRootPrincipal() });
    // WHEN
    secret.grantRead(role);
    // THEN
    assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::IAM::Policy', {
        PolicyDocument: {
            Version: '2012-10-17',
            Statement: [{
                    Action: [
                        'secretsmanager:GetSecretValue',
                        'secretsmanager:DescribeSecret',
                    ],
                    Effect: 'Allow',
                    Resource: { Ref: 'SecretA720EF05' },
                }],
        },
    });
});
test('Error when grantRead with different role and no KMS', () => {
    // GIVEN
    const testStack = new cdk.Stack(app, 'TestStack', {
        env: {
            account: '123456789012',
        },
    });
    const secret = new secretsmanager.Secret(testStack, 'Secret');
    const role = iam.Role.fromRoleArn(testStack, 'RoleFromArn', 'arn:aws:iam::111111111111:role/SomeRole');
    // THEN
    expect(() => {
        secret.grantRead(role);
    }).toThrowError('KMS Key must be provided for cross account access to Secret');
});
test('grantRead with KMS Key', () => {
    // GIVEN
    const key = new kms.Key(stack, 'KMS');
    const secret = new secretsmanager.Secret(stack, 'Secret', { encryptionKey: key });
    const role = new iam.Role(stack, 'Role', { assumedBy: new iam.AccountRootPrincipal() });
    // WHEN
    secret.grantRead(role);
    // THEN
    assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::IAM::Policy', {
        PolicyDocument: {
            Version: '2012-10-17',
            Statement: [{
                    Action: [
                        'secretsmanager:GetSecretValue',
                        'secretsmanager:DescribeSecret',
                    ],
                    Effect: 'Allow',
                    Resource: { Ref: 'SecretA720EF05' },
                }],
        },
    });
    assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::KMS::Key', {
        KeyPolicy: {
            Statement: assertions_1.Match.arrayWith([
                {
                    Action: 'kms:Decrypt',
                    Condition: {
                        StringEquals: {
                            'kms:ViaService': {
                                'Fn::Join': [
                                    '',
                                    [
                                        'secretsmanager.',
                                        {
                                            Ref: 'AWS::Region',
                                        },
                                        '.amazonaws.com',
                                    ],
                                ],
                            },
                        },
                    },
                    Effect: 'Allow',
                    Principal: {
                        AWS: {
                            'Fn::GetAtt': [
                                'Role1ABCC5F0',
                                'Arn',
                            ],
                        },
                    },
                    Resource: '*',
                },
            ]),
            Version: '2012-10-17',
        },
    });
});
test('grantRead cross account', () => {
    // GIVEN
    const key = new kms.Key(stack, 'KMS');
    const secret = new secretsmanager.Secret(stack, 'Secret', { encryptionKey: key });
    const principal = new iam.AccountPrincipal('1234');
    // WHEN
    secret.grantRead(principal, ['FOO', 'bar']).assertSuccess();
    // THEN
    assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::SecretsManager::ResourcePolicy', {
        ResourcePolicy: {
            Statement: [
                {
                    Action: [
                        'secretsmanager:GetSecretValue',
                        'secretsmanager:DescribeSecret',
                    ],
                    Effect: 'Allow',
                    Condition: {
                        'ForAnyValue:StringEquals': {
                            'secretsmanager:VersionStage': [
                                'FOO',
                                'bar',
                            ],
                        },
                    },
                    Principal: {
                        AWS: {
                            'Fn::Join': [
                                '',
                                [
                                    'arn:',
                                    {
                                        Ref: 'AWS::Partition',
                                    },
                                    ':iam::1234:root',
                                ],
                            ],
                        },
                    },
                    Resource: {
                        Ref: 'SecretA720EF05',
                    },
                },
            ],
            Version: '2012-10-17',
        },
        SecretId: {
            Ref: 'SecretA720EF05',
        },
    });
    assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::KMS::Key', {
        KeyPolicy: {
            Statement: assertions_1.Match.arrayWith([{
                    Action: 'kms:Decrypt',
                    Condition: {
                        StringEquals: {
                            'kms:ViaService': {
                                'Fn::Join': [
                                    '',
                                    [
                                        'secretsmanager.',
                                        {
                                            Ref: 'AWS::Region',
                                        },
                                        '.amazonaws.com',
                                    ],
                                ],
                            },
                        },
                    },
                    Effect: 'Allow',
                    Principal: {
                        AWS: {
                            'Fn::Join': [
                                '',
                                [
                                    'arn:',
                                    {
                                        Ref: 'AWS::Partition',
                                    },
                                    ':iam::1234:root',
                                ],
                            ],
                        },
                    },
                    Resource: '*',
                }]),
            Version: '2012-10-17',
        },
    });
});
test('grantRead with version label constraint', () => {
    // GIVEN
    const key = new kms.Key(stack, 'KMS');
    const secret = new secretsmanager.Secret(stack, 'Secret', { encryptionKey: key });
    const role = new iam.Role(stack, 'Role', { assumedBy: new iam.AccountRootPrincipal() });
    // WHEN
    secret.grantRead(role, ['FOO', 'bar']);
    // THEN
    assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::IAM::Policy', {
        PolicyDocument: {
            Version: '2012-10-17',
            Statement: [{
                    Action: [
                        'secretsmanager:GetSecretValue',
                        'secretsmanager:DescribeSecret',
                    ],
                    Effect: 'Allow',
                    Resource: { Ref: 'SecretA720EF05' },
                    Condition: {
                        'ForAnyValue:StringEquals': {
                            'secretsmanager:VersionStage': ['FOO', 'bar'],
                        },
                    },
                }],
        },
    });
    assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::KMS::Key', {
        KeyPolicy: {
            Statement: assertions_1.Match.arrayWith([{
                    Action: 'kms:Decrypt',
                    Condition: {
                        StringEquals: {
                            'kms:ViaService': {
                                'Fn::Join': [
                                    '',
                                    [
                                        'secretsmanager.',
                                        {
                                            Ref: 'AWS::Region',
                                        },
                                        '.amazonaws.com',
                                    ],
                                ],
                            },
                        },
                    },
                    Effect: 'Allow',
                    Principal: {
                        AWS: {
                            'Fn::GetAtt': [
                                'Role1ABCC5F0',
                                'Arn',
                            ],
                        },
                    },
                    Resource: '*',
                }]),
            Version: '2012-10-17',
        },
    });
});
test('grantWrite', () => {
    // GIVEN
    const secret = new secretsmanager.Secret(stack, 'Secret', {});
    const role = new iam.Role(stack, 'Role', { assumedBy: new iam.AccountRootPrincipal() });
    // WHEN
    secret.grantWrite(role);
    // THEN
    assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::IAM::Policy', {
        PolicyDocument: {
            Version: '2012-10-17',
            Statement: [{
                    Action: [
                        'secretsmanager:PutSecretValue',
                        'secretsmanager:UpdateSecret',
                    ],
                    Effect: 'Allow',
                    Resource: { Ref: 'SecretA720EF05' },
                }],
        },
    });
});
test('grantWrite with kms', () => {
    // GIVEN
    const key = new kms.Key(stack, 'KMS');
    const secret = new secretsmanager.Secret(stack, 'Secret', { encryptionKey: key });
    const role = new iam.Role(stack, 'Role', { assumedBy: new iam.AccountRootPrincipal() });
    // WHEN
    secret.grantWrite(role);
    // THEN
    assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::IAM::Policy', {
        PolicyDocument: {
            Version: '2012-10-17',
            Statement: [{
                    Action: [
                        'secretsmanager:PutSecretValue',
                        'secretsmanager:UpdateSecret',
                    ],
                    Effect: 'Allow',
                    Resource: { Ref: 'SecretA720EF05' },
                }],
        },
    });
    assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::KMS::Key', {
        KeyPolicy: {
            Statement: assertions_1.Match.arrayWith([{
                    Action: [
                        'kms:Encrypt',
                        'kms:ReEncrypt*',
                        'kms:GenerateDataKey*',
                    ],
                    Condition: {
                        StringEquals: {
                            'kms:ViaService': {
                                'Fn::Join': [
                                    '',
                                    [
                                        'secretsmanager.',
                                        {
                                            Ref: 'AWS::Region',
                                        },
                                        '.amazonaws.com',
                                    ],
                                ],
                            },
                        },
                    },
                    Effect: 'Allow',
                    Principal: {
                        AWS: {
                            'Fn::GetAtt': [
                                'Role1ABCC5F0',
                                'Arn',
                            ],
                        },
                    },
                    Resource: '*',
                }]),
        },
    });
});
test('secretValue', () => {
    // GIVEN
    const key = new kms.Key(stack, 'KMS');
    const secret = new secretsmanager.Secret(stack, 'Secret', { encryptionKey: key });
    // WHEN
    new cdk.CfnResource(stack, 'FakeResource', {
        type: 'CDK::Phony::Resource',
        properties: {
            value: secret.secretValue,
        },
    });
    // THEN
    assertions_1.Template.fromStack(stack).hasResourceProperties('CDK::Phony::Resource', {
        value: {
            'Fn::Join': ['', [
                    '{{resolve:secretsmanager:',
                    { Ref: 'SecretA720EF05' },
                    ':SecretString:::}}',
                ]],
        },
    });
});
describe('secretName', () => {
    test('selects the first two parts of the resource name when the name is auto-generated', () => {
        stack = new cdk.Stack();
        const secret = new secretsmanager.Secret(stack, 'Secret');
        new cdk.CfnOutput(stack, 'MySecretName', {
            value: secret.secretName,
        });
        const resourceName = { 'Fn::Select': [6, { 'Fn::Split': [':', { Ref: 'SecretA720EF05' }] }] };
        assertions_1.Template.fromStack(stack).hasOutput('MySecretName', {
            Value: {
                'Fn::Join': ['-', [
                        { 'Fn::Select': [0, { 'Fn::Split': ['-', resourceName] }] },
                        { 'Fn::Select': [1, { 'Fn::Split': ['-', resourceName] }] },
                    ]],
            },
        });
    });
    test('is simply the first segment when the provided secret name has no hyphens', () => {
        stack = new cdk.Stack();
        const secret = new secretsmanager.Secret(stack, 'Secret', { secretName: 'mySecret' });
        new cdk.CfnOutput(stack, 'MySecretName', {
            value: secret.secretName,
        });
        const resourceName = { 'Fn::Select': [6, { 'Fn::Split': [':', { Ref: 'SecretA720EF05' }] }] };
        assertions_1.Template.fromStack(stack).hasOutput('MySecretName', {
            Value: { 'Fn::Select': [0, { 'Fn::Split': ['-', resourceName] }] },
        });
    });
    function assertSegments(secret, segments) {
        new cdk.CfnOutput(stack, 'MySecretName', {
            value: secret.secretName,
        });
        const resourceName = { 'Fn::Select': [6, { 'Fn::Split': [':', { Ref: 'SecretA720EF05' }] }] };
        const secretNameSegments = [];
        for (let i = 0; i < segments; i++) {
            secretNameSegments.push({ 'Fn::Select': [i, { 'Fn::Split': ['-', resourceName] }] });
        }
        assertions_1.Template.fromStack(stack).hasOutput('MySecretName', {
            Value: { 'Fn::Join': ['-', secretNameSegments] },
        });
    }
    test('selects the 2 parts of the resource name when the secret name is provided', () => {
        stack = new cdk.Stack();
        const secret = new secretsmanager.Secret(stack, 'Secret', { secretName: 'my-secret' });
        assertSegments(secret, 2);
    });
    test('selects the 3 parts of the resource name when the secret name is provided', () => {
        stack = new cdk.Stack();
        const secret = new secretsmanager.Secret(stack, 'Secret', { secretName: 'my-secret-hyphenated' });
        assertSegments(secret, 3);
    });
    test('selects the 4 parts of the resource name when the secret name is provided', () => {
        stack = new cdk.Stack();
        const secret = new secretsmanager.Secret(stack, 'Secret', { secretName: 'my-secret-with-hyphens' });
        assertSegments(secret, 4);
    });
    test('uses existing Tokens as secret names as-is', () => {
        stack = new cdk.Stack();
        const secret1 = new secretsmanager.Secret(stack, 'Secret1');
        const secret2 = new secretsmanager.Secret(stack, 'Secret2', {
            secretName: secret1.secretName,
        });
        new cdk.CfnOutput(stack, 'MySecretName1', {
            value: secret1.secretName,
        });
        new cdk.CfnOutput(stack, 'MySecretName2', {
            value: secret2.secretName,
        });
        const outputs = assertions_1.Template.fromStack(stack).findOutputs('*');
        expect(outputs.MySecretName1).toEqual(outputs.MySecretName2);
    });
});
(0, cdk_build_tools_1.testDeprecated)('import by secretArn', () => {
    // GIVEN
    const secretArn = 'arn:aws:secretsmanager:eu-west-1:111111111111:secret:MySecret-f3gDy9';
    // WHEN
    const secret = secretsmanager.Secret.fromSecretArn(stack, 'Secret', secretArn);
    // THEN
    expect(secret.secretArn).toBe(secretArn);
    expect(secret.secretFullArn).toBe(secretArn);
    expect(secret.secretName).toBe('MySecret');
    expect(secret.encryptionKey).toBeUndefined();
    expect(stack.resolve(secret.secretValue)).toEqual(`{{resolve:secretsmanager:${secretArn}:SecretString:::}}`);
    expect(stack.resolve(secret.secretValueFromJson('password'))).toEqual(`{{resolve:secretsmanager:${secretArn}:SecretString:password::}}`);
});
test('import by secretArn throws if ARN is malformed', () => {
    // GIVEN
    const arnWithoutResourceName = 'arn:aws:secretsmanager:eu-west-1:111111111111:secret';
    // WHEN
    expect(() => secretsmanager.Secret.fromSecretAttributes(stack, 'Secret1', {
        secretPartialArn: arnWithoutResourceName,
    })).toThrow(/invalid ARN format/);
});
(0, cdk_build_tools_1.testDeprecated)('import by secretArn supports secret ARNs without suffixes', () => {
    // GIVEN
    const arnWithoutSecretsManagerSuffix = 'arn:aws:secretsmanager:eu-west-1:111111111111:secret:MySecret';
    // WHEN
    const secret = secretsmanager.Secret.fromSecretArn(stack, 'Secret', arnWithoutSecretsManagerSuffix);
    // THEN
    expect(secret.secretArn).toBe(arnWithoutSecretsManagerSuffix);
    expect(secret.secretName).toBe('MySecret');
});
(0, cdk_build_tools_1.testDeprecated)('import by secretArn does not strip suffixes unless the suffix length is six', () => {
    // GIVEN
    const arnWith5CharacterSuffix = 'arn:aws:secretsmanager:eu-west-1:111111111111:secret:github-token';
    const arnWith6CharacterSuffix = 'arn:aws:secretsmanager:eu-west-1:111111111111:secret:github-token-f3gDy9';
    const arnWithMultiple6CharacterSuffix = 'arn:aws:secretsmanager:eu-west-1:111111111111:secret:github-token-f3gDy9-acb123';
    // THEN
    expect(secretsmanager.Secret.fromSecretArn(stack, 'Secret5', arnWith5CharacterSuffix).secretName).toEqual('github-token');
    expect(secretsmanager.Secret.fromSecretArn(stack, 'Secret6', arnWith6CharacterSuffix).secretName).toEqual('github-token');
    expect(secretsmanager.Secret.fromSecretArn(stack, 'Secret6Twice', arnWithMultiple6CharacterSuffix).secretName).toEqual('github-token-f3gDy9');
});
test('import by secretArn supports tokens for ARNs', () => {
    // GIVEN
    const stackA = new cdk.Stack(app, 'StackA');
    const stackB = new cdk.Stack(app, 'StackB');
    const secretA = new secretsmanager.Secret(stackA, 'SecretA');
    // WHEN
    const secretB = secretsmanager.Secret.fromSecretCompleteArn(stackB, 'SecretB', secretA.secretArn);
    new cdk.CfnOutput(stackB, 'secretBSecretName', { value: secretB.secretName });
    // THEN
    expect(secretB.secretArn).toBe(secretA.secretArn);
    assertions_1.Template.fromStack(stackB).hasOutput('secretBSecretName', {
        Value: { 'Fn::Select': [6, { 'Fn::Split': [':', { 'Fn::ImportValue': 'StackA:ExportsOutputRefSecretA188F281703FC8A52' }] }] },
    });
});
(0, cdk_build_tools_1.testDeprecated)('import by secretArn guesses at complete or partial ARN', () => {
    // GIVEN
    const secretArnWithSuffix = 'arn:aws:secretsmanager:eu-west-1:111111111111:secret:MySecret-f3gDy9';
    const secretArnWithoutSuffix = 'arn:aws:secretsmanager:eu-west-1:111111111111:secret:MySecret';
    // WHEN
    const secretWithCompleteArn = secretsmanager.Secret.fromSecretArn(stack, 'SecretWith', secretArnWithSuffix);
    const secretWithoutCompleteArn = secretsmanager.Secret.fromSecretArn(stack, 'SecretWithout', secretArnWithoutSuffix);
    // THEN
    expect(secretWithCompleteArn.secretFullArn).toEqual(secretArnWithSuffix);
    expect(secretWithoutCompleteArn.secretFullArn).toBeUndefined();
});
test('fromSecretCompleteArn', () => {
    // GIVEN
    const secretArn = 'arn:aws:secretsmanager:eu-west-1:111111111111:secret:MySecret-f3gDy9';
    // WHEN
    const secret = secretsmanager.Secret.fromSecretCompleteArn(stack, 'Secret', secretArn);
    // THEN
    expect(secret.secretArn).toBe(secretArn);
    expect(secret.secretFullArn).toBe(secretArn);
    expect(secret.secretName).toBe('MySecret');
    expect(secret.encryptionKey).toBeUndefined();
    expect(stack.resolve(secret.secretValue)).toEqual(`{{resolve:secretsmanager:${secretArn}:SecretString:::}}`);
    expect(stack.resolve(secret.secretValueFromJson('password'))).toEqual(`{{resolve:secretsmanager:${secretArn}:SecretString:password::}}`);
});
test('fromSecretCompleteArn - grants', () => {
    // GIVEN
    const secretArn = 'arn:aws:secretsmanager:eu-west-1:111111111111:secret:MySecret-f3gDy9';
    const secret = secretsmanager.Secret.fromSecretCompleteArn(stack, 'Secret', secretArn);
    const role = new iam.Role(stack, 'Role', { assumedBy: new iam.AccountRootPrincipal() });
    // WHEN
    secret.grantRead(role);
    secret.grantWrite(role);
    // THEN
    assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::IAM::Policy', {
        PolicyDocument: {
            Version: '2012-10-17',
            Statement: [{
                    Action: [
                        'secretsmanager:GetSecretValue',
                        'secretsmanager:DescribeSecret',
                    ],
                    Effect: 'Allow',
                    Resource: secretArn,
                },
                {
                    Action: [
                        'secretsmanager:PutSecretValue',
                        'secretsmanager:UpdateSecret',
                    ],
                    Effect: 'Allow',
                    Resource: secretArn,
                }],
        },
    });
});
test('fromSecretCompleteArn - can be assigned to a property with type number', () => {
    // GIVEN
    const secretArn = 'arn:aws:secretsmanager:eu-west-1:111111111111:secret:MySecret-f3gDy9';
    const secret = secretsmanager.Secret.fromSecretCompleteArn(stack, 'Secret', secretArn);
    // WHEN
    new lambda.Function(stack, 'MyFunction', {
        code: lambda.Code.fromInline('foo'),
        handler: 'bar',
        runtime: lambda.Runtime.NODEJS,
        memorySize: cdk.Token.asNumber(secret.secretValueFromJson('LambdaFunctionMemorySize')),
    });
    // THEN
    assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::Lambda::Function', {
        MemorySize: `{{resolve:secretsmanager:${secretArn}:SecretString:LambdaFunctionMemorySize::}}`,
    });
});
test('fromSecretPartialArn', () => {
    // GIVEN
    const secretArn = 'arn:aws:secretsmanager:eu-west-1:111111111111:secret:MySecret';
    // WHEN
    const secret = secretsmanager.Secret.fromSecretPartialArn(stack, 'Secret', secretArn);
    // THEN
    expect(secret.secretArn).toBe(secretArn);
    expect(secret.secretFullArn).toBeUndefined();
    expect(secret.secretName).toBe('MySecret');
    expect(secret.encryptionKey).toBeUndefined();
    expect(stack.resolve(secret.secretValue)).toEqual(`{{resolve:secretsmanager:${secretArn}:SecretString:::}}`);
    expect(stack.resolve(secret.secretValueFromJson('password'))).toEqual(`{{resolve:secretsmanager:${secretArn}:SecretString:password::}}`);
});
test('fromSecretPartialArn - grants', () => {
    // GIVEN
    const secretArn = 'arn:aws:secretsmanager:eu-west-1:111111111111:secret:MySecret';
    const secret = secretsmanager.Secret.fromSecretPartialArn(stack, 'Secret', secretArn);
    const role = new iam.Role(stack, 'Role', { assumedBy: new iam.AccountRootPrincipal() });
    // WHEN
    secret.grantRead(role);
    secret.grantWrite(role);
    // THEN
    assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::IAM::Policy', {
        PolicyDocument: {
            Version: '2012-10-17',
            Statement: [{
                    Action: [
                        'secretsmanager:GetSecretValue',
                        'secretsmanager:DescribeSecret',
                    ],
                    Effect: 'Allow',
                    Resource: `${secretArn}-??????`,
                },
                {
                    Action: [
                        'secretsmanager:PutSecretValue',
                        'secretsmanager:UpdateSecret',
                    ],
                    Effect: 'Allow',
                    Resource: `${secretArn}-??????`,
                }],
        },
    });
});
describe('fromSecretAttributes', () => {
    test('import by attributes', () => {
        // GIVEN
        const encryptionKey = new kms.Key(stack, 'KMS');
        const secretArn = 'arn:aws:secretsmanager:eu-west-1:111111111111:secret:MySecret-f3gDy9';
        // WHEN
        const secret = secretsmanager.Secret.fromSecretAttributes(stack, 'Secret', {
            secretCompleteArn: secretArn, encryptionKey,
        });
        // THEN
        expect(secret.secretArn).toBe(secretArn);
        expect(secret.secretFullArn).toBe(secretArn);
        expect(secret.secretName).toBe('MySecret');
        expect(secret.encryptionKey).toBe(encryptionKey);
        expect(stack.resolve(secret.secretValue)).toBe(`{{resolve:secretsmanager:${secretArn}:SecretString:::}}`);
        expect(stack.resolve(secret.secretValueFromJson('password'))).toBe(`{{resolve:secretsmanager:${secretArn}:SecretString:password::}}`);
    });
    (0, cdk_build_tools_1.testDeprecated)('throws if secretArn and either secretCompleteArn or secretPartialArn are provided', () => {
        const secretArn = 'arn:aws:secretsmanager:eu-west-1:111111111111:secret:MySecret-f3gDy9';
        const error = /cannot use `secretArn` with `secretCompleteArn` or `secretPartialArn`/;
        expect(() => secretsmanager.Secret.fromSecretAttributes(stack, 'Secret', {
            secretArn,
            secretCompleteArn: secretArn,
        })).toThrow(error);
        expect(() => secretsmanager.Secret.fromSecretAttributes(stack, 'Secret', {
            secretArn,
            secretPartialArn: secretArn,
        })).toThrow(error);
    });
    test('throws if no ARN is provided', () => {
        expect(() => secretsmanager.Secret.fromSecretAttributes(stack, 'Secret', {})).toThrow(/must use only one of `secretCompleteArn` or `secretPartialArn`/);
    });
    test('throws if both complete and partial ARNs are provided', () => {
        const secretArn = 'arn:aws:secretsmanager:eu-west-1:111111111111:secret:MySecret-f3gDy9';
        expect(() => secretsmanager.Secret.fromSecretAttributes(stack, 'Secret', {
            secretPartialArn: secretArn,
            secretCompleteArn: secretArn,
        })).toThrow(/must use only one of `secretCompleteArn` or `secretPartialArn`/);
    });
    test('throws if secretCompleteArn is not complete', () => {
        expect(() => secretsmanager.Secret.fromSecretAttributes(stack, 'Secret', {
            secretCompleteArn: 'arn:aws:secretsmanager:eu-west-1:111111111111:secret:MySecret',
        })).toThrow(/does not appear to be complete/);
    });
    test('parses environment from secretArn', () => {
        // GIVEN
        const secretAccount = '222222222222';
        // WHEN
        const secret = secretsmanager.Secret.fromSecretAttributes(stack, 'Secret', {
            secretCompleteArn: `arn:aws:secretsmanager:eu-west-1:${secretAccount}:secret:MySecret-f3gDy9`,
        });
        // THEN
        expect(secret.env.account).toBe(secretAccount);
    });
});
(0, cdk_build_tools_1.testDeprecated)('import by secret name', () => {
    // GIVEN
    const secretName = 'MySecret';
    // WHEN
    const secret = secretsmanager.Secret.fromSecretName(stack, 'Secret', secretName);
    // THEN
    expect(secret.secretArn).toBe(secretName);
    expect(secret.secretName).toBe(secretName);
    expect(secret.secretFullArn).toBeUndefined();
    expect(stack.resolve(secret.secretValue)).toBe(`{{resolve:secretsmanager:${secretName}:SecretString:::}}`);
    expect(stack.resolve(secret.secretValueFromJson('password'))).toBe(`{{resolve:secretsmanager:${secretName}:SecretString:password::}}`);
});
(0, cdk_build_tools_1.testDeprecated)('import by secret name with grants', () => {
    // GIVEN
    const role = new iam.Role(stack, 'Role', { assumedBy: new iam.AccountRootPrincipal() });
    const secret = secretsmanager.Secret.fromSecretName(stack, 'Secret', 'MySecret');
    // WHEN
    secret.grantRead(role);
    secret.grantWrite(role);
    // THEN
    const expectedSecretReference = {
        'Fn::Join': ['', [
                'arn:',
                { Ref: 'AWS::Partition' },
                ':secretsmanager:',
                { Ref: 'AWS::Region' },
                ':',
                { Ref: 'AWS::AccountId' },
                ':secret:MySecret*',
            ]],
    };
    assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::IAM::Policy', {
        PolicyDocument: {
            Version: '2012-10-17',
            Statement: [{
                    Action: [
                        'secretsmanager:GetSecretValue',
                        'secretsmanager:DescribeSecret',
                    ],
                    Effect: 'Allow',
                    Resource: expectedSecretReference,
                },
                {
                    Action: [
                        'secretsmanager:PutSecretValue',
                        'secretsmanager:UpdateSecret',
                    ],
                    Effect: 'Allow',
                    Resource: expectedSecretReference,
                }],
        },
    });
});
test('import by secret name v2', () => {
    // GIVEN
    const secretName = 'MySecret';
    // WHEN
    const secret = secretsmanager.Secret.fromSecretNameV2(stack, 'Secret', secretName);
    // THEN
    expect(secret.secretArn).toBe(`arn:${stack.partition}:secretsmanager:${stack.region}:${stack.account}:secret:MySecret`);
    expect(secret.secretName).toBe(secretName);
    expect(secret.secretFullArn).toBeUndefined();
    expect(stack.resolve(secret.secretValue)).toEqual({
        'Fn::Join': ['', [
                '{{resolve:secretsmanager:arn:',
                { Ref: 'AWS::Partition' },
                ':secretsmanager:',
                { Ref: 'AWS::Region' },
                ':',
                { Ref: 'AWS::AccountId' },
                ':secret:MySecret:SecretString:::}}',
            ]],
    });
});
test('import by secret name v2 with grants', () => {
    // GIVEN
    const role = new iam.Role(stack, 'Role', { assumedBy: new iam.AccountRootPrincipal() });
    const secret = secretsmanager.Secret.fromSecretNameV2(stack, 'Secret', 'MySecret');
    // WHEN
    secret.grantRead(role);
    secret.grantWrite(role);
    // THEN
    const expectedSecretReference = {
        'Fn::Join': ['', [
                'arn:',
                { Ref: 'AWS::Partition' },
                ':secretsmanager:',
                { Ref: 'AWS::Region' },
                ':',
                { Ref: 'AWS::AccountId' },
                ':secret:MySecret-??????',
            ]],
    };
    assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::IAM::Policy', {
        PolicyDocument: {
            Version: '2012-10-17',
            Statement: [{
                    Action: [
                        'secretsmanager:GetSecretValue',
                        'secretsmanager:DescribeSecret',
                    ],
                    Effect: 'Allow',
                    Resource: expectedSecretReference,
                },
                {
                    Action: [
                        'secretsmanager:PutSecretValue',
                        'secretsmanager:UpdateSecret',
                    ],
                    Effect: 'Allow',
                    Resource: expectedSecretReference,
                }],
        },
    });
});
test('can attach a secret with attach()', () => {
    // GIVEN
    const secret = new secretsmanager.Secret(stack, 'Secret');
    // WHEN
    secret.attach({
        asSecretAttachmentTarget: () => ({
            targetId: 'target-id',
            targetType: secretsmanager.AttachmentTargetType.DOCDB_DB_INSTANCE,
        }),
    });
    // THEN
    assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::SecretsManager::SecretTargetAttachment', {
        SecretId: {
            Ref: 'SecretA720EF05',
        },
        TargetId: 'target-id',
        TargetType: 'AWS::DocDB::DBInstance',
    });
});
test('throws when trying to attach a target multiple times to a secret', () => {
    // GIVEN
    const secret = new secretsmanager.Secret(stack, 'Secret');
    const target = {
        asSecretAttachmentTarget: () => ({
            targetId: 'target-id',
            targetType: secretsmanager.AttachmentTargetType.DOCDB_DB_INSTANCE,
        }),
    };
    secret.attach(target);
    // THEN
    expect(() => secret.attach(target)).toThrow(/Secret is already attached to a target/);
});
test('add a rotation schedule to an attached secret', () => {
    // GIVEN
    const secret = new secretsmanager.Secret(stack, 'Secret');
    const attachedSecret = secret.attach({
        asSecretAttachmentTarget: () => ({
            targetId: 'target-id',
            targetType: secretsmanager.AttachmentTargetType.DOCDB_DB_INSTANCE,
        }),
    });
    const rotationLambda = new lambda.Function(stack, 'Lambda', {
        runtime: lambda.Runtime.NODEJS_14_X,
        code: lambda.Code.fromInline('export.handler = event => event;'),
        handler: 'index.handler',
    });
    // WHEN
    attachedSecret.addRotationSchedule('RotationSchedule', {
        rotationLambda,
    });
    // THEN
    assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::SecretsManager::RotationSchedule', {
        SecretId: {
            Ref: 'SecretAttachment2E1B7C3B', // The secret returned by the attachment, not the secret itself.
        },
    });
});
test('throws when specifying secretStringTemplate but not generateStringKey', () => {
    expect(() => new secretsmanager.Secret(stack, 'Secret', {
        generateSecretString: {
            secretStringTemplate: JSON.stringify({ username: 'username' }),
        },
    })).toThrow(/`secretStringTemplate`.+`generateStringKey`/);
});
test('throws when specifying generateStringKey but not secretStringTemplate', () => {
    expect(() => new secretsmanager.Secret(stack, 'Secret', {
        generateSecretString: {
            generateStringKey: 'password',
        },
    })).toThrow(/`secretStringTemplate`.+`generateStringKey`/);
});
test('equivalence of SecretValue and Secret.fromSecretAttributes', () => {
    // GIVEN
    const secretArn = 'arn:aws:secretsmanager:eu-west-1:111111111111:secret:MySecret-f3gDy9';
    // WHEN
    const imported = secretsmanager.Secret.fromSecretAttributes(stack, 'Imported', { secretCompleteArn: secretArn }).secretValueFromJson('password');
    const value = cdk.SecretValue.secretsManager(secretArn, { jsonField: 'password' });
    // THEN
    expect(stack.resolve(imported)).toEqual(stack.resolve(value));
});
test('can add to the resource policy of a secret', () => {
    // GIVEN
    const secret = new secretsmanager.Secret(stack, 'Secret');
    // WHEN
    secret.addToResourcePolicy(new iam.PolicyStatement({
        actions: ['secretsmanager:GetSecretValue'],
        resources: ['*'],
        principals: [new iam.ArnPrincipal('arn:aws:iam::123456789012:user/cool-user')],
    }));
    // THEN
    assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::SecretsManager::ResourcePolicy', {
        ResourcePolicy: {
            Statement: [
                {
                    Action: 'secretsmanager:GetSecretValue',
                    Effect: 'Allow',
                    Principal: {
                        AWS: 'arn:aws:iam::123456789012:user/cool-user',
                    },
                    Resource: '*',
                },
            ],
            Version: '2012-10-17',
        },
        SecretId: {
            Ref: 'SecretA720EF05',
        },
    });
});
test('fails if secret policy has no actions', () => {
    // GIVEN
    stack = new cdk.Stack(app, 'my-stack');
    const secret = new secretsmanager.Secret(stack, 'Secret');
    // WHEN
    secret.addToResourcePolicy(new iam.PolicyStatement({
        resources: ['*'],
        principals: [new iam.ArnPrincipal('arn')],
    }));
    // THEN
    expect(() => app.synth()).toThrow(/A PolicyStatement must specify at least one \'action\' or \'notAction\'/);
});
test('fails if secret policy has no IAM principals', () => {
    // GIVEN
    stack = new cdk.Stack(app, 'my-stack');
    const secret = new secretsmanager.Secret(stack, 'Secret');
    // WHEN
    secret.addToResourcePolicy(new iam.PolicyStatement({
        resources: ['*'],
        actions: ['secretsmanager:*'],
    }));
    // THEN
    expect(() => app.synth()).toThrow(/A PolicyStatement used in a resource-based policy must specify at least one IAM principal/);
});
test('with replication regions', () => {
    // WHEN
    const secret = new secretsmanager.Secret(stack, 'Secret', {
        replicaRegions: [{ region: 'eu-west-1' }],
    });
    secret.addReplicaRegion('eu-central-1', kms.Key.fromKeyArn(stack, 'Key', 'arn:aws:kms:eu-central-1:123456789012:key/my-key-id'));
    // THEN
    assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::SecretsManager::Secret', {
        ReplicaRegions: [
            { Region: 'eu-west-1' },
            {
                KmsKeyId: 'arn:aws:kms:eu-central-1:123456789012:key/my-key-id',
                Region: 'eu-central-1',
            },
        ],
    });
});
describe('secretObjectValue', () => {
    test('can be used with a mixture of plain text and SecretValue', () => {
        const user = new iam.User(stack, 'User');
        const accessKey = new iam.AccessKey(stack, 'MyKey', { user });
        new secretsmanager.Secret(stack, 'Secret', {
            secretObjectValue: {
                username: cdk.SecretValue.unsafePlainText('username'),
                password: accessKey.secretAccessKey,
            },
        });
        assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::SecretsManager::Secret', {
            GenerateSecretString: assertions_1.Match.absent(),
            SecretString: {
                'Fn::Join': [
                    '',
                    [
                        '{"username":"username","password":"',
                        { 'Fn::GetAtt': ['MyKey6AB29FA6', 'SecretAccessKey'] },
                        '"}',
                    ],
                ],
            },
        });
    });
    test('can be used with a mixture of plain text and SecretValue, with feature flag', () => {
        const featureStack = new cdk.Stack();
        featureStack.node.setContext('@aws-cdk/core:checkSecretUsage', true);
        const user = new iam.User(featureStack, 'User');
        const accessKey = new iam.AccessKey(featureStack, 'MyKey', { user });
        new secretsmanager.Secret(featureStack, 'Secret', {
            secretObjectValue: {
                username: cdk.SecretValue.unsafePlainText('username'),
                password: accessKey.secretAccessKey,
            },
        });
        assertions_1.Template.fromStack(featureStack).hasResourceProperties('AWS::SecretsManager::Secret', {
            GenerateSecretString: assertions_1.Match.absent(),
            SecretString: {
                'Fn::Join': [
                    '',
                    [
                        '{"username":"username","password":"',
                        { 'Fn::GetAtt': ['MyKey6AB29FA6', 'SecretAccessKey'] },
                        '"}',
                    ],
                ],
            },
        });
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VjcmV0LnRlc3QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJzZWNyZXQudGVzdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLGlEQUFtRDtBQUNuRCxxQ0FBcUM7QUFDckMscUNBQXFDO0FBQ3JDLDJDQUEyQztBQUMzQyw4REFBMEQ7QUFDMUQsa0NBQWtDO0FBQ2xDLHlDQUF5QztBQUV6QyxJQUFJLEdBQVksQ0FBQztBQUNqQixJQUFJLEtBQWdCLENBQUM7QUFDckIsVUFBVSxDQUFDLEdBQUcsRUFBRTtJQUNkLEdBQUcsR0FBRyxJQUFJLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztJQUNwQixLQUFLLEdBQUcsSUFBSSxHQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQzdCLENBQUMsQ0FBQyxDQUFDO0FBRUgsSUFBSSxDQUFDLGdCQUFnQixFQUFFLEdBQUcsRUFBRTtJQUMxQixPQUFPO0lBQ1AsSUFBSSxjQUFjLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxRQUFRLENBQUMsQ0FBQztJQUUzQyxPQUFPO0lBQ1AscUJBQVEsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMscUJBQXFCLENBQUMsNkJBQTZCLEVBQUU7UUFDN0Usb0JBQW9CLEVBQUUsRUFBRTtLQUN6QixDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQztBQUVILElBQUksQ0FBQyw2QkFBNkIsRUFBRSxHQUFHLEVBQUU7SUFDdkMsT0FBTztJQUNQLElBQUksY0FBYyxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsUUFBUSxFQUFFO1FBQ3pDLGFBQWEsRUFBRSxHQUFHLENBQUMsYUFBYSxDQUFDLE1BQU07S0FDeEMsQ0FBQyxDQUFDO0lBRUgsT0FBTztJQUNQLHFCQUFRLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDLFdBQVcsQ0FBQyw2QkFBNkIsRUFBRTtRQUNuRSxjQUFjLEVBQUUsUUFBUTtLQUN6QixDQUFDLENBQUM7QUFDTCxDQUFD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QUFFLE9BQU8sRUFBRSxFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7UUFDckUsSUFBSSxjQUFjLENBQUMsTUFBTSxDQUFDLFlBQVksRUFBRSxRQUFRLEVBQUU7WUFDaEQsaUJBQWlCLEVBQUU7Z0JBQ2pCLFFBQVEsRUFBRSxHQUFHLENBQUMsV0FBVyxDQUFDLGVBQWUsQ0FBQyxVQUFVLENBQUM7Z0JBQ3JELFFBQVEsRUFBRSxTQUFTLENBQUMsZUFBZTthQUNwQztTQUNGLENBQUMsQ0FBQztRQUVILHFCQUFRLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxDQUFDLHFCQUFxQixDQUFDLDZCQUE2QixFQUFFO1lBQ3BGLG9CQUFvQixFQUFFLGtCQUFLLENBQUMsTUFBTSxFQUFFO1lBQ3BDLFlBQVksRUFBRTtnQkFDWixVQUFVLEVBQUU7b0JBQ1YsRUFBRTtvQkFDRjt3QkFDRSxxQ0FBcUM7d0JBQ3JDLEVBQUUsWUFBWSxFQUFFLENBQUMsZUFBZSxFQUFFLGlCQUFpQixDQUFDLEVBQUU7d0JBQ3RELElBQUk7cUJBQ0w7aUJBQ0Y7YUFDRjtTQUNGLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNYXRjaCwgVGVtcGxhdGUgfSBmcm9tICcuLi8uLi9hc3NlcnRpb25zJztcbmltcG9ydCAqIGFzIGlhbSBmcm9tICcuLi8uLi9hd3MtaWFtJztcbmltcG9ydCAqIGFzIGttcyBmcm9tICcuLi8uLi9hd3Mta21zJztcbmltcG9ydCAqIGFzIGxhbWJkYSBmcm9tICcuLi8uLi9hd3MtbGFtYmRhJztcbmltcG9ydCB7IHRlc3REZXByZWNhdGVkIH0gZnJvbSAnQGF3cy1jZGsvY2RrLWJ1aWxkLXRvb2xzJztcbmltcG9ydCAqIGFzIGNkayBmcm9tICcuLi8uLi9jb3JlJztcbmltcG9ydCAqIGFzIHNlY3JldHNtYW5hZ2VyIGZyb20gJy4uL2xpYic7XG5cbmxldCBhcHA6IGNkay5BcHA7XG5sZXQgc3RhY2s6IGNkay5TdGFjaztcbmJlZm9yZUVhY2goKCkgPT4ge1xuICBhcHAgPSBuZXcgY2RrLkFwcCgpO1xuICBzdGFjayA9IG5ldyBjZGsuU3RhY2soYXBwKTtcbn0pO1xuXG50ZXN0KCdkZWZhdWx0IHNlY3JldCcsICgpID0+IHtcbiAgLy8gV0hFTlxuICBuZXcgc2VjcmV0c21hbmFnZXIuU2VjcmV0KHN0YWNrLCAnU2VjcmV0Jyk7XG5cbiAgLy8gVEhFTlxuICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpTZWNyZXRzTWFuYWdlcjo6U2VjcmV0Jywge1xuICAgIEdlbmVyYXRlU2VjcmV0U3RyaW5nOiB7fSxcbiAgfSk7XG59KTtcblxudGVzdCgnc2V0IHJlbW92YWxQb2xpY3kgdG8gc2VjcmV0JywgKCkgPT4ge1xuICAvLyBXSEVOXG4gIG5ldyBzZWNyZXRzbWFuYWdlci5TZWNyZXQoc3RhY2ssICdTZWNyZXQnLCB7XG4gICAgcmVtb3ZhbFBvbGljeTogY2RrLlJlbW92YWxQb2xpY3kuUkVUQUlOLFxuICB9KTtcblxuICAvLyBUSEVOXG4gIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2UoJ0FXUzo6U2VjcmV0c01hbmFnZXI6OlNlY3JldCcsIHtcbiAgICBEZWxldGlvblBvbGljeTogJ1JldGFpbicsXG4gIH0pO1xufSk7XG5cbnRlc3QoJ3NlY3JldCB3aXRoIGttcycsICgpID0+IHtcbiAgLy8gR0lWRU5cbiAgY29uc3Qga2V5ID0gbmV3IGttcy5LZXkoc3RhY2ssICdLTVMnKTtcblxuICAvLyBXSEVOXG4gIG5ldyBzZWNyZXRzbWFuYWdlci5TZWNyZXQoc3RhY2ssICdTZWNyZXQnLCB7IGVuY3J5cHRpb25LZXk6IGtleSB9KTtcblxuICAvLyBUSEVOXG4gIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OktNUzo6S2V5Jywge1xuICAgIEtleVBvbGljeToge1xuICAgICAgU3RhdGVtZW50OiBNYXRjaC5hcnJheVdpdGgoW1xuICAgICAgICB7XG4gICAgICAgICAgRWZmZWN0OiAnQWxsb3cnLFxuICAgICAgICAgIFJlc291cmNlOiAnKicsXG4gICAgICAgICAgQWN0aW9uOiBbXG4gICAgICAgICAgICAna21zOkRlY3J5cHQnLFxuICAgICAgICAgICAgJ2ttczpFbmNyeXB0JyxcbiAgICAgICAgICAgICdrbXM6UmVFbmNyeXB0KicsXG4gICAgICAgICAgICAna21zOkdlbmVyYXRlRGF0YUtleSonLFxuICAgICAgICAgIF0sXG4gICAgICAgICAgUHJpbmNpcGFsOiB7XG4gICAgICAgICAgICBBV1M6IHtcbiAgICAgICAgICAgICAgJ0ZuOjpKb2luJzogW1xuICAgICAgICAgICAgICAgICcnLFxuICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICdhcm46JyxcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgUmVmOiAnQVdTOjpQYXJ0aXRpb24nLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICc6aWFtOjonLFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBSZWY6ICdBV1M6OkFjY291bnRJZCcsXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgJzpyb290JyxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIENvbmRpdGlvbjoge1xuICAgICAgICAgICAgU3RyaW5nRXF1YWxzOiB7XG4gICAgICAgICAgICAgICdrbXM6VmlhU2VydmljZSc6IHtcbiAgICAgICAgICAgICAgICAnRm46OkpvaW4nOiBbXG4gICAgICAgICAgICAgICAgICAnJyxcbiAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgJ3NlY3JldHNtYW5hZ2VyLicsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICBSZWY6ICdBV1M6OlJlZ2lvbicsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICcuYW1hem9uYXdzLmNvbScsXG4gICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBFZmZlY3Q6ICdBbGxvdycsXG4gICAgICAgICAgUmVzb3VyY2U6ICcqJyxcbiAgICAgICAgICBBY3Rpb246IFtcbiAgICAgICAgICAgICdrbXM6Q3JlYXRlR3JhbnQnLFxuICAgICAgICAgICAgJ2ttczpEZXNjcmliZUtleScsXG4gICAgICAgICAgXSxcbiAgICAgICAgICBQcmluY2lwYWw6IHtcbiAgICAgICAgICAgIEFXUzoge1xuICAgICAgICAgICAgICAnRm46OkpvaW4nOiBbXG4gICAgICAgICAgICAgICAgJycsXG4gICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgJ2FybjonLFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBSZWY6ICdBV1M6OlBhcnRpdGlvbicsXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgJzppYW06OicsXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFJlZjogJ0FXUzo6QWNjb3VudElkJyxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAnOnJvb3QnLFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgICAgQ29uZGl0aW9uOiB7XG4gICAgICAgICAgICBTdHJpbmdFcXVhbHM6IHtcbiAgICAgICAgICAgICAgJ2ttczpWaWFTZXJ2aWNlJzoge1xuICAgICAgICAgICAgICAgICdGbjo6Sm9pbic6IFtcbiAgICAgICAgICAgICAgICAgICcnLFxuICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAnc2VjcmV0c21hbmFnZXIuJyxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIFJlZjogJ0FXUzo6UmVnaW9uJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgJy5hbWF6b25hd3MuY29tJyxcbiAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIF0pLFxuICAgICAgVmVyc2lvbjogJzIwMTItMTAtMTcnLFxuICAgIH0sXG4gIH0pO1xufSk7XG5cbnRlc3QoJ3NlY3JldCB3aXRoIGdlbmVyYXRlIHNlY3JldCBzdHJpbmcgb3B0aW9ucycsICgpID0+IHtcbiAgLy8gV0hFTlxuICBuZXcgc2VjcmV0c21hbmFnZXIuU2VjcmV0KHN0YWNrLCAnU2VjcmV0Jywge1xuICAgIGdlbmVyYXRlU2VjcmV0U3RyaW5nOiB7XG4gICAgICBleGNsdWRlVXBwZXJjYXNlOiB0cnVlLFxuICAgICAgcGFzc3dvcmRMZW5ndGg6IDIwLFxuICAgIH0sXG4gIH0pO1xuXG4gIC8vIFRIRU5cbiAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6U2VjcmV0c01hbmFnZXI6OlNlY3JldCcsIHtcbiAgICBHZW5lcmF0ZVNlY3JldFN0cmluZzoge1xuICAgICAgRXhjbHVkZVVwcGVyY2FzZTogdHJ1ZSxcbiAgICAgIFBhc3N3b3JkTGVuZ3RoOiAyMCxcbiAgICB9LFxuICB9KTtcbn0pO1xuXG50ZXN0KCd0ZW1wbGF0ZWQgc2VjcmV0IHN0cmluZycsICgpID0+IHtcbiAgLy8gV0hFTlxuICBuZXcgc2VjcmV0c21hbmFnZXIuU2VjcmV0KHN0YWNrLCAnU2VjcmV0Jywge1xuICAgIGdlbmVyYXRlU2VjcmV0U3RyaW5nOiB7XG4gICAgICBzZWNyZXRTdHJpbmdUZW1wbGF0ZTogSlNPTi5zdHJpbmdpZnkoeyB1c2VybmFtZTogJ3VzZXJuYW1lJyB9KSxcbiAgICAgIGdlbmVyYXRlU3RyaW5nS2V5OiAncGFzc3dvcmQnLFxuICAgIH0sXG4gIH0pO1xuXG4gIC8vIFRIRU5cbiAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6U2VjcmV0c01hbmFnZXI6OlNlY3JldCcsIHtcbiAgICBHZW5lcmF0ZVNlY3JldFN0cmluZzoge1xuICAgICAgU2VjcmV0U3RyaW5nVGVtcGxhdGU6ICd7XCJ1c2VybmFtZVwiOlwidXNlcm5hbWVcIn0nLFxuICAgICAgR2VuZXJhdGVTdHJpbmdLZXk6ICdwYXNzd29yZCcsXG4gICAgfSxcbiAgfSk7XG59KTtcblxuZGVzY3JpYmUoJ3NlY3JldFN0cmluZ0JldGExJywgKCkgPT4ge1xuICBsZXQgdXNlcjogaWFtLlVzZXI7XG4gIGxldCBhY2Nlc3NLZXk6IGlhbS5BY2Nlc3NLZXk7XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgdXNlciA9IG5ldyBpYW0uVXNlcihzdGFjaywgJ1VzZXInKTtcbiAgICBhY2Nlc3NLZXkgPSBuZXcgaWFtLkFjY2Vzc0tleShzdGFjaywgJ015S2V5JywgeyB1c2VyIH0pO1xuICB9KTtcblxuICB0ZXN0RGVwcmVjYXRlZCgnZnJvbVVuc2FmZVBsYWludGV4dCBhbGxvd3Mgc3BlY2lmeWluZyBhIHBsYWludGV4dCBzdHJpbmcnLCAoKSA9PiB7XG4gICAgbmV3IHNlY3JldHNtYW5hZ2VyLlNlY3JldChzdGFjaywgJ1NlY3JldCcsIHtcbiAgICAgIHNlY3JldFN0cmluZ0JldGExOiBzZWNyZXRzbWFuYWdlci5TZWNyZXRTdHJpbmdWYWx1ZUJldGExLmZyb21VbnNhZmVQbGFpbnRleHQoJ3Vuc2FmZVBAJCQnKSxcbiAgICB9KTtcblxuICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OlNlY3JldHNNYW5hZ2VyOjpTZWNyZXQnLCB7XG4gICAgICBHZW5lcmF0ZVNlY3JldFN0cmluZzogTWF0Y2guYWJzZW50KCksXG4gICAgICBTZWNyZXRTdHJpbmc6ICd1bnNhZmVQQCQkJyxcbiAgICB9KTtcbiAgfSk7XG5cbiAgdGVzdERlcHJlY2F0ZWQoJ3RvVG9rZW4gdGhyb3dzIHdoZW4gcHJvdmlkZWQgYW4gdW5zYWZlIHBsYWludGV4dCBzdHJpbmcnLCAoKSA9PiB7XG4gICAgZXhwZWN0KCgpID0+IG5ldyBzZWNyZXRzbWFuYWdlci5TZWNyZXQoc3RhY2ssICdTZWNyZXQnLCB7XG4gICAgICBzZWNyZXRTdHJpbmdCZXRhMTogc2VjcmV0c21hbmFnZXIuU2VjcmV0U3RyaW5nVmFsdWVCZXRhMS5mcm9tVG9rZW4oJ3Vuc2FmZVBAJCQnKSxcbiAgICB9KSkudG9UaHJvdygvYXBwZWFycyB0byBiZSBwbGFpbnRleHQvKTtcbiAgfSk7XG5cbiAgdGVzdERlcHJlY2F0ZWQoJ3RvVG9rZW4gYWxsb3dzIHJlZmVyZW5jaW5nIGEgY29uc3RydWN0IGF0dHJpYnV0ZScsICgpID0+IHtcbiAgICBuZXcgc2VjcmV0c21hbmFnZXIuU2VjcmV0KHN0YWNrLCAnU2VjcmV0Jywge1xuICAgICAgc2VjcmV0U3RyaW5nQmV0YTE6IHNlY3JldHNtYW5hZ2VyLlNlY3JldFN0cmluZ1ZhbHVlQmV0YTEuZnJvbVRva2VuKGFjY2Vzc0tleS5zZWNyZXRBY2Nlc3NLZXkudG9TdHJpbmcoKSksXG4gICAgfSk7XG5cbiAgICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpTZWNyZXRzTWFuYWdlcjo6U2VjcmV0Jywge1xuICAgICAgR2VuZXJhdGVTZWNyZXRTdHJpbmc6IE1hdGNoLmFic2VudCgpLFxuICAgICAgU2VjcmV0U3RyaW5nOiB7ICdGbjo6R2V0QXR0JzogWydNeUtleTZBQjI5RkE2JywgJ1NlY3JldEFjY2Vzc0tleSddIH0sXG4gICAgfSk7XG4gIH0pO1xuXG4gIHRlc3REZXByZWNhdGVkKCd0b1Rva2VuIGFsbG93cyByZWZlcmVuY2luZyBhIGNvbnN0cnVjdCBhdHRyaWJ1dGUgaW4gbmVzdGVkIEpTT04nLCAoKSA9PiB7XG4gICAgY29uc3Qgc2VjcmV0U3RyaW5nID0gc2VjcmV0c21hbmFnZXIuU2VjcmV0U3RyaW5nVmFsdWVCZXRhMS5mcm9tVG9rZW4oSlNPTi5zdHJpbmdpZnkoe1xuICAgICAga2V5OiBhY2Nlc3NLZXkuc2VjcmV0QWNjZXNzS2V5LnRvU3RyaW5nKCksXG4gICAgICB1c2VybmFtZTogJ215VXNlcicsXG4gICAgfSkpO1xuICAgIG5ldyBzZWNyZXRzbWFuYWdlci5TZWNyZXQoc3RhY2ssICdTZWNyZXQnLCB7XG4gICAgICBzZWNyZXRTdHJpbmdCZXRhMTogc2VjcmV0U3RyaW5nLFxuICAgIH0pO1xuXG4gICAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6U2VjcmV0c01hbmFnZXI6OlNlY3JldCcsIHtcbiAgICAgIEdlbmVyYXRlU2VjcmV0U3RyaW5nOiBNYXRjaC5hYnNlbnQoKSxcbiAgICAgIFNlY3JldFN0cmluZzoge1xuICAgICAgICAnRm46OkpvaW4nOiBbXG4gICAgICAgICAgJycsXG4gICAgICAgICAgW1xuICAgICAgICAgICAgJ3tcImtleVwiOlwiJyxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgJ0ZuOjpHZXRBdHQnOiBbXG4gICAgICAgICAgICAgICAgJ015S2V5NkFCMjlGQTYnLFxuICAgICAgICAgICAgICAgICdTZWNyZXRBY2Nlc3NLZXknLFxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICdcIixcInVzZXJuYW1lXCI6XCJteVVzZXJcIn0nLFxuICAgICAgICAgIF0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgIH0pO1xuICB9KTtcblxuICB0ZXN0RGVwcmVjYXRlZCgndG9Ub2tlbiB0aHJvd3MgaWYgcHJvdmlkZWQgYSByZXNvbHZlZCB0b2tlbicsICgpID0+IHtcbiAgICAvLyBOT1RFIC0gVGhpcyBpcyBhY3R1YWxseSBub3QgZGVzaXJlZCBiZWhhdmlvciwgYnV0IHRoZSBzaW1wbGUgYCFUb2tlbi5pc1VucmVzb2x2ZWRgXG4gICAgLy8gY2hlY2sgaXMgdGhlIHNpbXBsZXN0IGFuZCBtb3N0IGNvbnNpc3RlbnQgdG8gaW1wbGVtZW50LiBDb3ZlcmluZyB0aGlzIGVkZ2UgY2FzZSBvZlxuICAgIC8vIGEgcmVzb2x2ZWQgVG9rZW4gcmVwcmVzZW50aW5nIGEgUmVmL0ZuOjpHZXRBdHQgaXMgb3V0IG9mIHNjb3BlIGZvciB0aGlzIGluaXRpYWwgcGFzcy5cbiAgICBjb25zdCBzZWNyZXRLZXkgPSBzdGFjay5yZXNvbHZlKGFjY2Vzc0tleS5zZWNyZXRBY2Nlc3NLZXkpO1xuICAgIGV4cGVjdCgoKSA9PiBuZXcgc2VjcmV0c21hbmFnZXIuU2VjcmV0KHN0YWNrLCAnU2VjcmV0Jywge1xuICAgICAgc2VjcmV0U3RyaW5nQmV0YTE6IHNlY3JldHNtYW5hZ2VyLlNlY3JldFN0cmluZ1ZhbHVlQmV0YTEuZnJvbVRva2VuKHNlY3JldEtleSksXG4gICAgfSkpLnRvVGhyb3coL2FwcGVhcnMgdG8gYmUgcGxhaW50ZXh0Lyk7XG4gIH0pO1xuXG4gIHRlc3REZXByZWNhdGVkKCd0aHJvd3MgaWYgYm90aCBnZW5lcmF0ZVNlY3JldFN0cmluZyBhbmQgc2VjcmV0U3RyaW5nQmV0YTEgYXJlIHByb3ZpZGVkJywgKCkgPT4ge1xuICAgIGV4cGVjdCgoKSA9PiBuZXcgc2VjcmV0c21hbmFnZXIuU2VjcmV0KHN0YWNrLCAnU2VjcmV0Jywge1xuICAgICAgZ2VuZXJhdGVTZWNyZXRTdHJpbmc6IHtcbiAgICAgICAgZ2VuZXJhdGVTdHJpbmdLZXk6ICd1c2VybmFtZScsXG4gICAgICAgIHNlY3JldFN0cmluZ1RlbXBsYXRlOiBKU09OLnN0cmluZ2lmeSh7IHVzZXJuYW1lOiAndXNlcm5hbWUnIH0pLFxuICAgICAgfSxcbiAgICAgIHNlY3JldFN0cmluZ0JldGExOiBzZWNyZXRzbWFuYWdlci5TZWNyZXRTdHJpbmdWYWx1ZUJldGExLmZyb21Ub2tlbihhY2Nlc3NLZXkuc2VjcmV0QWNjZXNzS2V5LnRvU3RyaW5nKCkpLFxuICAgIH0pKS50b1Rocm93KC9DYW5ub3Qgc3BlY2lmeS8pO1xuICB9KTtcbn0pO1xuXG5kZXNjcmliZSgnc2VjcmV0U3RyaW5nVmFsdWUnLCAoKSA9PiB7XG4gIHRlc3QoJ2NhbiByZWZlcmVuY2UgYW4gSUFNIHVzZXIgYWNjZXNzIGtleScsICgpID0+IHtcbiAgICBjb25zdCB1c2VyID0gbmV3IGlhbS5Vc2VyKHN0YWNrLCAnVXNlcicpO1xuICAgIGNvbnN0IGFjY2Vzc0tleSA9IG5ldyBpYW0uQWNjZXNzS2V5KHN0YWNrLCAnTXlLZXknLCB7IHVzZXIgfSk7XG5cbiAgICBuZXcgc2VjcmV0c21hbmFnZXIuU2VjcmV0KHN0YWNrLCAnU2VjcmV0Jywge1xuICAgICAgc2VjcmV0U3RyaW5nVmFsdWU6IGFjY2Vzc0tleS5zZWNyZXRBY2Nlc3NLZXksXG4gICAgfSk7XG5cbiAgICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpTZWNyZXRzTWFuYWdlcjo6U2VjcmV0Jywge1xuICAgICAgR2VuZXJhdGVTZWNyZXRTdHJpbmc6IE1hdGNoLmFic2VudCgpLFxuICAgICAgU2VjcmV0U3RyaW5nOiB7ICdGbjo6R2V0QXR0JzogWydNeUtleTZBQjI5RkE2JywgJ1NlY3JldEFjY2Vzc0tleSddIH0sXG4gICAgfSk7XG4gIH0pO1xufSk7XG5cbnRlc3QoJ2dyYW50UmVhZCcsICgpID0+IHtcbiAgLy8gR0lWRU5cbiAgY29uc3Qgc2VjcmV0ID0gbmV3IHNlY3JldHNtYW5hZ2VyLlNlY3JldChzdGFjaywgJ1NlY3JldCcpO1xuICBjb25zdCByb2xlID0gbmV3IGlhbS5Sb2xlKHN0YWNrLCAnUm9sZScsIHsgYXNzdW1lZEJ5OiBuZXcgaWFtLkFjY291bnRSb290UHJpbmNpcGFsKCkgfSk7XG5cbiAgLy8gV0hFTlxuICBzZWNyZXQuZ3JhbnRSZWFkKHJvbGUpO1xuXG4gIC8vIFRIRU5cbiAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6SUFNOjpQb2xpY3knLCB7XG4gICAgUG9saWN5RG9jdW1lbnQ6IHtcbiAgICAgIFZlcnNpb246ICcyMDEyLTEwLTE3JyxcbiAgICAgIFN0YXRlbWVudDogW3tcbiAgICAgICAgQWN0aW9uOiBbXG4gICAgICAgICAgJ3NlY3JldHNtYW5hZ2VyOkdldFNlY3JldFZhbHVlJyxcbiAgICAgICAgICAnc2VjcmV0c21hbmFnZXI6RGVzY3JpYmVTZWNyZXQnLFxuICAgICAgICBdLFxuICAgICAgICBFZmZlY3Q6ICdBbGxvdycsXG4gICAgICAgIFJlc291cmNlOiB7IFJlZjogJ1NlY3JldEE3MjBFRjA1JyB9LFxuICAgICAgfV0sXG4gICAgfSxcbiAgfSk7XG59KTtcblxudGVzdCgnRXJyb3Igd2hlbiBncmFudFJlYWQgd2l0aCBkaWZmZXJlbnQgcm9sZSBhbmQgbm8gS01TJywgKCkgPT4ge1xuICAvLyBHSVZFTlxuICBjb25zdCB0ZXN0U3RhY2sgPSBuZXcgY2RrLlN0YWNrKGFwcCwgJ1Rlc3RTdGFjaycsIHtcbiAgICBlbnY6IHtcbiAgICAgIGFjY291bnQ6ICcxMjM0NTY3ODkwMTInLFxuICAgIH0sXG4gIH0pO1xuICBjb25zdCBzZWNyZXQgPSBuZXcgc2VjcmV0c21hbmFnZXIuU2VjcmV0KHRlc3RTdGFjaywgJ1NlY3JldCcpO1xuICBjb25zdCByb2xlID0gaWFtLlJvbGUuZnJvbVJvbGVBcm4odGVzdFN0YWNrLCAnUm9sZUZyb21Bcm4nLCAnYXJuOmF3czppYW06OjExMTExMTExMTExMTpyb2xlL1NvbWVSb2xlJyk7XG5cbiAgLy8gVEhFTlxuICBleHBlY3QoKCkgPT4ge1xuICAgIHNlY3JldC5ncmFudFJlYWQocm9sZSk7XG4gIH0pLnRvVGhyb3dFcnJvcignS01TIEtleSBtdXN0IGJlIHByb3ZpZGVkIGZvciBjcm9zcyBhY2NvdW50IGFjY2VzcyB0byBTZWNyZXQnKTtcbn0pO1xuXG50ZXN0KCdncmFudFJlYWQgd2l0aCBLTVMgS2V5JywgKCkgPT4ge1xuICAvLyBHSVZFTlxuICBjb25zdCBrZXkgPSBuZXcga21zLktleShzdGFjaywgJ0tNUycpO1xuICBjb25zdCBzZWNyZXQgPSBuZXcgc2VjcmV0c21hbmFnZXIuU2VjcmV0KHN0YWNrLCAnU2VjcmV0JywgeyBlbmNyeXB0aW9uS2V5OiBrZXkgfSk7XG4gIGNvbnN0IHJvbGUgPSBuZXcgaWFtLlJvbGUoc3RhY2ssICdSb2xlJywgeyBhc3N1bWVkQnk6IG5ldyBpYW0uQWNjb3VudFJvb3RQcmluY2lwYWwoKSB9KTtcblxuICAvLyBXSEVOXG4gIHNlY3JldC5ncmFudFJlYWQocm9sZSk7XG5cbiAgLy8gVEhFTlxuICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpJQU06OlBvbGljeScsIHtcbiAgICBQb2xpY3lEb2N1bWVudDoge1xuICAgICAgVmVyc2lvbjogJzIwMTItMTAtMTcnLFxuICAgICAgU3RhdGVtZW50OiBbe1xuICAgICAgICBBY3Rpb246IFtcbiAgICAgICAgICAnc2VjcmV0c21hbmFnZXI6R2V0U2VjcmV0VmFsdWUnLFxuICAgICAgICAgICdzZWNyZXRzbWFuYWdlcjpEZXNjcmliZVNlY3JldCcsXG4gICAgICAgIF0sXG4gICAgICAgIEVmZmVjdDogJ0FsbG93JyxcbiAgICAgICAgUmVzb3VyY2U6IHsgUmVmOiAnU2VjcmV0QTcyMEVGMDUnIH0sXG4gICAgICB9XSxcbiAgICB9LFxuICB9KTtcbiAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6S01TOjpLZXknLCB7XG4gICAgS2V5UG9saWN5OiB7XG4gICAgICBTdGF0ZW1lbnQ6IE1hdGNoLmFycmF5V2l0aChbXG4gICAgICAgIHtcbiAgICAgICAgICBBY3Rpb246ICdrbXM6RGVjcnlwdCcsXG4gICAgICAgICAgQ29uZGl0aW9uOiB7XG4gICAgICAgICAgICBTdHJpbmdFcXVhbHM6IHtcbiAgICAgICAgICAgICAgJ2ttczpWaWFTZXJ2aWNlJzoge1xuICAgICAgICAgICAgICAgICdGbjo6Sm9pbic6IFtcbiAgICAgICAgICAgICAgICAgICcnLFxuICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAnc2VjcmV0c21hbmFnZXIuJyxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIFJlZjogJ0FXUzo6UmVnaW9uJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgJy5hbWF6b25hd3MuY29tJyxcbiAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgICBFZmZlY3Q6ICdBbGxvdycsXG4gICAgICAgICAgUHJpbmNpcGFsOiB7XG4gICAgICAgICAgICBBV1M6IHtcbiAgICAgICAgICAgICAgJ0ZuOjpHZXRBdHQnOiBbXG4gICAgICAgICAgICAgICAgJ1JvbGUxQUJDQzVGMCcsXG4gICAgICAgICAgICAgICAgJ0FybicsXG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgICAgUmVzb3VyY2U6ICcqJyxcbiAgICAgICAgfSxcbiAgICAgIF0pLFxuICAgICAgVmVyc2lvbjogJzIwMTItMTAtMTcnLFxuICAgIH0sXG4gIH0pO1xufSk7XG5cbnRlc3QoJ2dyYW50UmVhZCBjcm9zcyBhY2NvdW50JywgKCkgPT4ge1xuICAvLyBHSVZFTlxuICBjb25zdCBrZXkgPSBuZXcga21zLktleShzdGFjaywgJ0tNUycpO1xuICBjb25zdCBzZWNyZXQgPSBuZXcgc2VjcmV0c21hbmFnZXIuU2VjcmV0KHN0YWNrLCAnU2VjcmV0JywgeyBlbmNyeXB0aW9uS2V5OiBrZXkgfSk7XG4gIGNvbnN0IHByaW5jaXBhbCA9IG5ldyBpYW0uQWNjb3VudFByaW5jaXBhbCgnMTIzNCcpO1xuXG4gIC8vIFdIRU5cbiAgc2VjcmV0LmdyYW50UmVhZChwcmluY2lwYWwsIFsnRk9PJywgJ2JhciddKS5hc3NlcnRTdWNjZXNzKCk7XG5cbiAgLy8gVEhFTlxuICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpTZWNyZXRzTWFuYWdlcjo6UmVzb3VyY2VQb2xpY3knLCB7XG4gICAgUmVzb3VyY2VQb2xpY3k6IHtcbiAgICAgIFN0YXRlbWVudDogW1xuICAgICAgICB7XG4gICAgICAgICAgQWN0aW9uOiBbXG4gICAgICAgICAgICAnc2VjcmV0c21hbmFnZXI6R2V0U2VjcmV0VmFsdWUnLFxuICAgICAgICAgICAgJ3NlY3JldHNtYW5hZ2VyOkRlc2NyaWJlU2VjcmV0JyxcbiAgICAgICAgICBdLFxuICAgICAgICAgIEVmZmVjdDogJ0FsbG93JyxcbiAgICAgICAgICBDb25kaXRpb246IHtcbiAgICAgICAgICAgICdGb3JBbnlWYWx1ZTpTdHJpbmdFcXVhbHMnOiB7XG4gICAgICAgICAgICAgICdzZWNyZXRzbWFuYWdlcjpWZXJzaW9uU3RhZ2UnOiBbXG4gICAgICAgICAgICAgICAgJ0ZPTycsXG4gICAgICAgICAgICAgICAgJ2JhcicsXG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgICAgUHJpbmNpcGFsOiB7XG4gICAgICAgICAgICBBV1M6IHtcbiAgICAgICAgICAgICAgJ0ZuOjpKb2luJzogW1xuICAgICAgICAgICAgICAgICcnLFxuICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICdhcm46JyxcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgUmVmOiAnQVdTOjpQYXJ0aXRpb24nLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICc6aWFtOjoxMjM0OnJvb3QnLFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgICAgUmVzb3VyY2U6IHtcbiAgICAgICAgICAgIFJlZjogJ1NlY3JldEE3MjBFRjA1JyxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICAgIFZlcnNpb246ICcyMDEyLTEwLTE3JyxcbiAgICB9LFxuICAgIFNlY3JldElkOiB7XG4gICAgICBSZWY6ICdTZWNyZXRBNzIwRUYwNScsXG4gICAgfSxcbiAgfSk7XG5cbiAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6S01TOjpLZXknLCB7XG4gICAgS2V5UG9saWN5OiB7XG4gICAgICBTdGF0ZW1lbnQ6IE1hdGNoLmFycmF5V2l0aChbe1xuICAgICAgICBBY3Rpb246ICdrbXM6RGVjcnlwdCcsXG4gICAgICAgIENvbmRpdGlvbjoge1xuICAgICAgICAgIFN0cmluZ0VxdWFsczoge1xuICAgICAgICAgICAgJ2ttczpWaWFTZXJ2aWNlJzoge1xuICAgICAgICAgICAgICAnRm46OkpvaW4nOiBbXG4gICAgICAgICAgICAgICAgJycsXG4gICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgJ3NlY3JldHNtYW5hZ2VyLicsXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFJlZjogJ0FXUzo6UmVnaW9uJyxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAnLmFtYXpvbmF3cy5jb20nLFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIEVmZmVjdDogJ0FsbG93JyxcbiAgICAgICAgUHJpbmNpcGFsOiB7XG4gICAgICAgICAgQVdTOiB7XG4gICAgICAgICAgICAnRm46OkpvaW4nOiBbXG4gICAgICAgICAgICAgICcnLFxuICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgJ2FybjonLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIFJlZjogJ0FXUzo6UGFydGl0aW9uJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICc6aWFtOjoxMjM0OnJvb3QnLFxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBSZXNvdXJjZTogJyonLFxuICAgICAgfV0pLFxuICAgICAgVmVyc2lvbjogJzIwMTItMTAtMTcnLFxuICAgIH0sXG4gIH0pO1xufSk7XG5cbnRlc3QoJ2dyYW50UmVhZCB3aXRoIHZlcnNpb24gbGFiZWwgY29uc3RyYWludCcsICgpID0+IHtcbiAgLy8gR0lWRU5cbiAgY29uc3Qga2V5ID0gbmV3IGttcy5LZXkoc3RhY2ssICdLTVMnKTtcbiAgY29uc3Qgc2VjcmV0ID0gbmV3IHNlY3JldHNtYW5hZ2VyLlNlY3JldChzdGFjaywgJ1NlY3JldCcsIHsgZW5jcnlwdGlvbktleToga2V5IH0pO1xuICBjb25zdCByb2xlID0gbmV3IGlhbS5Sb2xlKHN0YWNrLCAnUm9sZScsIHsgYXNzdW1lZEJ5OiBuZXcgaWFtLkFjY291bnRSb290UHJpbmNpcGFsKCkgfSk7XG5cbiAgLy8gV0hFTlxuICBzZWNyZXQuZ3JhbnRSZWFkKHJvbGUsIFsnRk9PJywgJ2JhciddKTtcblxuICAvLyBUSEVOXG4gIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OklBTTo6UG9saWN5Jywge1xuICAgIFBvbGljeURvY3VtZW50OiB7XG4gICAgICBWZXJzaW9uOiAnMjAxMi0xMC0xNycsXG4gICAgICBTdGF0ZW1lbnQ6IFt7XG4gICAgICAgIEFjdGlvbjogW1xuICAgICAgICAgICdzZWNyZXRzbWFuYWdlcjpHZXRTZWNyZXRWYWx1ZScsXG4gICAgICAgICAgJ3NlY3JldHNtYW5hZ2VyOkRlc2NyaWJlU2VjcmV0JyxcbiAgICAgICAgXSxcbiAgICAgICAgRWZmZWN0OiAnQWxsb3cnLFxuICAgICAgICBSZXNvdXJjZTogeyBSZWY6ICdTZWNyZXRBNzIwRUYwNScgfSxcbiAgICAgICAgQ29uZGl0aW9uOiB7XG4gICAgICAgICAgJ0ZvckFueVZhbHVlOlN0cmluZ0VxdWFscyc6IHtcbiAgICAgICAgICAgICdzZWNyZXRzbWFuYWdlcjpWZXJzaW9uU3RhZ2UnOiBbJ0ZPTycsICdiYXInXSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfV0sXG4gICAgfSxcbiAgfSk7XG4gIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OktNUzo6S2V5Jywge1xuICAgIEtleVBvbGljeToge1xuICAgICAgU3RhdGVtZW50OiBNYXRjaC5hcnJheVdpdGgoW3tcbiAgICAgICAgQWN0aW9uOiAna21zOkRlY3J5cHQnLFxuICAgICAgICBDb25kaXRpb246IHtcbiAgICAgICAgICBTdHJpbmdFcXVhbHM6IHtcbiAgICAgICAgICAgICdrbXM6VmlhU2VydmljZSc6IHtcbiAgICAgICAgICAgICAgJ0ZuOjpKb2luJzogW1xuICAgICAgICAgICAgICAgICcnLFxuICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICdzZWNyZXRzbWFuYWdlci4nLFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBSZWY6ICdBV1M6OlJlZ2lvbicsXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgJy5hbWF6b25hd3MuY29tJyxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBFZmZlY3Q6ICdBbGxvdycsXG4gICAgICAgIFByaW5jaXBhbDoge1xuICAgICAgICAgIEFXUzoge1xuICAgICAgICAgICAgJ0ZuOjpHZXRBdHQnOiBbXG4gICAgICAgICAgICAgICdSb2xlMUFCQ0M1RjAnLFxuICAgICAgICAgICAgICAnQXJuJyxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgUmVzb3VyY2U6ICcqJyxcbiAgICAgIH1dKSxcbiAgICAgIFZlcnNpb246ICcyMDEyLTEwLTE3JyxcbiAgICB9LFxuICB9KTtcbn0pO1xuXG50ZXN0KCdncmFudFdyaXRlJywgKCkgPT4ge1xuICAvLyBHSVZFTlxuICBjb25zdCBzZWNyZXQgPSBuZXcgc2VjcmV0c21hbmFnZXIuU2VjcmV0KHN0YWNrLCAnU2VjcmV0Jywge30pO1xuICBjb25zdCByb2xlID0gbmV3IGlhbS5Sb2xlKHN0YWNrLCAnUm9sZScsIHsgYXNzdW1lZEJ5OiBuZXcgaWFtLkFjY291bnRSb290UHJpbmNpcGFsKCkgfSk7XG5cbiAgLy8gV0hFTlxuICBzZWNyZXQuZ3JhbnRXcml0ZShyb2xlKTtcblxuICAvLyBUSEVOXG4gIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OklBTTo6UG9saWN5Jywge1xuICAgIFBvbGljeURvY3VtZW50OiB7XG4gICAgICBWZXJzaW9uOiAnMjAxMi0xMC0xNycsXG4gICAgICBTdGF0ZW1lbnQ6IFt7XG4gICAgICAgIEFjdGlvbjogW1xuICAgICAgICAgICdzZWNyZXRzbWFuYWdlcjpQdXRTZWNyZXRWYWx1ZScsXG4gICAgICAgICAgJ3NlY3JldHNtYW5hZ2VyOlVwZGF0ZVNlY3JldCcsXG4gICAgICAgIF0sXG4gICAgICAgIEVmZmVjdDogJ0FsbG93JyxcbiAgICAgICAgUmVzb3VyY2U6IHsgUmVmOiAnU2VjcmV0QTcyMEVGMDUnIH0sXG4gICAgICB9XSxcbiAgICB9LFxuICB9KTtcbn0pO1xuXG50ZXN0KCdncmFudFdyaXRlIHdpdGgga21zJywgKCkgPT4ge1xuICAvLyBHSVZFTlxuICBjb25zdCBrZXkgPSBuZXcga21zLktleShzdGFjaywgJ0tNUycpO1xuICBjb25zdCBzZWNyZXQgPSBuZXcgc2VjcmV0c21hbmFnZXIuU2VjcmV0KHN0YWNrLCAnU2VjcmV0JywgeyBlbmNyeXB0aW9uS2V5OiBrZXkgfSk7XG4gIGNvbnN0IHJvbGUgPSBuZXcgaWFtLlJvbGUoc3RhY2ssICdSb2xlJywgeyBhc3N1bWVkQnk6IG5ldyBpYW0uQWNjb3VudFJvb3RQcmluY2lwYWwoKSB9KTtcblxuICAvLyBXSEVOXG4gIHNlY3JldC5ncmFudFdyaXRlKHJvbGUpO1xuXG4gIC8vIFRIRU5cbiAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6SUFNOjpQb2xpY3knLCB7XG4gICAgUG9saWN5RG9jdW1lbnQ6IHtcbiAgICAgIFZlcnNpb246ICcyMDEyLTEwLTE3JyxcbiAgICAgIFN0YXRlbWVudDogW3tcbiAgICAgICAgQWN0aW9uOiBbXG4gICAgICAgICAgJ3NlY3JldHNtYW5hZ2VyOlB1dFNlY3JldFZhbHVlJyxcbiAgICAgICAgICAnc2VjcmV0c21hbmFnZXI6VXBkYXRlU2VjcmV0JyxcbiAgICAgICAgXSxcbiAgICAgICAgRWZmZWN0OiAnQWxsb3cnLFxuICAgICAgICBSZXNvdXJjZTogeyBSZWY6ICdTZWNyZXRBNzIwRUYwNScgfSxcbiAgICAgIH1dLFxuICAgIH0sXG4gIH0pO1xuICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpLTVM6OktleScsIHtcbiAgICBLZXlQb2xpY3k6IHtcbiAgICAgIFN0YXRlbWVudDogTWF0Y2guYXJyYXlXaXRoKFt7XG4gICAgICAgIEFjdGlvbjogW1xuICAgICAgICAgICdrbXM6RW5jcnlwdCcsXG4gICAgICAgICAgJ2ttczpSZUVuY3J5cHQqJyxcbiAgICAgICAgICAna21zOkdlbmVyYXRlRGF0YUtleSonLFxuICAgICAgICBdLFxuICAgICAgICBDb25kaXRpb246IHtcbiAgICAgICAgICBTdHJpbmdFcXVhbHM6IHtcbiAgICAgICAgICAgICdrbXM6VmlhU2VydmljZSc6IHtcbiAgICAgICAgICAgICAgJ0ZuOjpKb2luJzogW1xuICAgICAgICAgICAgICAgICcnLFxuICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICdzZWNyZXRzbWFuYWdlci4nLFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBSZWY6ICdBV1M6OlJlZ2lvbicsXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgJy5hbWF6b25hd3MuY29tJyxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBFZmZlY3Q6ICdBbGxvdycsXG4gICAgICAgIFByaW5jaXBhbDoge1xuICAgICAgICAgIEFXUzoge1xuICAgICAgICAgICAgJ0ZuOjpHZXRBdHQnOiBbXG4gICAgICAgICAgICAgICdSb2xlMUFCQ0M1RjAnLFxuICAgICAgICAgICAgICAnQXJuJyxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgUmVzb3VyY2U6ICcqJyxcbiAgICAgIH1dKSxcbiAgICB9LFxuICB9KTtcbn0pO1xuXG50ZXN0KCdzZWNyZXRWYWx1ZScsICgpID0+IHtcbiAgLy8gR0lWRU5cbiAgY29uc3Qga2V5ID0gbmV3IGttcy5LZXkoc3RhY2ssICdLTVMnKTtcbiAgY29uc3Qgc2VjcmV0ID0gbmV3IHNlY3JldHNtYW5hZ2VyLlNlY3JldChzdGFjaywgJ1NlY3JldCcsIHsgZW5jcnlwdGlvbktleToga2V5IH0pO1xuXG4gIC8vIFdIRU5cbiAgbmV3IGNkay5DZm5SZXNvdXJjZShzdGFjaywgJ0Zha2VSZXNvdXJjZScsIHtcbiAgICB0eXBlOiAnQ0RLOjpQaG9ueTo6UmVzb3VyY2UnLFxuICAgIHByb3BlcnRpZXM6IHtcbiAgICAgIHZhbHVlOiBzZWNyZXQuc2VjcmV0VmFsdWUsXG4gICAgfSxcbiAgfSk7XG5cbiAgLy8gVEhFTlxuICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQ0RLOjpQaG9ueTo6UmVzb3VyY2UnLCB7XG4gICAgdmFsdWU6IHtcbiAgICAgICdGbjo6Sm9pbic6IFsnJywgW1xuICAgICAgICAne3tyZXNvbHZlOnNlY3JldHNtYW5hZ2VyOicsXG4gICAgICAgIHsgUmVmOiAnU2VjcmV0QTcyMEVGMDUnIH0sXG4gICAgICAgICc6U2VjcmV0U3RyaW5nOjo6fX0nLFxuICAgICAgXV0sXG4gICAgfSxcbiAgfSk7XG59KTtcblxuZGVzY3JpYmUoJ3NlY3JldE5hbWUnLCAoKSA9PiB7XG4gIHRlc3QoJ3NlbGVjdHMgdGhlIGZpcnN0IHR3byBwYXJ0cyBvZiB0aGUgcmVzb3VyY2UgbmFtZSB3aGVuIHRoZSBuYW1lIGlzIGF1dG8tZ2VuZXJhdGVkJywgKCkgPT4ge1xuICAgIHN0YWNrID0gbmV3IGNkay5TdGFjaygpO1xuXG4gICAgY29uc3Qgc2VjcmV0ID0gbmV3IHNlY3JldHNtYW5hZ2VyLlNlY3JldChzdGFjaywgJ1NlY3JldCcpO1xuICAgIG5ldyBjZGsuQ2ZuT3V0cHV0KHN0YWNrLCAnTXlTZWNyZXROYW1lJywge1xuICAgICAgdmFsdWU6IHNlY3JldC5zZWNyZXROYW1lLFxuICAgIH0pO1xuXG4gICAgY29uc3QgcmVzb3VyY2VOYW1lID0geyAnRm46OlNlbGVjdCc6IFs2LCB7ICdGbjo6U3BsaXQnOiBbJzonLCB7IFJlZjogJ1NlY3JldEE3MjBFRjA1JyB9XSB9XSB9O1xuXG4gICAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNPdXRwdXQoJ015U2VjcmV0TmFtZScsIHtcbiAgICAgIFZhbHVlOiB7XG4gICAgICAgICdGbjo6Sm9pbic6IFsnLScsIFtcbiAgICAgICAgICB7ICdGbjo6U2VsZWN0JzogWzAsIHsgJ0ZuOjpTcGxpdCc6IFsnLScsIHJlc291cmNlTmFtZV0gfV0gfSxcbiAgICAgICAgICB7ICdGbjo6U2VsZWN0JzogWzEsIHsgJ0ZuOjpTcGxpdCc6IFsnLScsIHJlc291cmNlTmFtZV0gfV0gfSxcbiAgICAgICAgXV0sXG4gICAgICB9LFxuICAgIH0pO1xuICB9KTtcblxuICB0ZXN0KCdpcyBzaW1wbHkgdGhlIGZpcnN0IHNlZ21lbnQgd2hlbiB0aGUgcHJvdmlkZWQgc2VjcmV0IG5hbWUgaGFzIG5vIGh5cGhlbnMnLCAoKSA9PiB7XG4gICAgc3RhY2sgPSBuZXcgY2RrLlN0YWNrKCk7XG5cbiAgICBjb25zdCBzZWNyZXQgPSBuZXcgc2VjcmV0c21hbmFnZXIuU2VjcmV0KHN0YWNrLCAnU2VjcmV0JywgeyBzZWNyZXROYW1lOiAnbXlTZWNyZXQnIH0pO1xuICAgIG5ldyBjZGsuQ2ZuT3V0cHV0KHN0YWNrLCAnTXlTZWNyZXROYW1lJywge1xuICAgICAgdmFsdWU6IHNlY3JldC5zZWNyZXROYW1lLFxuICAgIH0pO1xuXG4gICAgY29uc3QgcmVzb3VyY2VOYW1lID0geyAnRm46OlNlbGVjdCc6IFs2LCB7ICdGbjo6U3BsaXQnOiBbJzonLCB7IFJlZjogJ1NlY3JldEE3MjBFRjA1JyB9XSB9XSB9O1xuXG4gICAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNPdXRwdXQoJ015U2VjcmV0TmFtZScsIHtcbiAgICAgIFZhbHVlOiB7ICdGbjo6U2VsZWN0JzogWzAsIHsgJ0ZuOjpTcGxpdCc6IFsnLScsIHJlc291cmNlTmFtZV0gfV0gfSxcbiAgICB9KTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gYXNzZXJ0U2VnbWVudHMoc2VjcmV0OiBzZWNyZXRzbWFuYWdlci5TZWNyZXQsIHNlZ21lbnRzOiBudW1iZXIpIHtcbiAgICBuZXcgY2RrLkNmbk91dHB1dChzdGFjaywgJ015U2VjcmV0TmFtZScsIHtcbiAgICAgIHZhbHVlOiBzZWNyZXQuc2VjcmV0TmFtZSxcbiAgICB9KTtcblxuICAgIGNvbnN0IHJlc291cmNlTmFtZSA9IHsgJ0ZuOjpTZWxlY3QnOiBbNiwgeyAnRm46OlNwbGl0JzogWyc6JywgeyBSZWY6ICdTZWNyZXRBNzIwRUYwNScgfV0gfV0gfTtcbiAgICBjb25zdCBzZWNyZXROYW1lU2VnbWVudHMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlZ21lbnRzOyBpKyspIHtcbiAgICAgIHNlY3JldE5hbWVTZWdtZW50cy5wdXNoKHsgJ0ZuOjpTZWxlY3QnOiBbaSwgeyAnRm46OlNwbGl0JzogWyctJywgcmVzb3VyY2VOYW1lXSB9XSB9KTtcbiAgICB9XG5cbiAgICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc091dHB1dCgnTXlTZWNyZXROYW1lJywge1xuICAgICAgVmFsdWU6IHsgJ0ZuOjpKb2luJzogWyctJywgc2VjcmV0TmFtZVNlZ21lbnRzXSB9LFxuICAgIH0pO1xuICB9XG5cbiAgdGVzdCgnc2VsZWN0cyB0aGUgMiBwYXJ0cyBvZiB0aGUgcmVzb3VyY2UgbmFtZSB3aGVuIHRoZSBzZWNyZXQgbmFtZSBpcyBwcm92aWRlZCcsICgpID0+IHtcbiAgICBzdGFjayA9IG5ldyBjZGsuU3RhY2soKTtcbiAgICBjb25zdCBzZWNyZXQgPSBuZXcgc2VjcmV0c21hbmFnZXIuU2VjcmV0KHN0YWNrLCAnU2VjcmV0JywgeyBzZWNyZXROYW1lOiAnbXktc2VjcmV0JyB9KTtcbiAgICBhc3NlcnRTZWdtZW50cyhzZWNyZXQsIDIpO1xuICB9KTtcblxuICB0ZXN0KCdzZWxlY3RzIHRoZSAzIHBhcnRzIG9mIHRoZSByZXNvdXJjZSBuYW1lIHdoZW4gdGhlIHNlY3JldCBuYW1lIGlzIHByb3ZpZGVkJywgKCkgPT4ge1xuICAgIHN0YWNrID0gbmV3IGNkay5TdGFjaygpO1xuICAgIGNvbnN0IHNlY3JldCA9IG5ldyBzZWNyZXRzbWFuYWdlci5TZWNyZXQoc3RhY2ssICdTZWNyZXQnLCB7IHNlY3JldE5hbWU6ICdteS1zZWNyZXQtaHlwaGVuYXRlZCcgfSk7XG4gICAgYXNzZXJ0U2VnbWVudHMoc2VjcmV0LCAzKTtcbiAgfSk7XG5cbiAgdGVzdCgnc2VsZWN0cyB0aGUgNCBwYXJ0cyBvZiB0aGUgcmVzb3VyY2UgbmFtZSB3aGVuIHRoZSBzZWNyZXQgbmFtZSBpcyBwcm92aWRlZCcsICgpID0+IHtcbiAgICBzdGFjayA9IG5ldyBjZGsuU3RhY2soKTtcbiAgICBjb25zdCBzZWNyZXQgPSBuZXcgc2VjcmV0c21hbmFnZXIuU2VjcmV0KHN0YWNrLCAnU2VjcmV0JywgeyBzZWNyZXROYW1lOiAnbXktc2VjcmV0LXdpdGgtaHlwaGVucycgfSk7XG4gICAgYXNzZXJ0U2VnbWVudHMoc2VjcmV0LCA0KTtcbiAgfSk7XG5cbiAgdGVzdCgndXNlcyBleGlzdGluZyBUb2tlbnMgYXMgc2VjcmV0IG5hbWVzIGFzLWlzJywgKCkgPT4ge1xuICAgIHN0YWNrID0gbmV3IGNkay5TdGFjaygpO1xuXG4gICAgY29uc3Qgc2VjcmV0MSA9IG5ldyBzZWNyZXRzbWFuYWdlci5TZWNyZXQoc3RhY2ssICdTZWNyZXQxJyk7XG4gICAgY29uc3Qgc2VjcmV0MiA9IG5ldyBzZWNyZXRzbWFuYWdlci5TZWNyZXQoc3RhY2ssICdTZWNyZXQyJywge1xuICAgICAgc2VjcmV0TmFtZTogc2VjcmV0MS5zZWNyZXROYW1lLFxuICAgIH0pO1xuICAgIG5ldyBjZGsuQ2ZuT3V0cHV0KHN0YWNrLCAnTXlTZWNyZXROYW1lMScsIHtcbiAgICAgIHZhbHVlOiBzZWNyZXQxLnNlY3JldE5hbWUsXG4gICAgfSk7XG4gICAgbmV3IGNkay5DZm5PdXRwdXQoc3RhY2ssICdNeVNlY3JldE5hbWUyJywge1xuICAgICAgdmFsdWU6IHNlY3JldDIuc2VjcmV0TmFtZSxcbiAgICB9KTtcblxuICAgIGNvbnN0IG91dHB1dHMgPSBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmZpbmRPdXRwdXRzKCcqJyk7XG4gICAgZXhwZWN0KG91dHB1dHMuTXlTZWNyZXROYW1lMSkudG9FcXVhbChvdXRwdXRzLk15U2VjcmV0TmFtZTIpO1xuICB9KTtcbn0pO1xuXG50ZXN0RGVwcmVjYXRlZCgnaW1wb3J0IGJ5IHNlY3JldEFybicsICgpID0+IHtcbiAgLy8gR0lWRU5cbiAgY29uc3Qgc2VjcmV0QXJuID0gJ2Fybjphd3M6c2VjcmV0c21hbmFnZXI6ZXUtd2VzdC0xOjExMTExMTExMTExMTpzZWNyZXQ6TXlTZWNyZXQtZjNnRHk5JztcblxuICAvLyBXSEVOXG4gIGNvbnN0IHNlY3JldCA9IHNlY3JldHNtYW5hZ2VyLlNlY3JldC5mcm9tU2VjcmV0QXJuKHN0YWNrLCAnU2VjcmV0Jywgc2VjcmV0QXJuKTtcblxuICAvLyBUSEVOXG4gIGV4cGVjdChzZWNyZXQuc2VjcmV0QXJuKS50b0JlKHNlY3JldEFybik7XG4gIGV4cGVjdChzZWNyZXQuc2VjcmV0RnVsbEFybikudG9CZShzZWNyZXRBcm4pO1xuICBleHBlY3Qoc2VjcmV0LnNlY3JldE5hbWUpLnRvQmUoJ015U2VjcmV0Jyk7XG4gIGV4cGVjdChzZWNyZXQuZW5jcnlwdGlvbktleSkudG9CZVVuZGVmaW5lZCgpO1xuICBleHBlY3Qoc3RhY2sucmVzb2x2ZShzZWNyZXQuc2VjcmV0VmFsdWUpKS50b0VxdWFsKGB7e3Jlc29sdmU6c2VjcmV0c21hbmFnZXI6JHtzZWNyZXRBcm59OlNlY3JldFN0cmluZzo6On19YCk7XG4gIGV4cGVjdChzdGFjay5yZXNvbHZlKHNlY3JldC5zZWNyZXRWYWx1ZUZyb21Kc29uKCdwYXNzd29yZCcpKSkudG9FcXVhbChge3tyZXNvbHZlOnNlY3JldHNtYW5hZ2VyOiR7c2VjcmV0QXJufTpTZWNyZXRTdHJpbmc6cGFzc3dvcmQ6On19YCk7XG59KTtcblxudGVzdCgnaW1wb3J0IGJ5IHNlY3JldEFybiB0aHJvd3MgaWYgQVJOIGlzIG1hbGZvcm1lZCcsICgpID0+IHtcbiAgLy8gR0lWRU5cbiAgY29uc3QgYXJuV2l0aG91dFJlc291cmNlTmFtZSA9ICdhcm46YXdzOnNlY3JldHNtYW5hZ2VyOmV1LXdlc3QtMToxMTExMTExMTExMTE6c2VjcmV0JztcblxuICAvLyBXSEVOXG4gIGV4cGVjdCgoKSA9PiBzZWNyZXRzbWFuYWdlci5TZWNyZXQuZnJvbVNlY3JldEF0dHJpYnV0ZXMoc3RhY2ssICdTZWNyZXQxJywge1xuICAgIHNlY3JldFBhcnRpYWxBcm46IGFybldpdGhvdXRSZXNvdXJjZU5hbWUsXG4gIH0pKS50b1Rocm93KC9pbnZhbGlkIEFSTiBmb3JtYXQvKTtcbn0pO1xuXG50ZXN0RGVwcmVjYXRlZCgnaW1wb3J0IGJ5IHNlY3JldEFybiBzdXBwb3J0cyBzZWNyZXQgQVJOcyB3aXRob3V0IHN1ZmZpeGVzJywgKCkgPT4ge1xuICAvLyBHSVZFTlxuICBjb25zdCBhcm5XaXRob3V0U2VjcmV0c01hbmFnZXJTdWZmaXggPSAnYXJuOmF3czpzZWNyZXRzbWFuYWdlcjpldS13ZXN0LTE6MTExMTExMTExMTExOnNlY3JldDpNeVNlY3JldCc7XG5cbiAgLy8gV0hFTlxuICBjb25zdCBzZWNyZXQgPSBzZWNyZXRzbWFuYWdlci5TZWNyZXQuZnJvbVNlY3JldEFybihzdGFjaywgJ1NlY3JldCcsIGFybldpdGhvdXRTZWNyZXRzTWFuYWdlclN1ZmZpeCk7XG5cbiAgLy8gVEhFTlxuICBleHBlY3Qoc2VjcmV0LnNlY3JldEFybikudG9CZShhcm5XaXRob3V0U2VjcmV0c01hbmFnZXJTdWZmaXgpO1xuICBleHBlY3Qoc2VjcmV0LnNlY3JldE5hbWUpLnRvQmUoJ015U2VjcmV0Jyk7XG59KTtcblxudGVzdERlcHJlY2F0ZWQoJ2ltcG9ydCBieSBzZWNyZXRBcm4gZG9lcyBub3Qgc3RyaXAgc3VmZml4ZXMgdW5sZXNzIHRoZSBzdWZmaXggbGVuZ3RoIGlzIHNpeCcsICgpID0+IHtcbiAgLy8gR0lWRU5cbiAgY29uc3QgYXJuV2l0aDVDaGFyYWN0ZXJTdWZmaXggPSAnYXJuOmF3czpzZWNyZXRzbWFuYWdlcjpldS13ZXN0LTE6MTExMTExMTExMTExOnNlY3JldDpnaXRodWItdG9rZW4nO1xuICBjb25zdCBhcm5XaXRoNkNoYXJhY3RlclN1ZmZpeCA9ICdhcm46YXdzOnNlY3JldHNtYW5hZ2VyOmV1LXdlc3QtMToxMTExMTExMTExMTE6c2VjcmV0OmdpdGh1Yi10b2tlbi1mM2dEeTknO1xuICBjb25zdCBhcm5XaXRoTXVsdGlwbGU2Q2hhcmFjdGVyU3VmZml4ID0gJ2Fybjphd3M6c2VjcmV0c21hbmFnZXI6ZXUtd2VzdC0xOjExMTExMTExMTExMTpzZWNyZXQ6Z2l0aHViLXRva2VuLWYzZ0R5OS1hY2IxMjMnO1xuXG4gIC8vIFRIRU5cbiAgZXhwZWN0KHNlY3JldHNtYW5hZ2VyLlNlY3JldC5mcm9tU2VjcmV0QXJuKHN0YWNrLCAnU2VjcmV0NScsIGFybldpdGg1Q2hhcmFjdGVyU3VmZml4KS5zZWNyZXROYW1lKS50b0VxdWFsKCdnaXRodWItdG9rZW4nKTtcbiAgZXhwZWN0KHNlY3JldHNtYW5hZ2VyLlNlY3JldC5mcm9tU2VjcmV0QXJuKHN0YWNrLCAnU2VjcmV0NicsIGFybldpdGg2Q2hhcmFjdGVyU3VmZml4KS5zZWNyZXROYW1lKS50b0VxdWFsKCdnaXRodWItdG9rZW4nKTtcbiAgZXhwZWN0KHNlY3JldHNtYW5hZ2VyLlNlY3JldC5mcm9tU2VjcmV0QXJuKHN0YWNrLCAnU2VjcmV0NlR3aWNlJywgYXJuV2l0aE11bHRpcGxlNkNoYXJhY3RlclN1ZmZpeCkuc2VjcmV0TmFtZSkudG9FcXVhbCgnZ2l0aHViLXRva2VuLWYzZ0R5OScpO1xufSk7XG5cbnRlc3QoJ2ltcG9ydCBieSBzZWNyZXRBcm4gc3VwcG9ydHMgdG9rZW5zIGZvciBBUk5zJywgKCkgPT4ge1xuICAvLyBHSVZFTlxuICBjb25zdCBzdGFja0EgPSBuZXcgY2RrLlN0YWNrKGFwcCwgJ1N0YWNrQScpO1xuICBjb25zdCBzdGFja0IgPSBuZXcgY2RrLlN0YWNrKGFwcCwgJ1N0YWNrQicpO1xuICBjb25zdCBzZWNyZXRBID0gbmV3IHNlY3JldHNtYW5hZ2VyLlNlY3JldChzdGFja0EsICdTZWNyZXRBJyk7XG5cbiAgLy8gV0hFTlxuICBjb25zdCBzZWNyZXRCID0gc2VjcmV0c21hbmFnZXIuU2VjcmV0LmZyb21TZWNyZXRDb21wbGV0ZUFybihzdGFja0IsICdTZWNyZXRCJywgc2VjcmV0QS5zZWNyZXRBcm4pO1xuICBuZXcgY2RrLkNmbk91dHB1dChzdGFja0IsICdzZWNyZXRCU2VjcmV0TmFtZScsIHsgdmFsdWU6IHNlY3JldEIuc2VjcmV0TmFtZSB9KTtcblxuICAvLyBUSEVOXG4gIGV4cGVjdChzZWNyZXRCLnNlY3JldEFybikudG9CZShzZWNyZXRBLnNlY3JldEFybik7XG4gIFRlbXBsYXRlLmZyb21TdGFjayhzdGFja0IpLmhhc091dHB1dCgnc2VjcmV0QlNlY3JldE5hbWUnLCB7XG4gICAgVmFsdWU6IHsgJ0ZuOjpTZWxlY3QnOiBbNiwgeyAnRm46OlNwbGl0JzogWyc6JywgeyAnRm46OkltcG9ydFZhbHVlJzogJ1N0YWNrQTpFeHBvcnRzT3V0cHV0UmVmU2VjcmV0QTE4OEYyODE3MDNGQzhBNTInIH1dIH1dIH0sXG4gIH0pO1xufSk7XG5cbnRlc3REZXByZWNhdGVkKCdpbXBvcnQgYnkgc2VjcmV0QXJuIGd1ZXNzZXMgYXQgY29tcGxldGUgb3IgcGFydGlhbCBBUk4nLCAoKSA9PiB7XG4gIC8vIEdJVkVOXG4gIGNvbnN0IHNlY3JldEFybldpdGhTdWZmaXggPSAnYXJuOmF3czpzZWNyZXRzbWFuYWdlcjpldS13ZXN0LTE6MTExMTExMTExMTExOnNlY3JldDpNeVNlY3JldC1mM2dEeTknO1xuICBjb25zdCBzZWNyZXRBcm5XaXRob3V0U3VmZml4ID0gJ2Fybjphd3M6c2VjcmV0c21hbmFnZXI6ZXUtd2VzdC0xOjExMTExMTExMTExMTpzZWNyZXQ6TXlTZWNyZXQnO1xuXG4gIC8vIFdIRU5cbiAgY29uc3Qgc2VjcmV0V2l0aENvbXBsZXRlQXJuID0gc2VjcmV0c21hbmFnZXIuU2VjcmV0LmZyb21TZWNyZXRBcm4oc3RhY2ssICdTZWNyZXRXaXRoJywgc2VjcmV0QXJuV2l0aFN1ZmZpeCk7XG4gIGNvbnN0IHNlY3JldFdpdGhvdXRDb21wbGV0ZUFybiA9IHNlY3JldHNtYW5hZ2VyLlNlY3JldC5mcm9tU2VjcmV0QXJuKHN0YWNrLCAnU2VjcmV0V2l0aG91dCcsIHNlY3JldEFybldpdGhvdXRTdWZmaXgpO1xuXG4gIC8vIFRIRU5cbiAgZXhwZWN0KHNlY3JldFdpdGhDb21wbGV0ZUFybi5zZWNyZXRGdWxsQXJuKS50b0VxdWFsKHNlY3JldEFybldpdGhTdWZmaXgpO1xuICBleHBlY3Qoc2VjcmV0V2l0aG91dENvbXBsZXRlQXJuLnNlY3JldEZ1bGxBcm4pLnRvQmVVbmRlZmluZWQoKTtcbn0pO1xuXG50ZXN0KCdmcm9tU2VjcmV0Q29tcGxldGVBcm4nLCAoKSA9PiB7XG4gIC8vIEdJVkVOXG4gIGNvbnN0IHNlY3JldEFybiA9ICdhcm46YXdzOnNlY3JldHNtYW5hZ2VyOmV1LXdlc3QtMToxMTExMTExMTExMTE6c2VjcmV0Ok15U2VjcmV0LWYzZ0R5OSc7XG5cbiAgLy8gV0hFTlxuICBjb25zdCBzZWNyZXQgPSBzZWNyZXRzbWFuYWdlci5TZWNyZXQuZnJvbVNlY3JldENvbXBsZXRlQXJuKHN0YWNrLCAnU2VjcmV0Jywgc2VjcmV0QXJuKTtcblxuICAvLyBUSEVOXG4gIGV4cGVjdChzZWNyZXQuc2VjcmV0QXJuKS50b0JlKHNlY3JldEFybik7XG4gIGV4cGVjdChzZWNyZXQuc2VjcmV0RnVsbEFybikudG9CZShzZWNyZXRBcm4pO1xuICBleHBlY3Qoc2VjcmV0LnNlY3JldE5hbWUpLnRvQmUoJ015U2VjcmV0Jyk7XG4gIGV4cGVjdChzZWNyZXQuZW5jcnlwdGlvbktleSkudG9CZVVuZGVmaW5lZCgpO1xuICBleHBlY3Qoc3RhY2sucmVzb2x2ZShzZWNyZXQuc2VjcmV0VmFsdWUpKS50b0VxdWFsKGB7e3Jlc29sdmU6c2VjcmV0c21hbmFnZXI6JHtzZWNyZXRBcm59OlNlY3JldFN0cmluZzo6On19YCk7XG4gIGV4cGVjdChzdGFjay5yZXNvbHZlKHNlY3JldC5zZWNyZXRWYWx1ZUZyb21Kc29uKCdwYXNzd29yZCcpKSkudG9FcXVhbChge3tyZXNvbHZlOnNlY3JldHNtYW5hZ2VyOiR7c2VjcmV0QXJufTpTZWNyZXRTdHJpbmc6cGFzc3dvcmQ6On19YCk7XG59KTtcblxudGVzdCgnZnJvbVNlY3JldENvbXBsZXRlQXJuIC0gZ3JhbnRzJywgKCkgPT4ge1xuICAvLyBHSVZFTlxuICBjb25zdCBzZWNyZXRBcm4gPSAnYXJuOmF3czpzZWNyZXRzbWFuYWdlcjpldS13ZXN0LTE6MTExMTExMTExMTExOnNlY3JldDpNeVNlY3JldC1mM2dEeTknO1xuICBjb25zdCBzZWNyZXQgPSBzZWNyZXRzbWFuYWdlci5TZWNyZXQuZnJvbVNlY3JldENvbXBsZXRlQXJuKHN0YWNrLCAnU2VjcmV0Jywgc2VjcmV0QXJuKTtcbiAgY29uc3Qgcm9sZSA9IG5ldyBpYW0uUm9sZShzdGFjaywgJ1JvbGUnLCB7IGFzc3VtZWRCeTogbmV3IGlhbS5BY2NvdW50Um9vdFByaW5jaXBhbCgpIH0pO1xuXG4gIC8vIFdIRU5cbiAgc2VjcmV0LmdyYW50UmVhZChyb2xlKTtcbiAgc2VjcmV0LmdyYW50V3JpdGUocm9sZSk7XG5cbiAgLy8gVEhFTlxuICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpJQU06OlBvbGljeScsIHtcbiAgICBQb2xpY3lEb2N1bWVudDoge1xuICAgICAgVmVyc2lvbjogJzIwMTItMTAtMTcnLFxuICAgICAgU3RhdGVtZW50OiBbe1xuICAgICAgICBBY3Rpb246IFtcbiAgICAgICAgICAnc2VjcmV0c21hbmFnZXI6R2V0U2VjcmV0VmFsdWUnLFxuICAgICAgICAgICdzZWNyZXRzbWFuYWdlcjpEZXNjcmliZVNlY3JldCcsXG4gICAgICAgIF0sXG4gICAgICAgIEVmZmVjdDogJ0FsbG93JyxcbiAgICAgICAgUmVzb3VyY2U6IHNlY3JldEFybixcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIEFjdGlvbjogW1xuICAgICAgICAgICdzZWNyZXRzbWFuYWdlcjpQdXRTZWNyZXRWYWx1ZScsXG4gICAgICAgICAgJ3NlY3JldHNtYW5hZ2VyOlVwZGF0ZVNlY3JldCcsXG4gICAgICAgIF0sXG4gICAgICAgIEVmZmVjdDogJ0FsbG93JyxcbiAgICAgICAgUmVzb3VyY2U6IHNlY3JldEFybixcbiAgICAgIH1dLFxuICAgIH0sXG4gIH0pO1xufSk7XG5cbnRlc3QoJ2Zyb21TZWNyZXRDb21wbGV0ZUFybiAtIGNhbiBiZSBhc3NpZ25lZCB0byBhIHByb3BlcnR5IHdpdGggdHlwZSBudW1iZXInLCAoKSA9PiB7XG4gIC8vIEdJVkVOXG4gIGNvbnN0IHNlY3JldEFybiA9ICdhcm46YXdzOnNlY3JldHNtYW5hZ2VyOmV1LXdlc3QtMToxMTExMTExMTExMTE6c2VjcmV0Ok15U2VjcmV0LWYzZ0R5OSc7XG4gIGNvbnN0IHNlY3JldCA9IHNlY3JldHNtYW5hZ2VyLlNlY3JldC5mcm9tU2VjcmV0Q29tcGxldGVBcm4oc3RhY2ssICdTZWNyZXQnLCBzZWNyZXRBcm4pO1xuXG4gIC8vIFdIRU5cbiAgbmV3IGxhbWJkYS5GdW5jdGlvbihzdGFjaywgJ015RnVuY3Rpb24nLCB7XG4gICAgY29kZTogbGFtYmRhLkNvZGUuZnJvbUlubGluZSgnZm9vJyksXG4gICAgaGFuZGxlcjogJ2JhcicsXG4gICAgcnVudGltZTogbGFtYmRhLlJ1bnRpbWUuTk9ERUpTLFxuICAgIG1lbW9yeVNpemU6IGNkay5Ub2tlbi5hc051bWJlcihzZWNyZXQuc2VjcmV0VmFsdWVGcm9tSnNvbignTGFtYmRhRnVuY3Rpb25NZW1vcnlTaXplJykpLFxuICB9KTtcblxuICAvLyBUSEVOXG4gIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkxhbWJkYTo6RnVuY3Rpb24nLCB7XG4gICAgTWVtb3J5U2l6ZTogYHt7cmVzb2x2ZTpzZWNyZXRzbWFuYWdlcjoke3NlY3JldEFybn06U2VjcmV0U3RyaW5nOkxhbWJkYUZ1bmN0aW9uTWVtb3J5U2l6ZTo6fX1gLFxuICB9KTtcbn0pO1xuXG50ZXN0KCdmcm9tU2VjcmV0UGFydGlhbEFybicsICgpID0+IHtcbiAgLy8gR0lWRU5cbiAgY29uc3Qgc2VjcmV0QXJuID0gJ2Fybjphd3M6c2VjcmV0c21hbmFnZXI6ZXUtd2VzdC0xOjExMTExMTExMTExMTpzZWNyZXQ6TXlTZWNyZXQnO1xuXG4gIC8vIFdIRU5cbiAgY29uc3Qgc2VjcmV0ID0gc2VjcmV0c21hbmFnZXIuU2VjcmV0LmZyb21TZWNyZXRQYXJ0aWFsQXJuKHN0YWNrLCAnU2VjcmV0Jywgc2VjcmV0QXJuKTtcblxuICAvLyBUSEVOXG4gIGV4cGVjdChzZWNyZXQuc2VjcmV0QXJuKS50b0JlKHNlY3JldEFybik7XG4gIGV4cGVjdChzZWNyZXQuc2VjcmV0RnVsbEFybikudG9CZVVuZGVmaW5lZCgpO1xuICBleHBlY3Qoc2VjcmV0LnNlY3JldE5hbWUpLnRvQmUoJ015U2VjcmV0Jyk7XG4gIGV4cGVjdChzZWNyZXQuZW5jcnlwdGlvbktleSkudG9CZVVuZGVmaW5lZCgpO1xuICBleHBlY3Qoc3RhY2sucmVzb2x2ZShzZWNyZXQuc2VjcmV0VmFsdWUpKS50b0VxdWFsKGB7e3Jlc29sdmU6c2VjcmV0c21hbmFnZXI6JHtzZWNyZXRBcm59OlNlY3JldFN0cmluZzo6On19YCk7XG4gIGV4cGVjdChzdGFjay5yZXNvbHZlKHNlY3JldC5zZWNyZXRWYWx1ZUZyb21Kc29uKCdwYXNzd29yZCcpKSkudG9FcXVhbChge3tyZXNvbHZlOnNlY3JldHNtYW5hZ2VyOiR7c2VjcmV0QXJufTpTZWNyZXRTdHJpbmc6cGFzc3dvcmQ6On19YCk7XG59KTtcblxudGVzdCgnZnJvbVNlY3JldFBhcnRpYWxBcm4gLSBncmFudHMnLCAoKSA9PiB7XG4gIC8vIEdJVkVOXG4gIGNvbnN0IHNlY3JldEFybiA9ICdhcm46YXdzOnNlY3JldHNtYW5hZ2VyOmV1LXdlc3QtMToxMTExMTExMTExMTE6c2VjcmV0Ok15U2VjcmV0JztcbiAgY29uc3Qgc2VjcmV0ID0gc2VjcmV0c21hbmFnZXIuU2VjcmV0LmZyb21TZWNyZXRQYXJ0aWFsQXJuKHN0YWNrLCAnU2VjcmV0Jywgc2VjcmV0QXJuKTtcbiAgY29uc3Qgcm9sZSA9IG5ldyBpYW0uUm9sZShzdGFjaywgJ1JvbGUnLCB7IGFzc3VtZWRCeTogbmV3IGlhbS5BY2NvdW50Um9vdFByaW5jaXBhbCgpIH0pO1xuXG4gIC8vIFdIRU5cbiAgc2VjcmV0LmdyYW50UmVhZChyb2xlKTtcbiAgc2VjcmV0LmdyYW50V3JpdGUocm9sZSk7XG5cbiAgLy8gVEhFTlxuICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpJQU06OlBvbGljeScsIHtcbiAgICBQb2xpY3lEb2N1bWVudDoge1xuICAgICAgVmVyc2lvbjogJzIwMTItMTAtMTcnLFxuICAgICAgU3RhdGVtZW50OiBbe1xuICAgICAgICBBY3Rpb246IFtcbiAgICAgICAgICAnc2VjcmV0c21hbmFnZXI6R2V0U2VjcmV0VmFsdWUnLFxuICAgICAgICAgICdzZWNyZXRzbWFuYWdlcjpEZXNjcmliZVNlY3JldCcsXG4gICAgICAgIF0sXG4gICAgICAgIEVmZmVjdDogJ0FsbG93JyxcbiAgICAgICAgUmVzb3VyY2U6IGAke3NlY3JldEFybn0tPz8/Pz8/YCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIEFjdGlvbjogW1xuICAgICAgICAgICdzZWNyZXRzbWFuYWdlcjpQdXRTZWNyZXRWYWx1ZScsXG4gICAgICAgICAgJ3NlY3JldHNtYW5hZ2VyOlVwZGF0ZVNlY3JldCcsXG4gICAgICAgIF0sXG4gICAgICAgIEVmZmVjdDogJ0FsbG93JyxcbiAgICAgICAgUmVzb3VyY2U6IGAke3NlY3JldEFybn0tPz8/Pz8/YCxcbiAgICAgIH1dLFxuICAgIH0sXG4gIH0pO1xufSk7XG5cbmRlc2NyaWJlKCdmcm9tU2VjcmV0QXR0cmlidXRlcycsICgpID0+IHtcbiAgdGVzdCgnaW1wb3J0IGJ5IGF0dHJpYnV0ZXMnLCAoKSA9PiB7XG4gICAgLy8gR0lWRU5cbiAgICBjb25zdCBlbmNyeXB0aW9uS2V5ID0gbmV3IGttcy5LZXkoc3RhY2ssICdLTVMnKTtcbiAgICBjb25zdCBzZWNyZXRBcm4gPSAnYXJuOmF3czpzZWNyZXRzbWFuYWdlcjpldS13ZXN0LTE6MTExMTExMTExMTExOnNlY3JldDpNeVNlY3JldC1mM2dEeTknO1xuXG4gICAgLy8gV0hFTlxuICAgIGNvbnN0IHNlY3JldCA9IHNlY3JldHNtYW5hZ2VyLlNlY3JldC5mcm9tU2VjcmV0QXR0cmlidXRlcyhzdGFjaywgJ1NlY3JldCcsIHtcbiAgICAgIHNlY3JldENvbXBsZXRlQXJuOiBzZWNyZXRBcm4sIGVuY3J5cHRpb25LZXksXG4gICAgfSk7XG5cbiAgICAvLyBUSEVOXG4gICAgZXhwZWN0KHNlY3JldC5zZWNyZXRBcm4pLnRvQmUoc2VjcmV0QXJuKTtcbiAgICBleHBlY3Qoc2VjcmV0LnNlY3JldEZ1bGxBcm4pLnRvQmUoc2VjcmV0QXJuKTtcbiAgICBleHBlY3Qoc2VjcmV0LnNlY3JldE5hbWUpLnRvQmUoJ015U2VjcmV0Jyk7XG4gICAgZXhwZWN0KHNlY3JldC5lbmNyeXB0aW9uS2V5KS50b0JlKGVuY3J5cHRpb25LZXkpO1xuICAgIGV4cGVjdChzdGFjay5yZXNvbHZlKHNlY3JldC5zZWNyZXRWYWx1ZSkpLnRvQmUoYHt7cmVzb2x2ZTpzZWNyZXRzbWFuYWdlcjoke3NlY3JldEFybn06U2VjcmV0U3RyaW5nOjo6fX1gKTtcbiAgICBleHBlY3Qoc3RhY2sucmVzb2x2ZShzZWNyZXQuc2VjcmV0VmFsdWVGcm9tSnNvbigncGFzc3dvcmQnKSkpLnRvQmUoYHt7cmVzb2x2ZTpzZWNyZXRzbWFuYWdlcjoke3NlY3JldEFybn06U2VjcmV0U3RyaW5nOnBhc3N3b3JkOjp9fWApO1xuICB9KTtcblxuICB0ZXN0RGVwcmVjYXRlZCgndGhyb3dzIGlmIHNlY3JldEFybiBhbmQgZWl0aGVyIHNlY3JldENvbXBsZXRlQXJuIG9yIHNlY3JldFBhcnRpYWxBcm4gYXJlIHByb3ZpZGVkJywgKCkgPT4ge1xuICAgIGNvbnN0IHNlY3JldEFybiA9ICdhcm46YXdzOnNlY3JldHNtYW5hZ2VyOmV1LXdlc3QtMToxMTExMTExMTExMTE6c2VjcmV0Ok15U2VjcmV0LWYzZ0R5OSc7XG5cbiAgICBjb25zdCBlcnJvciA9IC9jYW5ub3QgdXNlIGBzZWNyZXRBcm5gIHdpdGggYHNlY3JldENvbXBsZXRlQXJuYCBvciBgc2VjcmV0UGFydGlhbEFybmAvO1xuICAgIGV4cGVjdCgoKSA9PiBzZWNyZXRzbWFuYWdlci5TZWNyZXQuZnJvbVNlY3JldEF0dHJpYnV0ZXMoc3RhY2ssICdTZWNyZXQnLCB7XG4gICAgICBzZWNyZXRBcm4sXG4gICAgICBzZWNyZXRDb21wbGV0ZUFybjogc2VjcmV0QXJuLFxuICAgIH0pKS50b1Rocm93KGVycm9yKTtcbiAgICBleHBlY3QoKCkgPT4gc2VjcmV0c21hbmFnZXIuU2VjcmV0LmZyb21TZWNyZXRBdHRyaWJ1dGVzKHN0YWNrLCAnU2VjcmV0Jywge1xuICAgICAgc2VjcmV0QXJuLFxuICAgICAgc2VjcmV0UGFydGlhbEFybjogc2VjcmV0QXJuLFxuICAgIH0pKS50b1Rocm93KGVycm9yKTtcbiAgfSk7XG5cbiAgdGVzdCgndGhyb3dzIGlmIG5vIEFSTiBpcyBwcm92aWRlZCcsICgpID0+IHtcbiAgICBleHBlY3QoKCkgPT4gc2VjcmV0c21hbmFnZXIuU2VjcmV0LmZyb21TZWNyZXRBdHRyaWJ1dGVzKHN0YWNrLCAnU2VjcmV0Jywge30pKS50b1Rocm93KC9tdXN0IHVzZSBvbmx5IG9uZSBvZiBgc2VjcmV0Q29tcGxldGVBcm5gIG9yIGBzZWNyZXRQYXJ0aWFsQXJuYC8pO1xuICB9KTtcblxuICB0ZXN0KCd0aHJvd3MgaWYgYm90aCBjb21wbGV0ZSBhbmQgcGFydGlhbCBBUk5zIGFyZSBwcm92aWRlZCcsICgpID0+IHtcbiAgICBjb25zdCBzZWNyZXRBcm4gPSAnYXJuOmF3czpzZWNyZXRzbWFuYWdlcjpldS13ZXN0LTE6MTExMTExMTExMTExOnNlY3JldDpNeVNlY3JldC1mM2dEeTknO1xuICAgIGV4cGVjdCgoKSA9PiBzZWNyZXRzbWFuYWdlci5TZWNyZXQuZnJvbVNlY3JldEF0dHJpYnV0ZXMoc3RhY2ssICdTZWNyZXQnLCB7XG4gICAgICBzZWNyZXRQYXJ0aWFsQXJuOiBzZWNyZXRBcm4sXG4gICAgICBzZWNyZXRDb21wbGV0ZUFybjogc2VjcmV0QXJuLFxuICAgIH0pKS50b1Rocm93KC9tdXN0IHVzZSBvbmx5IG9uZSBvZiBgc2VjcmV0Q29tcGxldGVBcm5gIG9yIGBzZWNyZXRQYXJ0aWFsQXJuYC8pO1xuICB9KTtcblxuICB0ZXN0KCd0aHJvd3MgaWYgc2VjcmV0Q29tcGxldGVBcm4gaXMgbm90IGNvbXBsZXRlJywgKCkgPT4ge1xuICAgIGV4cGVjdCgoKSA9PiBzZWNyZXRzbWFuYWdlci5TZWNyZXQuZnJvbVNlY3JldEF0dHJpYnV0ZXMoc3RhY2ssICdTZWNyZXQnLCB7XG4gICAgICBzZWNyZXRDb21wbGV0ZUFybjogJ2Fybjphd3M6c2VjcmV0c21hbmFnZXI6ZXUtd2VzdC0xOjExMTExMTExMTExMTpzZWNyZXQ6TXlTZWNyZXQnLFxuICAgIH0pKS50b1Rocm93KC9kb2VzIG5vdCBhcHBlYXIgdG8gYmUgY29tcGxldGUvKTtcbiAgfSk7XG5cbiAgdGVzdCgncGFyc2VzIGVudmlyb25tZW50IGZyb20gc2VjcmV0QXJuJywgKCkgPT4ge1xuICAgIC8vIEdJVkVOXG4gICAgY29uc3Qgc2VjcmV0QWNjb3VudCA9ICcyMjIyMjIyMjIyMjInO1xuXG4gICAgLy8gV0hFTlxuICAgIGNvbnN0IHNlY3JldCA9IHNlY3JldHNtYW5hZ2VyLlNlY3JldC5mcm9tU2VjcmV0QXR0cmlidXRlcyhzdGFjaywgJ1NlY3JldCcsIHtcbiAgICAgIHNlY3JldENvbXBsZXRlQXJuOiBgYXJuOmF3czpzZWNyZXRzbWFuYWdlcjpldS13ZXN0LTE6JHtzZWNyZXRBY2NvdW50fTpzZWNyZXQ6TXlTZWNyZXQtZjNnRHk5YCxcbiAgICB9KTtcblxuICAgIC8vIFRIRU5cbiAgICBleHBlY3Qoc2VjcmV0LmVudi5hY2NvdW50KS50b0JlKHNlY3JldEFjY291bnQpO1xuICB9KTtcbn0pO1xuXG50ZXN0RGVwcmVjYXRlZCgnaW1wb3J0IGJ5IHNlY3JldCBuYW1lJywgKCkgPT4ge1xuICAvLyBHSVZFTlxuICBjb25zdCBzZWNyZXROYW1lID0gJ015U2VjcmV0JztcblxuICAvLyBXSEVOXG4gIGNvbnN0IHNlY3JldCA9IHNlY3JldHNtYW5hZ2VyLlNlY3JldC5mcm9tU2VjcmV0TmFtZShzdGFjaywgJ1NlY3JldCcsIHNlY3JldE5hbWUpO1xuXG4gIC8vIFRIRU5cbiAgZXhwZWN0KHNlY3JldC5zZWNyZXRBcm4pLnRvQmUoc2VjcmV0TmFtZSk7XG4gIGV4cGVjdChzZWNyZXQuc2VjcmV0TmFtZSkudG9CZShzZWNyZXROYW1lKTtcbiAgZXhwZWN0KHNlY3JldC5zZWNyZXRGdWxsQXJuKS50b0JlVW5kZWZpbmVkKCk7XG4gIGV4cGVjdChzdGFjay5yZXNvbHZlKHNlY3JldC5zZWNyZXRWYWx1ZSkpLnRvQmUoYHt7cmVzb2x2ZTpzZWNyZXRzbWFuYWdlcjoke3NlY3JldE5hbWV9OlNlY3JldFN0cmluZzo6On19YCk7XG4gIGV4cGVjdChzdGFjay5yZXNvbHZlKHNlY3JldC5zZWNyZXRWYWx1ZUZyb21Kc29uKCdwYXNzd29yZCcpKSkudG9CZShge3tyZXNvbHZlOnNlY3JldHNtYW5hZ2VyOiR7c2VjcmV0TmFtZX06U2VjcmV0U3RyaW5nOnBhc3N3b3JkOjp9fWApO1xufSk7XG5cbnRlc3REZXByZWNhdGVkKCdpbXBvcnQgYnkgc2VjcmV0IG5hbWUgd2l0aCBncmFudHMnLCAoKSA9PiB7XG4gIC8vIEdJVkVOXG4gIGNvbnN0IHJvbGUgPSBuZXcgaWFtLlJvbGUoc3RhY2ssICdSb2xlJywgeyBhc3N1bWVkQnk6IG5ldyBpYW0uQWNjb3VudFJvb3RQcmluY2lwYWwoKSB9KTtcbiAgY29uc3Qgc2VjcmV0ID0gc2VjcmV0c21hbmFnZXIuU2VjcmV0LmZyb21TZWNyZXROYW1lKHN0YWNrLCAnU2VjcmV0JywgJ015U2VjcmV0Jyk7XG5cbiAgLy8gV0hFTlxuICBzZWNyZXQuZ3JhbnRSZWFkKHJvbGUpO1xuICBzZWNyZXQuZ3JhbnRXcml0ZShyb2xlKTtcblxuICAvLyBUSEVOXG4gIGNvbnN0IGV4cGVjdGVkU2VjcmV0UmVmZXJlbmNlID0ge1xuICAgICdGbjo6Sm9pbic6IFsnJywgW1xuICAgICAgJ2FybjonLFxuICAgICAgeyBSZWY6ICdBV1M6OlBhcnRpdGlvbicgfSxcbiAgICAgICc6c2VjcmV0c21hbmFnZXI6JyxcbiAgICAgIHsgUmVmOiAnQVdTOjpSZWdpb24nIH0sXG4gICAgICAnOicsXG4gICAgICB7IFJlZjogJ0FXUzo6QWNjb3VudElkJyB9LFxuICAgICAgJzpzZWNyZXQ6TXlTZWNyZXQqJyxcbiAgICBdXSxcbiAgfTtcbiAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6SUFNOjpQb2xpY3knLCB7XG4gICAgUG9saWN5RG9jdW1lbnQ6IHtcbiAgICAgIFZlcnNpb246ICcyMDEyLTEwLTE3JyxcbiAgICAgIFN0YXRlbWVudDogW3tcbiAgICAgICAgQWN0aW9uOiBbXG4gICAgICAgICAgJ3NlY3JldHNtYW5hZ2VyOkdldFNlY3JldFZhbHVlJyxcbiAgICAgICAgICAnc2VjcmV0c21hbmFnZXI6RGVzY3JpYmVTZWNyZXQnLFxuICAgICAgICBdLFxuICAgICAgICBFZmZlY3Q6ICdBbGxvdycsXG4gICAgICAgIFJlc291cmNlOiBleHBlY3RlZFNlY3JldFJlZmVyZW5jZSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIEFjdGlvbjogW1xuICAgICAgICAgICdzZWNyZXRzbWFuYWdlcjpQdXRTZWNyZXRWYWx1ZScsXG4gICAgICAgICAgJ3NlY3JldHNtYW5hZ2VyOlVwZGF0ZVNlY3JldCcsXG4gICAgICAgIF0sXG4gICAgICAgIEVmZmVjdDogJ0FsbG93JyxcbiAgICAgICAgUmVzb3VyY2U6IGV4cGVjdGVkU2VjcmV0UmVmZXJlbmNlLFxuICAgICAgfV0sXG4gICAgfSxcbiAgfSk7XG59KTtcblxudGVzdCgnaW1wb3J0IGJ5IHNlY3JldCBuYW1lIHYyJywgKCkgPT4ge1xuICAvLyBHSVZFTlxuICBjb25zdCBzZWNyZXROYW1lID0gJ015U2VjcmV0JztcblxuICAvLyBXSEVOXG4gIGNvbnN0IHNlY3JldCA9IHNlY3JldHNtYW5hZ2VyLlNlY3JldC5mcm9tU2VjcmV0TmFtZVYyKHN0YWNrLCAnU2VjcmV0Jywgc2VjcmV0TmFtZSk7XG5cbiAgLy8gVEhFTlxuICBleHBlY3Qoc2VjcmV0LnNlY3JldEFybikudG9CZShgYXJuOiR7c3RhY2sucGFydGl0aW9ufTpzZWNyZXRzbWFuYWdlcjoke3N0YWNrLnJlZ2lvbn06JHtzdGFjay5hY2NvdW50fTpzZWNyZXQ6TXlTZWNyZXRgKTtcbiAgZXhwZWN0KHNlY3JldC5zZWNyZXROYW1lKS50b0JlKHNlY3JldE5hbWUpO1xuICBleHBlY3Qoc2VjcmV0LnNlY3JldEZ1bGxBcm4pLnRvQmVVbmRlZmluZWQoKTtcbiAgZXhwZWN0KHN0YWNrLnJlc29sdmUoc2VjcmV0LnNlY3JldFZhbHVlKSkudG9FcXVhbCh7XG4gICAgJ0ZuOjpKb2luJzogWycnLCBbXG4gICAgICAne3tyZXNvbHZlOnNlY3JldHNtYW5hZ2VyOmFybjonLFxuICAgICAgeyBSZWY6ICdBV1M6OlBhcnRpdGlvbicgfSxcbiAgICAgICc6c2VjcmV0c21hbmFnZXI6JyxcbiAgICAgIHsgUmVmOiAnQVdTOjpSZWdpb24nIH0sXG4gICAgICAnOicsXG4gICAgICB7IFJlZjogJ0FXUzo6QWNjb3VudElkJyB9LFxuICAgICAgJzpzZWNyZXQ6TXlTZWNyZXQ6U2VjcmV0U3RyaW5nOjo6fX0nLFxuICAgIF1dLFxuICB9KTtcbn0pO1xuXG50ZXN0KCdpbXBvcnQgYnkgc2VjcmV0IG5hbWUgdjIgd2l0aCBncmFudHMnLCAoKSA9PiB7XG4gIC8vIEdJVkVOXG4gIGNvbnN0IHJvbGUgPSBuZXcgaWFtLlJvbGUoc3RhY2ssICdSb2xlJywgeyBhc3N1bWVkQnk6IG5ldyBpYW0uQWNjb3VudFJvb3RQcmluY2lwYWwoKSB9KTtcbiAgY29uc3Qgc2VjcmV0ID0gc2VjcmV0c21hbmFnZXIuU2VjcmV0LmZyb21TZWNyZXROYW1lVjIoc3RhY2ssICdTZWNyZXQnLCAnTXlTZWNyZXQnKTtcblxuICAvLyBXSEVOXG4gIHNlY3JldC5ncmFudFJlYWQocm9sZSk7XG4gIHNlY3JldC5ncmFudFdyaXRlKHJvbGUpO1xuXG4gIC8vIFRIRU5cbiAgY29uc3QgZXhwZWN0ZWRTZWNyZXRSZWZlcmVuY2UgPSB7XG4gICAgJ0ZuOjpKb2luJzogWycnLCBbXG4gICAgICAnYXJuOicsXG4gICAgICB7IFJlZjogJ0FXUzo6UGFydGl0aW9uJyB9LFxuICAgICAgJzpzZWNyZXRzbWFuYWdlcjonLFxuICAgICAgeyBSZWY6ICdBV1M6OlJlZ2lvbicgfSxcbiAgICAgICc6JyxcbiAgICAgIHsgUmVmOiAnQVdTOjpBY2NvdW50SWQnIH0sXG4gICAgICAnOnNlY3JldDpNeVNlY3JldC0/Pz8/Pz8nLFxuICAgIF1dLFxuICB9O1xuICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpJQU06OlBvbGljeScsIHtcbiAgICBQb2xpY3lEb2N1bWVudDoge1xuICAgICAgVmVyc2lvbjogJzIwMTItMTAtMTcnLFxuICAgICAgU3RhdGVtZW50OiBbe1xuICAgICAgICBBY3Rpb246IFtcbiAgICAgICAgICAnc2VjcmV0c21hbmFnZXI6R2V0U2VjcmV0VmFsdWUnLFxuICAgICAgICAgICdzZWNyZXRzbWFuYWdlcjpEZXNjcmliZVNlY3JldCcsXG4gICAgICAgIF0sXG4gICAgICAgIEVmZmVjdDogJ0FsbG93JyxcbiAgICAgICAgUmVzb3VyY2U6IGV4cGVjdGVkU2VjcmV0UmVmZXJlbmNlLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgQWN0aW9uOiBbXG4gICAgICAgICAgJ3NlY3JldHNtYW5hZ2VyOlB1dFNlY3JldFZhbHVlJyxcbiAgICAgICAgICAnc2VjcmV0c21hbmFnZXI6VXBkYXRlU2VjcmV0JyxcbiAgICAgICAgXSxcbiAgICAgICAgRWZmZWN0OiAnQWxsb3cnLFxuICAgICAgICBSZXNvdXJjZTogZXhwZWN0ZWRTZWNyZXRSZWZlcmVuY2UsXG4gICAgICB9XSxcbiAgICB9LFxuICB9KTtcbn0pO1xuXG50ZXN0KCdjYW4gYXR0YWNoIGEgc2VjcmV0IHdpdGggYXR0YWNoKCknLCAoKSA9PiB7XG4gIC8vIEdJVkVOXG4gIGNvbnN0IHNlY3JldCA9IG5ldyBzZWNyZXRzbWFuYWdlci5TZWNyZXQoc3RhY2ssICdTZWNyZXQnKTtcblxuICAvLyBXSEVOXG4gIHNlY3JldC5hdHRhY2goe1xuICAgIGFzU2VjcmV0QXR0YWNobWVudFRhcmdldDogKCkgPT4gKHtcbiAgICAgIHRhcmdldElkOiAndGFyZ2V0LWlkJyxcbiAgICAgIHRhcmdldFR5cGU6IHNlY3JldHNtYW5hZ2VyLkF0dGFjaG1lbnRUYXJnZXRUeXBlLkRPQ0RCX0RCX0lOU1RBTkNFLFxuICAgIH0pLFxuICB9KTtcblxuICAvLyBUSEVOXG4gIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OlNlY3JldHNNYW5hZ2VyOjpTZWNyZXRUYXJnZXRBdHRhY2htZW50Jywge1xuICAgIFNlY3JldElkOiB7XG4gICAgICBSZWY6ICdTZWNyZXRBNzIwRUYwNScsXG4gICAgfSxcbiAgICBUYXJnZXRJZDogJ3RhcmdldC1pZCcsXG4gICAgVGFyZ2V0VHlwZTogJ0FXUzo6RG9jREI6OkRCSW5zdGFuY2UnLFxuICB9KTtcbn0pO1xuXG50ZXN0KCd0aHJvd3Mgd2hlbiB0cnlpbmcgdG8gYXR0YWNoIGEgdGFyZ2V0IG11bHRpcGxlIHRpbWVzIHRvIGEgc2VjcmV0JywgKCkgPT4ge1xuICAvLyBHSVZFTlxuICBjb25zdCBzZWNyZXQgPSBuZXcgc2VjcmV0c21hbmFnZXIuU2VjcmV0KHN0YWNrLCAnU2VjcmV0Jyk7XG4gIGNvbnN0IHRhcmdldCA9IHtcbiAgICBhc1NlY3JldEF0dGFjaG1lbnRUYXJnZXQ6ICgpID0+ICh7XG4gICAgICB0YXJnZXRJZDogJ3RhcmdldC1pZCcsXG4gICAgICB0YXJnZXRUeXBlOiBzZWNyZXRzbWFuYWdlci5BdHRhY2htZW50VGFyZ2V0VHlwZS5ET0NEQl9EQl9JTlNUQU5DRSxcbiAgICB9KSxcbiAgfTtcbiAgc2VjcmV0LmF0dGFjaCh0YXJnZXQpO1xuXG4gIC8vIFRIRU5cbiAgZXhwZWN0KCgpID0+IHNlY3JldC5hdHRhY2godGFyZ2V0KSkudG9UaHJvdygvU2VjcmV0IGlzIGFscmVhZHkgYXR0YWNoZWQgdG8gYSB0YXJnZXQvKTtcbn0pO1xuXG50ZXN0KCdhZGQgYSByb3RhdGlvbiBzY2hlZHVsZSB0byBhbiBhdHRhY2hlZCBzZWNyZXQnLCAoKSA9PiB7XG4gIC8vIEdJVkVOXG4gIGNvbnN0IHNlY3JldCA9IG5ldyBzZWNyZXRzbWFuYWdlci5TZWNyZXQoc3RhY2ssICdTZWNyZXQnKTtcbiAgY29uc3QgYXR0YWNoZWRTZWNyZXQgPSBzZWNyZXQuYXR0YWNoKHtcbiAgICBhc1NlY3JldEF0dGFjaG1lbnRUYXJnZXQ6ICgpID0+ICh7XG4gICAgICB0YXJnZXRJZDogJ3RhcmdldC1pZCcsXG4gICAgICB0YXJnZXRUeXBlOiBzZWNyZXRzbWFuYWdlci5BdHRhY2htZW50VGFyZ2V0VHlwZS5ET0NEQl9EQl9JTlNUQU5DRSxcbiAgICB9KSxcbiAgfSk7XG4gIGNvbnN0IHJvdGF0aW9uTGFtYmRhID0gbmV3IGxhbWJkYS5GdW5jdGlvbihzdGFjaywgJ0xhbWJkYScsIHtcbiAgICBydW50aW1lOiBsYW1iZGEuUnVudGltZS5OT0RFSlNfMTRfWCxcbiAgICBjb2RlOiBsYW1iZGEuQ29kZS5mcm9tSW5saW5lKCdleHBvcnQuaGFuZGxlciA9IGV2ZW50ID0+IGV2ZW50OycpLFxuICAgIGhhbmRsZXI6ICdpbmRleC5oYW5kbGVyJyxcbiAgfSk7XG5cbiAgLy8gV0hFTlxuICBhdHRhY2hlZFNlY3JldC5hZGRSb3RhdGlvblNjaGVkdWxlKCdSb3RhdGlvblNjaGVkdWxlJywge1xuICAgIHJvdGF0aW9uTGFtYmRhLFxuICB9KTtcblxuICAvLyBUSEVOXG4gIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OlNlY3JldHNNYW5hZ2VyOjpSb3RhdGlvblNjaGVkdWxlJywge1xuICAgIFNlY3JldElkOiB7XG4gICAgICBSZWY6ICdTZWNyZXRBdHRhY2htZW50MkUxQjdDM0InLCAvLyBUaGUgc2VjcmV0IHJldHVybmVkIGJ5IHRoZSBhdHRhY2htZW50LCBub3QgdGhlIHNlY3JldCBpdHNlbGYuXG4gICAgfSxcbiAgfSk7XG59KTtcblxudGVzdCgndGhyb3dzIHdoZW4gc3BlY2lmeWluZyBzZWNyZXRTdHJpbmdUZW1wbGF0ZSBidXQgbm90IGdlbmVyYXRlU3RyaW5nS2V5JywgKCkgPT4ge1xuICBleHBlY3QoKCkgPT4gbmV3IHNlY3JldHNtYW5hZ2VyLlNlY3JldChzdGFjaywgJ1NlY3JldCcsIHtcbiAgICBnZW5lcmF0ZVNlY3JldFN0cmluZzoge1xuICAgICAgc2VjcmV0U3RyaW5nVGVtcGxhdGU6IEpTT04uc3RyaW5naWZ5KHsgdXNlcm5hbWU6ICd1c2VybmFtZScgfSksXG4gICAgfSxcbiAgfSkpLnRvVGhyb3coL2BzZWNyZXRTdHJpbmdUZW1wbGF0ZWAuK2BnZW5lcmF0ZVN0cmluZ0tleWAvKTtcbn0pO1xuXG50ZXN0KCd0aHJvd3Mgd2hlbiBzcGVjaWZ5aW5nIGdlbmVyYXRlU3RyaW5nS2V5IGJ1dCBub3Qgc2VjcmV0U3RyaW5nVGVtcGxhdGUnLCAoKSA9PiB7XG4gIGV4cGVjdCgoKSA9PiBuZXcgc2VjcmV0c21hbmFnZXIuU2VjcmV0KHN0YWNrLCAnU2VjcmV0Jywge1xuICAgIGdlbmVyYXRlU2VjcmV0U3RyaW5nOiB7XG4gICAgICBnZW5lcmF0ZVN0cmluZ0tleTogJ3Bhc3N3b3JkJyxcbiAgICB9LFxuICB9KSkudG9UaHJvdygvYHNlY3JldFN0cmluZ1RlbXBsYXRlYC4rYGdlbmVyYXRlU3RyaW5nS2V5YC8pO1xufSk7XG5cbnRlc3QoJ2VxdWl2YWxlbmNlIG9mIFNlY3JldFZhbHVlIGFuZCBTZWNyZXQuZnJvbVNlY3JldEF0dHJpYnV0ZXMnLCAoKSA9PiB7XG4gIC8vIEdJVkVOXG4gIGNvbnN0IHNlY3JldEFybiA9ICdhcm46YXdzOnNlY3JldHNtYW5hZ2VyOmV1LXdlc3QtMToxMTExMTExMTExMTE6c2VjcmV0Ok15U2VjcmV0LWYzZ0R5OSc7XG5cbiAgLy8gV0hFTlxuICBjb25zdCBpbXBvcnRlZCA9IHNlY3JldHNtYW5hZ2VyLlNlY3JldC5mcm9tU2VjcmV0QXR0cmlidXRlcyhzdGFjaywgJ0ltcG9ydGVkJywgeyBzZWNyZXRDb21wbGV0ZUFybjogc2VjcmV0QXJuIH0pLnNlY3JldFZhbHVlRnJvbUpzb24oJ3Bhc3N3b3JkJyk7XG4gIGNvbnN0IHZhbHVlID0gY2RrLlNlY3JldFZhbHVlLnNlY3JldHNNYW5hZ2VyKHNlY3JldEFybiwgeyBqc29uRmllbGQ6ICdwYXNzd29yZCcgfSk7XG5cbiAgLy8gVEhFTlxuICBleHBlY3Qoc3RhY2sucmVzb2x2ZShpbXBvcnRlZCkpLnRvRXF1YWwoc3RhY2sucmVzb2x2ZSh2YWx1ZSkpO1xufSk7XG5cbnRlc3QoJ2NhbiBhZGQgdG8gdGhlIHJlc291cmNlIHBvbGljeSBvZiBhIHNlY3JldCcsICgpID0+IHtcbiAgLy8gR0lWRU5cbiAgY29uc3Qgc2VjcmV0ID0gbmV3IHNlY3JldHNtYW5hZ2VyLlNlY3JldChzdGFjaywgJ1NlY3JldCcpO1xuXG4gIC8vIFdIRU5cbiAgc2VjcmV0LmFkZFRvUmVzb3VyY2VQb2xpY3kobmV3IGlhbS5Qb2xpY3lTdGF0ZW1lbnQoe1xuICAgIGFjdGlvbnM6IFsnc2VjcmV0c21hbmFnZXI6R2V0U2VjcmV0VmFsdWUnXSxcbiAgICByZXNvdXJjZXM6IFsnKiddLFxuICAgIHByaW5jaXBhbHM6IFtuZXcgaWFtLkFyblByaW5jaXBhbCgnYXJuOmF3czppYW06OjEyMzQ1Njc4OTAxMjp1c2VyL2Nvb2wtdXNlcicpXSxcbiAgfSkpO1xuXG4gIC8vIFRIRU5cbiAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6U2VjcmV0c01hbmFnZXI6OlJlc291cmNlUG9saWN5Jywge1xuICAgIFJlc291cmNlUG9saWN5OiB7XG4gICAgICBTdGF0ZW1lbnQ6IFtcbiAgICAgICAge1xuICAgICAgICAgIEFjdGlvbjogJ3NlY3JldHNtYW5hZ2VyOkdldFNlY3JldFZhbHVlJyxcbiAgICAgICAgICBFZmZlY3Q6ICdBbGxvdycsXG4gICAgICAgICAgUHJpbmNpcGFsOiB7XG4gICAgICAgICAgICBBV1M6ICdhcm46YXdzOmlhbTo6MTIzNDU2Nzg5MDEyOnVzZXIvY29vbC11c2VyJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIFJlc291cmNlOiAnKicsXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgICAgVmVyc2lvbjogJzIwMTItMTAtMTcnLFxuICAgIH0sXG4gICAgU2VjcmV0SWQ6IHtcbiAgICAgIFJlZjogJ1NlY3JldEE3MjBFRjA1JyxcbiAgICB9LFxuICB9KTtcbn0pO1xuXG50ZXN0KCdmYWlscyBpZiBzZWNyZXQgcG9saWN5IGhhcyBubyBhY3Rpb25zJywgKCkgPT4ge1xuICAvLyBHSVZFTlxuICBzdGFjayA9IG5ldyBjZGsuU3RhY2soYXBwLCAnbXktc3RhY2snKTtcbiAgY29uc3Qgc2VjcmV0ID0gbmV3IHNlY3JldHNtYW5hZ2VyLlNlY3JldChzdGFjaywgJ1NlY3JldCcpO1xuXG4gIC8vIFdIRU5cbiAgc2VjcmV0LmFkZFRvUmVzb3VyY2VQb2xpY3kobmV3IGlhbS5Qb2xpY3lTdGF0ZW1lbnQoe1xuICAgIHJlc291cmNlczogWycqJ10sXG4gICAgcHJpbmNpcGFsczogW25ldyBpYW0uQXJuUHJpbmNpcGFsKCdhcm4nKV0sXG4gIH0pKTtcblxuICAvLyBUSEVOXG4gIGV4cGVjdCgoKSA9PiBhcHAuc3ludGgoKSkudG9UaHJvdygvQSBQb2xpY3lTdGF0ZW1lbnQgbXVzdCBzcGVjaWZ5IGF0IGxlYXN0IG9uZSBcXCdhY3Rpb25cXCcgb3IgXFwnbm90QWN0aW9uXFwnLyk7XG59KTtcblxudGVzdCgnZmFpbHMgaWYgc2VjcmV0IHBvbGljeSBoYXMgbm8gSUFNIHByaW5jaXBhbHMnLCAoKSA9PiB7XG4gIC8vIEdJVkVOXG4gIHN0YWNrID0gbmV3IGNkay5TdGFjayhhcHAsICdteS1zdGFjaycpO1xuICBjb25zdCBzZWNyZXQgPSBuZXcgc2VjcmV0c21hbmFnZXIuU2VjcmV0KHN0YWNrLCAnU2VjcmV0Jyk7XG5cbiAgLy8gV0hFTlxuICBzZWNyZXQuYWRkVG9SZXNvdXJjZVBvbGljeShuZXcgaWFtLlBvbGljeVN0YXRlbWVudCh7XG4gICAgcmVzb3VyY2VzOiBbJyonXSxcbiAgICBhY3Rpb25zOiBbJ3NlY3JldHNtYW5hZ2VyOionXSxcbiAgfSkpO1xuXG4gIC8vIFRIRU5cbiAgZXhwZWN0KCgpID0+IGFwcC5zeW50aCgpKS50b1Rocm93KC9BIFBvbGljeVN0YXRlbWVudCB1c2VkIGluIGEgcmVzb3VyY2UtYmFzZWQgcG9saWN5IG11c3Qgc3BlY2lmeSBhdCBsZWFzdCBvbmUgSUFNIHByaW5jaXBhbC8pO1xufSk7XG5cbnRlc3QoJ3dpdGggcmVwbGljYXRpb24gcmVnaW9ucycsICgpID0+IHtcbiAgLy8gV0hFTlxuICBjb25zdCBzZWNyZXQgPSBuZXcgc2VjcmV0c21hbmFnZXIuU2VjcmV0KHN0YWNrLCAnU2VjcmV0Jywge1xuICAgIHJlcGxpY2FSZWdpb25zOiBbeyByZWdpb246ICdldS13ZXN0LTEnIH1dLFxuICB9KTtcbiAgc2VjcmV0LmFkZFJlcGxpY2FSZWdpb24oJ2V1LWNlbnRyYWwtMScsIGttcy5LZXkuZnJvbUtleUFybihzdGFjaywgJ0tleScsICdhcm46YXdzOmttczpldS1jZW50cmFsLTE6MTIzNDU2Nzg5MDEyOmtleS9teS1rZXktaWQnKSk7XG5cbiAgLy8gVEhFTlxuICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpTZWNyZXRzTWFuYWdlcjo6U2VjcmV0Jywge1xuICAgIFJlcGxpY2FSZWdpb25zOiBbXG4gICAgICB7IFJlZ2lvbjogJ2V1LXdlc3QtMScgfSxcbiAgICAgIHtcbiAgICAgICAgS21zS2V5SWQ6ICdhcm46YXdzOmttczpldS1jZW50cmFsLTE6MTIzNDU2Nzg5MDEyOmtleS9teS1rZXktaWQnLFxuICAgICAgICBSZWdpb246ICdldS1jZW50cmFsLTEnLFxuICAgICAgfSxcbiAgICBdLFxuICB9KTtcbn0pO1xuXG5kZXNjcmliZSgnc2VjcmV0T2JqZWN0VmFsdWUnLCAoKSA9PiB7XG4gIHRlc3QoJ2NhbiBiZSB1c2VkIHdpdGggYSBtaXh0dXJlIG9mIHBsYWluIHRleHQgYW5kIFNlY3JldFZhbHVlJywgKCkgPT4ge1xuICAgIGNvbnN0IHVzZXIgPSBuZXcgaWFtLlVzZXIoc3RhY2ssICdVc2VyJyk7XG4gICAgY29uc3QgYWNjZXNzS2V5ID0gbmV3IGlhbS5BY2Nlc3NLZXkoc3RhY2ssICdNeUtleScsIHsgdXNlciB9KTtcbiAgICBuZXcgc2VjcmV0c21hbmFnZXIuU2VjcmV0KHN0YWNrLCAnU2VjcmV0Jywge1xuICAgICAgc2VjcmV0T2JqZWN0VmFsdWU6IHtcbiAgICAgICAgdXNlcm5hbWU6IGNkay5TZWNyZXRWYWx1ZS51bnNhZmVQbGFpblRleHQoJ3VzZXJuYW1lJyksXG4gICAgICAgIHBhc3N3b3JkOiBhY2Nlc3NLZXkuc2VjcmV0QWNjZXNzS2V5LFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OlNlY3JldHNNYW5hZ2VyOjpTZWNyZXQnLCB7XG4gICAgICBHZW5lcmF0ZVNlY3JldFN0cmluZzogTWF0Y2guYWJzZW50KCksXG4gICAgICBTZWNyZXRTdHJpbmc6IHtcbiAgICAgICAgJ0ZuOjpKb2luJzogW1xuICAgICAgICAgICcnLFxuICAgICAgICAgIFtcbiAgICAgICAgICAgICd7XCJ1c2VybmFtZVwiOlwidXNlcm5hbWVcIixcInBhc3N3b3JkXCI6XCInLFxuICAgICAgICAgICAgeyAnRm46OkdldEF0dCc6IFsnTXlLZXk2QUIyOUZBNicsICdTZWNyZXRBY2Nlc3NLZXknXSB9LFxuICAgICAgICAgICAgJ1wifScsXG4gICAgICAgICAgXSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH0pO1xuXG4gIHRlc3QoJ2NhbiBiZSB1c2VkIHdpdGggYSBtaXh0dXJlIG9mIHBsYWluIHRleHQgYW5kIFNlY3JldFZhbHVlLCB3aXRoIGZlYXR1cmUgZmxhZycsICgpID0+IHtcbiAgICBjb25zdCBmZWF0dXJlU3RhY2sgPSBuZXcgY2RrLlN0YWNrKCk7XG4gICAgZmVhdHVyZVN0YWNrLm5vZGUuc2V0Q29udGV4dCgnQGF3cy1jZGsvY29yZTpjaGVja1NlY3JldFVzYWdlJywgdHJ1ZSk7XG4gICAgY29uc3QgdXNlciA9IG5ldyBpYW0uVXNlcihmZWF0dXJlU3RhY2ssICdVc2VyJyk7XG4gICAgY29uc3QgYWNjZXNzS2V5ID0gbmV3IGlhbS5BY2Nlc3NLZXkoZmVhdHVyZVN0YWNrLCAnTXlLZXknLCB7IHVzZXIgfSk7XG4gICAgbmV3IHNlY3JldHNtYW5hZ2VyLlNlY3JldChmZWF0dXJlU3RhY2ssICdTZWNyZXQnLCB7XG4gICAgICBzZWNyZXRPYmplY3RWYWx1ZToge1xuICAgICAgICB1c2VybmFtZTogY2RrLlNlY3JldFZhbHVlLnVuc2FmZVBsYWluVGV4dCgndXNlcm5hbWUnKSxcbiAgICAgICAgcGFzc3dvcmQ6IGFjY2Vzc0tleS5zZWNyZXRBY2Nlc3NLZXksXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgVGVtcGxhdGUuZnJvbVN0YWNrKGZlYXR1cmVTdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OlNlY3JldHNNYW5hZ2VyOjpTZWNyZXQnLCB7XG4gICAgICBHZW5lcmF0ZVNlY3JldFN0cmluZzogTWF0Y2guYWJzZW50KCksXG4gICAgICBTZWNyZXRTdHJpbmc6IHtcbiAgICAgICAgJ0ZuOjpKb2luJzogW1xuICAgICAgICAgICcnLFxuICAgICAgICAgIFtcbiAgICAgICAgICAgICd7XCJ1c2VybmFtZVwiOlwidXNlcm5hbWVcIixcInBhc3N3b3JkXCI6XCInLFxuICAgICAgICAgICAgeyAnRm46OkdldEF0dCc6IFsnTXlLZXk2QUIyOUZBNicsICdTZWNyZXRBY2Nlc3NLZXknXSB9LFxuICAgICAgICAgICAgJ1wifScsXG4gICAgICAgICAgXSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXX0=