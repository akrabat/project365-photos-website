"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const assertions_1 = require("../../assertions");
const core_1 = require("../../core");
const lib_1 = require("../lib");
let stack;
beforeEach(() => {
    stack = new core_1.Stack();
});
test('default configuration set', () => {
    new lib_1.ConfigurationSet(stack, 'ConfigurationSet');
    assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::SES::ConfigurationSet', {
        Name: assertions_1.Match.absent(),
    });
});
test('configuration set with options', () => {
    new lib_1.ConfigurationSet(stack, 'ConfigurationSet', {
        customTrackingRedirectDomain: 'track.cdk.dev',
        suppressionReasons: lib_1.SuppressionReasons.COMPLAINTS_ONLY,
        tlsPolicy: lib_1.ConfigurationSetTlsPolicy.REQUIRE,
        dedicatedIpPool: new lib_1.DedicatedIpPool(stack, 'Pool'),
    });
    assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::SES::ConfigurationSet', {
        DeliveryOptions: {
            SendingPoolName: {
                Ref: 'PoolD3F588B8',
            },
            TlsPolicy: 'REQUIRE',
        },
        SuppressionOptions: {
            SuppressedReasons: [
                'COMPLAINT',
            ],
        },
        TrackingOptions: {
            CustomRedirectDomain: 'track.cdk.dev',
        },
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uZmlndXJhdGlvbi1zZXQudGVzdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImNvbmZpZ3VyYXRpb24tc2V0LnRlc3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxpREFBbUQ7QUFDbkQscUNBQW1DO0FBQ25DLGdDQUEwRztBQUUxRyxJQUFJLEtBQVksQ0FBQztBQUNqQixVQUFVLENBQUMsR0FBRyxFQUFFO0lBQ2QsS0FBSyxHQUFHLElBQUksWUFBSyxFQUFFLENBQUM7QUFDdEIsQ0FBQyxDQUFDLENBQUM7QUFFSCxJQUFJLENBQUMsMkJBQTJCLEVBQUUsR0FBRyxFQUFFO0lBQ3JDLElBQUksc0JBQWdCLENBQUMsS0FBSyxFQUFFLGtCQUFrQixDQUFDLENBQUM7SUFFaEQscUJBQVEsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMscUJBQXFCLENBQUMsNEJBQTRCLEVBQUU7UUFDNUUsSUFBSSxFQUFFLGtCQUFLLENBQUMsTUFBTSxFQUFFO0tBQ3JCLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDO0FBRUgsSUFBSSxDQUFDLGdDQUFnQyxFQUFFLEdBQUcsRUFBRTtJQUMxQyxJQUFJLHNCQUFnQixDQUFDLEtBQUssRUFBRSxrQkFBa0IsRUFBRTtRQUM5Qyw0QkFBNEIsRUFBRSxlQUFlO1FBQzdDLGtCQUFrQixFQUFFLHdCQUFrQixDQUFDLGVBQWU7UUFDdEQsU0FBUyxFQUFFLCtCQUF5QixDQUFDLE9BQU87UUFDNUMsZUFBZSxFQUFFLElBQUkscUJBQWUsQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDO0tBQ3BELENBQUMsQ0FBQztJQUVILHFCQUFRLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDLHFCQUFxQixDQUFDLDRCQUE0QixFQUFFO1FBQzVFLGVBQWUsRUFBRTtZQUNmLGVBQWUsRUFBRTtnQkFDZixHQUFHLEVBQUUsY0FBYzthQUNwQjtZQUNELFNBQVMsRUFBRSxTQUFTO1NBQ3JCO1FBQ0Qsa0JBQWtCLEVBQUU7WUFDbEIsaUJBQWlCLEVBQUU7Z0JBQ2pCLFdBQVc7YUFDWjtTQUNGO1FBQ0QsZUFBZSxFQUFFO1lBQ2Ysb0JBQW9CLEVBQUUsZUFBZTtTQUN0QztLQUNGLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVGVtcGxhdGUsIE1hdGNoIH0gZnJvbSAnLi4vLi4vYXNzZXJ0aW9ucyc7XG5pbXBvcnQgeyBTdGFjayB9IGZyb20gJy4uLy4uL2NvcmUnO1xuaW1wb3J0IHsgQ29uZmlndXJhdGlvblNldCwgQ29uZmlndXJhdGlvblNldFRsc1BvbGljeSwgRGVkaWNhdGVkSXBQb29sLCBTdXBwcmVzc2lvblJlYXNvbnMgfSBmcm9tICcuLi9saWInO1xuXG5sZXQgc3RhY2s6IFN0YWNrO1xuYmVmb3JlRWFjaCgoKSA9PiB7XG4gIHN0YWNrID0gbmV3IFN0YWNrKCk7XG59KTtcblxudGVzdCgnZGVmYXVsdCBjb25maWd1cmF0aW9uIHNldCcsICgpID0+IHtcbiAgbmV3IENvbmZpZ3VyYXRpb25TZXQoc3RhY2ssICdDb25maWd1cmF0aW9uU2V0Jyk7XG5cbiAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6U0VTOjpDb25maWd1cmF0aW9uU2V0Jywge1xuICAgIE5hbWU6IE1hdGNoLmFic2VudCgpLFxuICB9KTtcbn0pO1xuXG50ZXN0KCdjb25maWd1cmF0aW9uIHNldCB3aXRoIG9wdGlvbnMnLCAoKSA9PiB7XG4gIG5ldyBDb25maWd1cmF0aW9uU2V0KHN0YWNrLCAnQ29uZmlndXJhdGlvblNldCcsIHtcbiAgICBjdXN0b21UcmFja2luZ1JlZGlyZWN0RG9tYWluOiAndHJhY2suY2RrLmRldicsXG4gICAgc3VwcHJlc3Npb25SZWFzb25zOiBTdXBwcmVzc2lvblJlYXNvbnMuQ09NUExBSU5UU19PTkxZLFxuICAgIHRsc1BvbGljeTogQ29uZmlndXJhdGlvblNldFRsc1BvbGljeS5SRVFVSVJFLFxuICAgIGRlZGljYXRlZElwUG9vbDogbmV3IERlZGljYXRlZElwUG9vbChzdGFjaywgJ1Bvb2wnKSxcbiAgfSk7XG5cbiAgVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6U0VTOjpDb25maWd1cmF0aW9uU2V0Jywge1xuICAgIERlbGl2ZXJ5T3B0aW9uczoge1xuICAgICAgU2VuZGluZ1Bvb2xOYW1lOiB7XG4gICAgICAgIFJlZjogJ1Bvb2xEM0Y1ODhCOCcsXG4gICAgICB9LFxuICAgICAgVGxzUG9saWN5OiAnUkVRVUlSRScsXG4gICAgfSxcbiAgICBTdXBwcmVzc2lvbk9wdGlvbnM6IHtcbiAgICAgIFN1cHByZXNzZWRSZWFzb25zOiBbXG4gICAgICAgICdDT01QTEFJTlQnLFxuICAgICAgXSxcbiAgICB9LFxuICAgIFRyYWNraW5nT3B0aW9uczoge1xuICAgICAgQ3VzdG9tUmVkaXJlY3REb21haW46ICd0cmFjay5jZGsuZGV2JyxcbiAgICB9LFxuICB9KTtcbn0pO1xuIl19