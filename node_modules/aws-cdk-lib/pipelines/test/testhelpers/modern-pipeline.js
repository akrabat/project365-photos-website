"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ModernTestGitHubNpmPipeline = void 0;
const cdkp = require("../../lib");
class ModernTestGitHubNpmPipeline extends cdkp.CodePipeline {
    constructor(scope, id, props) {
        const source = cdkp.CodePipelineSource.gitHub('test/test', 'main');
        const synth = props?.synth ?? new cdkp.ShellStep('Synth', {
            input: source,
            installCommands: ['npm ci'],
            commands: ['npx cdk synth'],
            ...props,
        });
        super(scope, id, {
            synth: synth,
            ...props,
        });
        this.gitHubSource = source;
    }
}
exports.ModernTestGitHubNpmPipeline = ModernTestGitHubNpmPipeline;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kZXJuLXBpcGVsaW5lLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kZXJuLXBpcGVsaW5lLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUVBLGtDQUFrQztBQUlsQyxNQUFhLDJCQUE0QixTQUFRLElBQUksQ0FBQyxZQUFZO0lBR2hFLFlBQVksS0FBZ0IsRUFBRSxFQUFVLEVBQUUsS0FBd0M7UUFDaEYsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixDQUFDLE1BQU0sQ0FBQyxXQUFXLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDbkUsTUFBTSxLQUFLLEdBQUcsS0FBSyxFQUFFLEtBQUssSUFBSSxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxFQUFFO1lBQ3hELEtBQUssRUFBRSxNQUFNO1lBQ2IsZUFBZSxFQUFFLENBQUMsUUFBUSxDQUFDO1lBQzNCLFFBQVEsRUFBRSxDQUFDLGVBQWUsQ0FBQztZQUMzQixHQUFHLEtBQUs7U0FDVCxDQUFDLENBQUM7UUFFSCxLQUFLLENBQUMsS0FBSyxFQUFFLEVBQUUsRUFBRTtZQUNmLEtBQUssRUFBRSxLQUFLO1lBQ1osR0FBRyxLQUFLO1NBQ1QsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLFlBQVksR0FBRyxNQUFNLENBQUM7S0FDNUI7Q0FDRjtBQW5CRCxrRUFtQkMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBpbXBvcnQvbm8tZXh0cmFuZW91cy1kZXBlbmRlbmNpZXMgKi9cbmltcG9ydCB7IENvbnN0cnVjdCB9IGZyb20gJ2NvbnN0cnVjdHMnO1xuaW1wb3J0ICogYXMgY2RrcCBmcm9tICcuLi8uLi9saWInO1xuXG5leHBvcnQgdHlwZSBNb2Rlcm5UZXN0R2l0SHViTnBtUGlwZWxpbmVQcm9wcyA9IFBhcnRpYWw8Y2RrcC5Db2RlUGlwZWxpbmVQcm9wcz4gJiBQYXJ0aWFsPGNka3AuU2hlbGxTdGVwUHJvcHM+O1xuXG5leHBvcnQgY2xhc3MgTW9kZXJuVGVzdEdpdEh1Yk5wbVBpcGVsaW5lIGV4dGVuZHMgY2RrcC5Db2RlUGlwZWxpbmUge1xuICBwdWJsaWMgcmVhZG9ubHkgZ2l0SHViU291cmNlOiBjZGtwLkNvZGVQaXBlbGluZVNvdXJjZTtcblxuICBjb25zdHJ1Y3RvcihzY29wZTogQ29uc3RydWN0LCBpZDogc3RyaW5nLCBwcm9wcz86IE1vZGVyblRlc3RHaXRIdWJOcG1QaXBlbGluZVByb3BzKSB7XG4gICAgY29uc3Qgc291cmNlID0gY2RrcC5Db2RlUGlwZWxpbmVTb3VyY2UuZ2l0SHViKCd0ZXN0L3Rlc3QnLCAnbWFpbicpO1xuICAgIGNvbnN0IHN5bnRoID0gcHJvcHM/LnN5bnRoID8/IG5ldyBjZGtwLlNoZWxsU3RlcCgnU3ludGgnLCB7XG4gICAgICBpbnB1dDogc291cmNlLFxuICAgICAgaW5zdGFsbENvbW1hbmRzOiBbJ25wbSBjaSddLFxuICAgICAgY29tbWFuZHM6IFsnbnB4IGNkayBzeW50aCddLFxuICAgICAgLi4ucHJvcHMsXG4gICAgfSk7XG5cbiAgICBzdXBlcihzY29wZSwgaWQsIHtcbiAgICAgIHN5bnRoOiBzeW50aCxcbiAgICAgIC4uLnByb3BzLFxuICAgIH0pO1xuXG4gICAgdGhpcy5naXRIdWJTb3VyY2UgPSBzb3VyY2U7XG4gIH1cbn0iXX0=