{
  "version": 3,
  "sources": ["../../../test/unit/queues.test.ts"],
  "sourcesContent": ["import { merge } from \"lodash\";\nimport * as sinon from \"sinon\";\nimport type { DeleteMessageBatchResult, ReceiveMessageResult, SendMessageBatchResult } from \"aws-sdk/clients/sqs\";\nimport * as CloudFormationHelpers from \"../../src/CloudFormation\";\nimport { pluginConfigExt, runServerless } from \"../utils/runServerless\";\nimport { mockAws } from \"../utils/mockAws\";\nimport ServerlessError from \"../../src/utils/error\";\n\ndescribe(\"queues\", () => {\n    afterEach(() => {\n        sinon.restore();\n    });\n\n    it(\"should create all required resources\", async () => {\n        const {\n            cfTemplate,\n            computeLogicalId,\n            serverless: { version },\n        } = await runServerless({\n            fixture: \"queues\",\n            configExt: pluginConfigExt,\n            command: \"package\",\n        });\n        expect(Object.keys(cfTemplate.Resources)).toStrictEqual([\n            \"ServerlessDeploymentBucket\",\n            \"ServerlessDeploymentBucketPolicy\",\n            // Lambda worker\n            \"EmailsWorkerLogGroup\",\n            \"IamRoleLambdaExecution\",\n            \"EmailsWorkerLambdaFunction\",\n            // Lambda subscription to SQS\n            \"EmailsWorkerEventSourceMappingSQSEmailsQueueF057328A\",\n            // Queues\n            \"emailsDlq47F8494C\",\n            \"emailsQueueF057328A\",\n        ]);\n        expect(cfTemplate.Resources[computeLogicalId(\"emails\", \"Queue\")]).toMatchObject({\n            DeletionPolicy: \"Delete\",\n            Properties: {\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n                QueueName: expect.stringMatching(/test-queues-\\w+-dev-emails/),\n                RedrivePolicy: {\n                    deadLetterTargetArn: {\n                        \"Fn::GetAtt\": [computeLogicalId(\"emails\", \"Dlq\"), \"Arn\"],\n                    },\n                    maxReceiveCount: 3,\n                },\n                VisibilityTimeout: 36,\n            },\n            Type: \"AWS::SQS::Queue\",\n            UpdateReplacePolicy: \"Delete\",\n        });\n        expect(cfTemplate.Resources[computeLogicalId(\"emails\", \"Dlq\")]).toMatchObject({\n            DeletionPolicy: \"Delete\",\n            Properties: {\n                MessageRetentionPeriod: 1209600,\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n                QueueName: expect.stringMatching(/test-queues-\\w+-dev-emails-dlq/),\n            },\n            Type: \"AWS::SQS::Queue\",\n            UpdateReplacePolicy: \"Delete\",\n        });\n        expect(cfTemplate.Resources.EmailsWorkerLambdaFunction).toMatchObject({\n            DependsOn: [\"EmailsWorkerLogGroup\"],\n            Properties: {\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n                FunctionName: expect.stringMatching(/test-queues-\\w+-dev-emailsWorker/),\n                Handler: \"worker.handler\",\n                MemorySize: 1024,\n                Role: {\n                    \"Fn::GetAtt\": [\"IamRoleLambdaExecution\", \"Arn\"],\n                },\n                // nodejs14 on v3, nodejs12 on v2\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n                Runtime: expect.stringContaining(\"nodejs\"),\n                Timeout: 6,\n            },\n            Type: \"AWS::Lambda::Function\",\n        });\n        expect(cfTemplate.Resources.EmailsWorkerEventSourceMappingSQSEmailsQueueF057328A).toEqual({\n            DependsOn: [\"IamRoleLambdaExecution\"],\n            Properties: {\n                BatchSize: 1,\n                Enabled: true,\n                EventSourceArn: {\n                    \"Fn::GetAtt\": [computeLogicalId(\"emails\", \"Queue\"), \"Arn\"],\n                },\n                FunctionName: {\n                    \"Fn::GetAtt\": [\"EmailsWorkerLambdaFunction\", \"Arn\"],\n                },\n                MaximumBatchingWindowInSeconds: 0,\n                FunctionResponseTypes: (version as string) >= \"2.67.0\" ? [\"ReportBatchItemFailures\"] : undefined,\n            },\n            Type: \"AWS::Lambda::EventSourceMapping\",\n        });\n        expect(cfTemplate.Outputs).toMatchObject({\n            [computeLogicalId(\"emails\", \"QueueArn\")]: {\n                Description: 'ARN of the \"emails\" SQS queue.',\n                Value: {\n                    \"Fn::GetAtt\": [computeLogicalId(\"emails\", \"Queue\"), \"Arn\"],\n                },\n            },\n            [computeLogicalId(\"emails\", \"QueueUrl\")]: {\n                Description: 'URL of the \"emails\" SQS queue.',\n                Value: {\n                    Ref: computeLogicalId(\"emails\", \"Queue\"),\n                },\n            },\n        });\n        // Lambda functions of the app are authorized to publish to SQS\n        expect(cfTemplate.Resources.IamRoleLambdaExecution).toMatchObject({\n            Type: \"AWS::IAM::Role\",\n            Properties: {\n                Policies: [\n                    {\n                        PolicyDocument: {\n                            // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n                            Statement: expect.arrayContaining([\n                                {\n                                    Action: [\"sqs:SendMessage\", \"sqs:ChangeMessageVisibility\"],\n                                    Effect: \"Allow\",\n                                    Resource: [\n                                        {\n                                            \"Fn::GetAtt\": [computeLogicalId(\"emails\", \"Queue\"), \"Arn\"],\n                                        },\n                                    ],\n                                },\n                            ]),\n                        },\n                    },\n                ],\n            },\n        });\n    });\n\n    it(\"sets the SQS visibility timeout to 6 times the function timeout + max batching window in seconds\", async () => {\n        const { cfTemplate, computeLogicalId } = await runServerless({\n            fixture: \"queues\",\n            configExt: merge({}, pluginConfigExt, {\n                constructs: {\n                    emails: {\n                        worker: {\n                            timeout: 7,\n                        },\n                    },\n                },\n            }),\n            command: \"package\",\n        });\n        expect(cfTemplate.Resources[computeLogicalId(\"emails\", \"Queue\")]).toMatchObject({\n            Properties: {\n                VisibilityTimeout: 7 * 6,\n            },\n        });\n        expect(cfTemplate.Resources.EmailsWorkerLambdaFunction).toMatchObject({\n            Properties: {\n                Timeout: 7,\n            },\n        });\n    });\n\n    it(\"sets the SQS visibility timeout to 6 times the function timeout + max batching window in seconds when using custom maxBatchingWindow\", async () => {\n        const { cfTemplate, computeLogicalId } = await runServerless({\n            fixture: \"queues\",\n            configExt: merge({}, pluginConfigExt, {\n                constructs: {\n                    emails: {\n                        maxBatchingWindow: 5,\n                        worker: {\n                            timeout: 7,\n                        },\n                    },\n                },\n            }),\n            command: \"package\",\n        });\n        expect(cfTemplate.Resources[computeLogicalId(\"emails\", \"Queue\")]).toMatchObject({\n            Properties: {\n                VisibilityTimeout: 7 * 6 + 5, // NOTE: 5 is the maxBatchingWindow\n            },\n        });\n        expect(cfTemplate.Resources.EmailsWorkerLambdaFunction).toMatchObject({\n            Properties: {\n                Timeout: 7,\n            },\n        });\n    });\n\n    it(\"allows changing the number of retries\", async () => {\n        const { cfTemplate, computeLogicalId } = await runServerless({\n            fixture: \"queues\",\n            configExt: merge({}, pluginConfigExt, {\n                constructs: {\n                    emails: {\n                        maxRetries: 1,\n                    },\n                },\n            }),\n            command: \"package\",\n        });\n        expect(cfTemplate.Resources[computeLogicalId(\"emails\", \"Queue\")]).toMatchObject({\n            Properties: {\n                RedrivePolicy: {\n                    maxReceiveCount: 1,\n                },\n            },\n        });\n    });\n\n    it(\"allows changing the batch size\", async () => {\n        const { cfTemplate } = await runServerless({\n            fixture: \"queues\",\n            configExt: merge({}, pluginConfigExt, {\n                constructs: {\n                    emails: {\n                        batchSize: 10,\n                    },\n                },\n            }),\n            command: \"package\",\n        });\n        expect(cfTemplate.Resources.EmailsWorkerEventSourceMappingSQSEmailsQueueF057328A).toMatchObject({\n            Properties: {\n                BatchSize: 10,\n            },\n        });\n    });\n\n    it(\"allows changing the max concurrency\", async () => {\n        const { cfTemplate, serverless } = await runServerless({\n            fixture: \"queues\",\n            configExt: merge({}, pluginConfigExt, {\n                constructs: {\n                    emails: {\n                        maxConcurrency: 10,\n                    },\n                },\n            }),\n            command: \"package\",\n        });\n        const serverlessVersion = serverless.version as string;\n        if (serverlessVersion.startsWith(\"3\")) {\n            expect(cfTemplate.Resources.EmailsWorkerEventSourceMappingSQSEmailsQueueF057328A).toMatchObject({\n                Properties: {\n                    ScalingConfig: {\n                        MaximumConcurrency: 10,\n                    },\n                },\n            });\n        } else {\n            expect(true).toEqual(true);\n        }\n    });\n\n    it(\"allows changing the delivery delay\", async () => {\n        const { cfTemplate, computeLogicalId } = await runServerless({\n            fixture: \"queues\",\n            configExt: merge({}, pluginConfigExt, {\n                constructs: {\n                    emails: {\n                        delay: 10,\n                    },\n                },\n            }),\n            command: \"package\",\n        });\n        expect(cfTemplate.Resources[computeLogicalId(\"emails\", \"Queue\")]).toMatchObject({\n            Properties: {\n                DelaySeconds: 10,\n            },\n        });\n    });\n\n    it(\"allows changing the encryption to kmsManaged\", async () => {\n        const { cfTemplate, computeLogicalId } = await runServerless({\n            fixture: \"queues\",\n            configExt: merge({}, pluginConfigExt, {\n                constructs: {\n                    emails: {\n                        encryption: \"kmsManaged\",\n                    },\n                },\n            }),\n            command: \"package\",\n        });\n        expect(cfTemplate.Resources[computeLogicalId(\"emails\", \"Queue\")]).toMatchObject({\n            Properties: {\n                KmsMasterKeyId: \"alias/aws/sqs\",\n            },\n        });\n    });\n\n    it(\"allows changing the encryption to kms\", async () => {\n        const { cfTemplate, computeLogicalId } = await runServerless({\n            fixture: \"queues\",\n            configExt: merge({}, pluginConfigExt, {\n                constructs: {\n                    emails: {\n                        encryption: \"kms\",\n                        encryptionKey: \"MyKey\",\n                    },\n                },\n            }),\n            command: \"package\",\n        });\n        expect(cfTemplate.Resources[computeLogicalId(\"emails\", \"Queue\")]).toMatchObject({\n            Properties: {\n                KmsMasterKeyId: {\n                    \"Fn::GetAtt\": [computeLogicalId(\"emails\", \"MyKey\"), \"Arn\"],\n                },\n            },\n        });\n    });\n\n    it(\"should throw an error if encryption is 'kms' but encryptionKey is missing\", async () => {\n        expect.assertions(2);\n\n        try {\n            await runServerless({\n                fixture: \"queues\",\n                configExt: merge({}, pluginConfigExt, {\n                    constructs: {\n                        emails: {\n                            encryption: \"kms\",\n                        },\n                    },\n                }),\n                command: \"package\",\n            });\n        } catch (error) {\n            expect(error).toBeInstanceOf(ServerlessError);\n            expect(error).toHaveProperty(\n                \"message\",\n                \"Invalid configuration in 'constructs.emails': 'encryptionKey' must be set if the 'encryption' is set to 'kms'\"\n            );\n        }\n    });\n\n    it(\"should throw an error if the delay is invalid\", async () => {\n        expect.assertions(2);\n\n        try {\n            await runServerless({\n                fixture: \"queues\",\n                configExt: merge({}, pluginConfigExt, {\n                    constructs: {\n                        emails: {\n                            delay: 901,\n                        },\n                    },\n                }),\n                command: \"package\",\n            });\n        } catch (error) {\n            expect(error).toBeInstanceOf(ServerlessError);\n            expect(error).toHaveProperty(\n                \"message\",\n                \"Invalid configuration in 'constructs.emails': 'delay' must be between 0 and 900, '901' given.\"\n            );\n        }\n    });\n\n    it(\"allows defining a DLQ email alarm\", async () => {\n        const { cfTemplate, computeLogicalId } = await runServerless({\n            fixture: \"queues\",\n            configExt: merge({}, pluginConfigExt, {\n                constructs: {\n                    emails: {\n                        alarm: \"alerting@example.com\",\n                    },\n                },\n            }),\n            command: \"package\",\n        });\n        expect(Object.keys(cfTemplate.Resources)).toStrictEqual([\n            \"ServerlessDeploymentBucket\",\n            \"ServerlessDeploymentBucketPolicy\",\n            \"EmailsWorkerLogGroup\",\n            \"IamRoleLambdaExecution\",\n            \"EmailsWorkerLambdaFunction\",\n            \"EmailsWorkerEventSourceMappingSQSEmailsQueueF057328A\",\n            \"emailsDlq47F8494C\",\n            \"emailsQueueF057328A\",\n            // Alarm\n            \"emailsAlarmTopic594BAEC9\",\n            \"emailsAlarmTopicSubscription688AECB6\",\n            \"emailsAlarm1821C14F\",\n        ]);\n        expect(cfTemplate.Resources[computeLogicalId(\"emails\", \"Alarm\")]).toMatchObject({\n            Properties: {\n                AlarmActions: [\n                    {\n                        Ref: computeLogicalId(\"emails\", \"AlarmTopic\"),\n                    },\n                ],\n                AlarmDescription: \"Alert triggered when there are failed jobs in the dead letter queue.\",\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n                AlarmName: expect.stringMatching(/test-queues-\\w+-dev-emails-dlq-alarm/),\n                ComparisonOperator: \"GreaterThanThreshold\",\n                Dimensions: [\n                    {\n                        Name: \"QueueName\",\n                        Value: {\n                            \"Fn::GetAtt\": [computeLogicalId(\"emails\", \"Dlq\"), \"QueueName\"],\n                        },\n                    },\n                ],\n                EvaluationPeriods: 1,\n                MetricName: \"ApproximateNumberOfMessagesVisible\",\n                Namespace: \"AWS/SQS\",\n                Period: 60,\n                Statistic: \"Sum\",\n                Threshold: 0,\n            },\n        });\n        expect(cfTemplate.Resources[computeLogicalId(\"emails\", \"AlarmTopic\")]).toMatchObject({\n            Properties: {\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n                TopicName: expect.stringMatching(/test-queues-\\w+-dev-emails-dlq-alarm-topic/),\n                DisplayName: \"[Alert][emails] There are failed jobs in the dead letter queue.\",\n            },\n        });\n        expect(cfTemplate.Resources[computeLogicalId(\"emails\", \"AlarmTopicSubscription\")]).toMatchObject({\n            Properties: {\n                Endpoint: \"alerting@example.com\",\n                Protocol: \"email\",\n                TopicArn: {\n                    Ref: computeLogicalId(\"emails\", \"AlarmTopic\"),\n                },\n            },\n        });\n    });\n\n    it(\"should purge messages from the DLQ\", async () => {\n        const awsMock = mockAws();\n        sinon.stub(CloudFormationHelpers, \"getStackOutput\").resolves(\"queue-url\");\n        const purgeSpy = awsMock.mockService(\"SQS\", \"purgeQueue\");\n\n        await runServerless({\n            fixture: \"queues\",\n            configExt: pluginConfigExt,\n            command: \"emails:failed:purge\",\n        });\n\n        expect(purgeSpy.firstCall.firstArg).toStrictEqual({\n            QueueUrl: \"queue-url\",\n        });\n    });\n\n    it(\"should not do anything if there are no failed messages to retry\", async () => {\n        const awsMock = mockAws();\n        sinon.stub(CloudFormationHelpers, \"getStackOutput\").resolves(\"queue-url\");\n        awsMock.mockService(\"SQS\", \"receiveMessage\").resolves({\n            Messages: [],\n        });\n        const sendSpy = awsMock.mockService(\"SQS\", \"sendMessageBatch\");\n        const deleteSpy = awsMock.mockService(\"SQS\", \"deleteMessageBatch\");\n\n        await runServerless({\n            fixture: \"queues\",\n            configExt: pluginConfigExt,\n            command: \"emails:failed:retry\",\n        });\n\n        expect(sendSpy.callCount).toBe(0);\n        expect(deleteSpy.callCount).toBe(0);\n    });\n\n    it(\"should retry messages from the DLQ\", async () => {\n        const awsMock = mockAws();\n        const stackOutputStub = sinon.stub(CloudFormationHelpers, \"getStackOutput\");\n        stackOutputStub.onFirstCall().resolves(\"queue-url\");\n        stackOutputStub.onSecondCall().resolves(\"dlq-url\");\n        const receiveStub = awsMock.mockService(\"SQS\", \"receiveMessage\");\n        // First call: 1 message is found\n        const sqsResponse: ReceiveMessageResult = {\n            Messages: [\n                {\n                    MessageId: \"abcd\",\n                    Body: \"sample body\",\n                    ReceiptHandle: \"abcd-handle\",\n                    Attributes: {},\n                    MessageAttributes: {},\n                },\n            ],\n        };\n        receiveStub.onFirstCall().resolves(sqsResponse);\n        // On next calls: no messages found\n        receiveStub.resolves({\n            Messages: [],\n        });\n        const sendResult: SendMessageBatchResult = {\n            Successful: [\n                {\n                    Id: \"abcd\",\n                    MessageId: \"abcd\",\n                    MD5OfMessageBody: \"\",\n                },\n            ],\n            Failed: [],\n        };\n        const sendSpy = awsMock.mockService(\"SQS\", \"sendMessageBatch\").resolves(sendResult);\n        const deleteResult: DeleteMessageBatchResult = {\n            Successful: [\n                {\n                    Id: \"abcd\",\n                },\n            ],\n            Failed: [],\n        };\n        const deleteSpy = awsMock.mockService(\"SQS\", \"deleteMessageBatch\").resolves(deleteResult);\n\n        await runServerless({\n            fixture: \"queues\",\n            configExt: pluginConfigExt,\n            command: \"emails:failed:retry\",\n        });\n\n        // The failed message should have been \"sent\" to the main queue\n        expect(sendSpy.callCount).toBe(1);\n        expect(sendSpy.firstCall.firstArg).toStrictEqual({\n            QueueUrl: \"queue-url\",\n            Entries: [\n                {\n                    Id: \"abcd\",\n                    MessageBody: \"sample body\",\n                    MessageAttributes: {},\n                },\n            ],\n        });\n        // The failed message should have been \"deleted\" from the dead letter queue\n        expect(deleteSpy.callCount).toBe(1);\n        expect(deleteSpy.firstCall.firstArg).toStrictEqual({\n            QueueUrl: \"dlq-url\",\n            Entries: [\n                {\n                    Id: \"abcd\",\n                    ReceiptHandle: \"abcd-handle\",\n                },\n            ],\n        });\n    });\n\n    it(\"should send a message to the queue\", async () => {\n        const awsMock = mockAws();\n        sinon.stub(CloudFormationHelpers, \"getStackOutput\").resolves(\"queue-url\");\n        const sendSpy = awsMock.mockService(\"SQS\", \"sendMessage\").resolves();\n\n        await runServerless({\n            fixture: \"queues\",\n            configExt: pluginConfigExt,\n            command: \"emails:send\",\n            options: {\n                body: \"Message body\",\n            },\n        });\n\n        expect(sendSpy.callCount).toBe(1);\n        expect(sendSpy.firstCall.firstArg).toStrictEqual({\n            QueueUrl: \"queue-url\",\n            MessageBody: \"Message body\",\n        });\n    });\n\n    it(\"should create FIFO queues\", async () => {\n        const { cfTemplate, computeLogicalId } = await runServerless({\n            fixture: \"queues\",\n            configExt: merge({}, pluginConfigExt, {\n                constructs: {\n                    emails: {\n                        fifo: true,\n                    },\n                },\n            }),\n            command: \"package\",\n        });\n        expect(cfTemplate.Resources[computeLogicalId(\"emails\", \"Queue\")].Properties).toMatchObject({\n            ContentBasedDeduplication: true,\n            FifoQueue: true,\n        });\n        expect(cfTemplate.Resources[computeLogicalId(\"emails\", \"Dlq\")].Properties).toMatchObject({\n            FifoQueue: true,\n        });\n        // The DLQ is meant to store failed messages. We probably don't want similar messages to be dropped automatically.\n        expect(cfTemplate.Resources[computeLogicalId(\"emails\", \"Dlq\")].Properties).not.toHaveProperty(\n            \"ContentBasedDeduplication\"\n        );\n    });\n\n    it(\"should send a message to a fifo queue\", async () => {\n        const awsMock = mockAws();\n        sinon.stub(CloudFormationHelpers, \"getStackOutput\").resolves(\"queue-url\");\n        const sendSpy = awsMock.mockService(\"SQS\", \"sendMessage\").resolves();\n\n        await runServerless({\n            fixture: \"queues\",\n            configExt: merge({}, pluginConfigExt, {\n                constructs: {\n                    emails: {\n                        fifo: true,\n                    },\n                },\n            }),\n            command: \"emails:send\",\n            options: {\n                body: \"Message body\",\n                \"group-id\": \"123\",\n            },\n        });\n\n        expect(sendSpy.callCount).toBe(1);\n        expect(sendSpy.firstCall.firstArg).toStrictEqual({\n            QueueUrl: \"queue-url\",\n            MessageGroupId: \"123\",\n            MessageBody: \"Message body\",\n        });\n    });\n\n    it(\"allows overriding queue properties\", async () => {\n        const { cfTemplate, computeLogicalId } = await runServerless({\n            fixture: \"queues\",\n            configExt: merge({}, pluginConfigExt, {\n                constructs: {\n                    emails: {\n                        extensions: {\n                            queue: {\n                                Properties: {\n                                    MaximumMessageSize: 1024,\n                                },\n                            },\n                            dlq: {\n                                Properties: {\n                                    MaximumMessageSize: 1024,\n                                },\n                            },\n                        },\n                    },\n                },\n            }),\n            command: \"package\",\n        });\n        expect(cfTemplate.Resources[computeLogicalId(\"emails\", \"Queue\")].Properties).toMatchObject({\n            MaximumMessageSize: 1024,\n        });\n        expect(cfTemplate.Resources[computeLogicalId(\"emails\", \"Dlq\")].Properties).toMatchObject({\n            MaximumMessageSize: 1024,\n        });\n    });\n\n    it(\"allows overriding alarm properties\", async () => {\n        const { cfTemplate, computeLogicalId } = await runServerless({\n            fixture: \"queues\",\n            configExt: merge({}, pluginConfigExt, {\n                constructs: {\n                    emails: {\n                        alarm: \"myemail@mycompany.com\",\n                        extensions: {\n                            alarm: {\n                                Properties: {\n                                    AlarmActions: [\"arn:aws:sns:region:account-id:sns-topic-name\"],\n                                },\n                            },\n                        },\n                    },\n                },\n            }),\n            command: \"package\",\n        });\n        expect(cfTemplate.Resources[computeLogicalId(\"emails\", \"Alarm\")].Properties).toMatchObject({\n            AlarmActions: [\"arn:aws:sns:region:account-id:sns-topic-name\"],\n        });\n    });\n\n    it(\"should throw if overriding alarm properties while no alarm is configured\", async () => {\n        expect.assertions(2);\n\n        try {\n            await runServerless({\n                fixture: \"queues\",\n                configExt: merge({}, pluginConfigExt, {\n                    constructs: {\n                        emails: {\n                            extensions: {\n                                alarm: {\n                                    Properties: {\n                                        AlarmActions: [\"arn:aws:sns:region:account-id:sns-topic-name\"],\n                                    },\n                                },\n                            },\n                        },\n                    },\n                }),\n                command: \"package\",\n            });\n        } catch (error) {\n            expect(error).toBeInstanceOf(ServerlessError);\n            expect(error).toHaveProperty(\n                \"message\",\n                \"There is no extension 'alarm' available on this construct. Available extensions are: queue, dlq.\"\n            );\n        }\n    });\n});\n"],
  "mappings": "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",
  "names": ["ServerlessError"]
}
